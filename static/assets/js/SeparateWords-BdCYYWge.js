import{a,j as e}from"./react-DbtEuUu-.js";import{C as k}from"./react-csv-BnTPr6Ko.js";import{c as v}from"./manageUserAddedWords-CvWPK1tJ.js";import{u as D}from"./index-CEl_erPN.js";import{P as F,T as f,a as h,g as q,x as P,G as B,k as L,w as R}from"./@mui-Q8RKV1MB.js";import"./prop-types-Bw6xMO8O.js";import"./react-dom-DcXkIZDy.js";import"./scheduler-CWG1rEj-.js";import"./jspdf-DEnQ8Zhn.js";import"./@babel-BUfJX6lK.js";import"./fflate-B2WnmEVw.js";import"./fast-png-RHEe-ix0.js";import"./iobuffer-BmLRrqXH.js";import"./pako-n3Pgozwg.js";import"./react-router-dom-Cm8LtOuy.js";import"./react-router-ChRMN3_C.js";import"./@remix-run-sy-dwM7X.js";import"./axios-C0Zqfgkc.js";import"./clsx-B-dksMZM.js";import"./reselect-HBGHfvfV.js";import"./react-is-Rj29YxKv.js";import"./@emotion-CK8GFU5m.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./stylis-YG1R7XFf.js";import"./@popperjs-DC5wud4b.js";import"./react-transition-group-DV1q_uKQ.js";const ie=()=>{const[i,y]=a.useState([]),[c,p]=a.useState(null),[d,u]=a.useState(!1),[x,r]=a.useState(!1),[b,n]=a.useState(""),{language:t}=D(),s={en:{title:"Separate Typical Words",fileUploadLabel:"Upload a file",processButton:"Process",exportCSV:"Export to CSV",word:"Word",frequency:"Frequency",successMessage:"Data processed successfully.",errorMessage:"Error processing the file.",selectFileMessage:"Please select a file to process.",noDataMessage:"No data available for export.",noRowsMessage:"No data to display.",searchPlaceholder:"Search…"},kn:{title:"ಸಾಮಾನ್ಯ ಶಬ್ದಗಳನ್ನು ವಿಭಜಿತಗೊಳಿಸಿ",fileUploadLabel:"ಕಡತವನ್ನು ಆಯ್ದು ಸಲ್ಲಿಸಿ",processButton:"ಸಲ್ಲಿಸಿ",exportCSV:"CSVಗೆ ರಫ್ತು",word:"ಶಬ್ದ",frequency:"ಆವೃತ್ತಿ",successMessage:"ದತ್ತಾಂಶವು ಯಶಸ್ವಿಯಾಗಿ ಸಂಸ್ಕರಿಸಲಾಯಿತು.",errorMessage:"ಕೋಶವಿಲ್ಲದ ಫೈಲ್.",selectFileMessage:"ದಯವಿಟ್ಟು ಪ್ರಕ್ರಿಯೆಗೋಸ್ಕರ ಫೈಲ್ ಅನ್ನು ಆಯ್ಕೆ ಮಾಡಿ.",noDataMessage:"ರಫ್ತುಗೋಸ್ಕರ ಯಾವುದೇ ಡೇಟಾ ಲಭ್ಯವಿಲ್ಲ.",noRowsMessage:"ತೋರಿಸಲು ಯಾವುದೇ ಡೇಟಾ ಲಭ್ಯವಿಲ್ಲ.",searchPlaceholder:"ಶೋಧಿಸಿ…"}},S=[{field:"word",headerName:s[t].word,width:250},{field:"frequency",headerName:s[t].frequency,width:150}],w=o=>p(o.target.files[0]),C=async()=>{if(!c){n(s[t].selectFileMessage),r(!0);return}u(!0);try{const o=await v(c),l=Object.keys(o).map((g,j)=>({id:j+1,word:g,frequency:o[g]}));y(l),n(s[t].successMessage),r(!0)}catch(o){console.error(o),n(s[t].errorMessage),r(!0)}finally{u(!1),p(null)}},m=()=>r(!1),M=i.map((o,l)=>({index:l+1,word:o.word,frequency:o.frequency}));return e.jsxs(F,{elevation:3,style:{padding:20,margin:20,marginBottom:100},children:[e.jsx(f,{variant:"h5",align:"center",gutterBottom:!0,children:s[t].title}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",marginBottom:20},children:[e.jsx("input",{type:"file",accept:".txt,.docx",onChange:w}),e.jsx(h,{variant:"contained",color:"primary",onClick:C,disabled:d,style:{marginLeft:10},children:d?e.jsx(q,{size:24,color:"inherit"}):s[t].processButton})]}),e.jsx(f,{variant:"body2",align:"center",style:{marginBottom:20},children:s[t].fileUploadLabel}),e.jsx("div",{style:{textAlign:"center",marginBottom:20},children:e.jsx(k,{data:M,filename:"words_frequency.csv",style:{textDecoration:"none"},onClick:()=>{i.length||(n(s[t].noDataMessage),r(!0))},children:e.jsx(h,{variant:"contained",color:"secondary",disabled:!i.length,children:s[t].exportCSV})})}),e.jsx("div",{style:{height:500,width:"100%"},children:e.jsx(P,{rows:i,columns:S,pageSizeOptions:[5,10,25,50],initialState:{pagination:{paginationModel:{pageSize:10}}},disableRowSelectionOnClick:!0,slots:{toolbar:B},slotProps:{toolbar:{showQuickFilter:!0,quickFilterProps:{debounceMs:300}}},localeText:{noRowsLabel:s[t].noRowsMessage,toolbarDensity:"Density",toolbarColumns:"Columns",toolbarExport:"Export",toolbarFilters:"Filters",toolbarSearch:s[t].searchPlaceholder}})}),e.jsx(L,{open:x,autoHideDuration:6e3,onClose:m,children:e.jsx(R,{onClose:m,severity:"info",sx:{width:"100%"},children:b})})]})};export{ie as default};
