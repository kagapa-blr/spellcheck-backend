import{r as o,j as e,a as ge}from"./react-87inLI7G.js";import{c as Te}from"./react-dom-CosTHhxT.js";import{L as Fe,H as Ue}from"./react-router-dom-B2CxWi0d.js";import{R as Pe}from"./react-quill-new-P7oPFw6w.js";import{a as Ie}from"./axios-CCb-kr4I.js";import{Q as de}from"./quill-CZy4Qc3w.js";import{b as fe,a as z,O as Me,d as ye,e as Re,f as P}from"./react-router-Dmqo_v03.js";import{I as Y,C as be,M as je,B as N,H as ce,E as se,a as ue,b as me,A as he,c as Be,d as M,D as ne,e as Le,P as we,T as O,f as qe,g as re,h as V,i as Oe,j as oe,S as ve,k as Ne,l as _e,m as ze,n as He,o as X,p as Z,q as Ge,r as $e,L as Ke}from"./@mui-DHuKdADx.js";import{l as Ve}from"./mammoth-C9NdgNHr.js";import{j as Ye}from"./jwt-decode-VWaDGczM.js";import{r as ee}from"./react-table-Dma02od8.js";import{C as Je}from"./react-csv-CQ7_wXVR.js";import"./@xmldom-DBEIMRBk.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-6JyqD-Ks.js";import"./lodash-BOf1oiLx.js";import"./parchment-Crftfyop.js";import"./quill-delta-D6FENnLs.js";import"./fast-diff-Az_-rVRq.js";import"./lodash.clonedeep-Dbfj2Hht.js";import"./lodash.isequal-KULglXUe.js";import"./eventemitter3-DJ6nYskT.js";import"./lodash-es-BKPNmaDy.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-D5W7hg8W.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-CJLDkAA4.js";import"./underscore-b--1-EUR.js";import"./base64-js-D0UyVEDn.js";import"./jszip-BmYNtbIh.js";import"./xmlbuilder-MWHHUJUD.js";import"./dingbat-to-unicode-Cm9PDbSb.js";import"./lop-DvYkyT-y.js";import"./option-Dhni4At5.js";import"./prop-types-BKNjMPK8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))p(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&p(g)}).observe(document,{childList:!0,subtree:!0});function r(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(l){if(l.ep)return;l.ep=!0;const n=r(l);fetch(l.href,n)}})();const Qe="http://127.0.0.1:8000",A=Ie.create({baseURL:Qe,headers:{"Content-Type":"application/json"}});A.interceptors.request.use(s=>{const t=localStorage.getItem("access_token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));const le={checkWord:"bloom/api/v1/check_word",getSuggestions:"/symspell/api/v1/suggestions/",addWord:"/user-added/api/v1/user-added-words/"},Xe=async s=>{try{return(await A.post(le.checkWord,{word:s})).data}catch(t){return console.error("Error checking word correctness:",t),{status:!1}}},Ze=async s=>{try{return(await A.post(le.getSuggestions,{word:s})).data.suggestions}catch(t){return console.error("Error fetching word suggestions:",t),[]}},et=async s=>{try{return(await A.post(le.addWord,{word:s})).data}catch(t){console.log("Error while calling Api",t);return}},tt=async s=>{try{const t=new FormData;return t.append("file",s),(await A.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){return console.error("Error fetching wrong words:",t),[]}},ae={correctness:{},suggestions:{}},st=(s,t,r=[])=>{ae.correctness[s]=t,ae.suggestions[s]=r},rt=s=>ae.suggestions[s]||[],Ce=o.createContext(),ke=()=>{const s=o.useContext(Ce);if(!s)throw new Error("useWrongWords must be used within a WrongWordsProvider");return s},ot=({children:s})=>{const[t,r]=o.useState([]),p=()=>{r([])},l=()=>t;return o.useEffect(()=>{t.length>0},[t]),e.jsx(Ce.Provider,{value:{wrongWords:t,setWrongWords:r,clearWrongWords:p,getWrongWords:l},children:s})},at=s=>{},nt=async s=>{},lt=async s=>{},it=()=>{var ie;const t=((ie=fe().state)==null?void 0:ie.uploadedContent)||"",[r,p]=o.useState(t),[l,n]=o.useState([]),[g,h]=o.useState({}),[a,d]=o.useState(null),[c,i]=o.useState({}),[u,f]=o.useState(""),[j,m]=o.useState(!1),x=o.useRef(null),C=`!@#$%^&*()_+[]{}|;:',.<>/?~-=\\"`,{wrongWords:F}=ke(),k=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px"],R=de.import("attributors/style/size");R.whitelist=k,de.register(R,!0);const b={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image","video","formula"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:k}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]};o.useEffect(()=>{if(F.length>0){const y=F.filter(v=>!l.includes(v));y.forEach(v=>T(v)),n(v=>[...v,...y])}},[F]),o.useEffect(()=>{var v;const y=(v=x.current)==null?void 0:v.getEditor();if(y.format("size","16px"),y){const w=async W=>{if(W&&W.length===0){const L=y.getText(),U=_(L,W.index);if(U)if(l.includes(U)){let B=rt(U);if(console.log("Cached Suggestions for:",U,B),B.length===0)try{B=await Ze(U),console.log("Fetched Suggestions:",B),st(U,!1,B)}catch(Q){console.error("Error fetching suggestions:",Q)}d(U),h(Q=>({...Q,[U]:B}));const $=y.getBounds(W.index);i({top:$.top+$.height+10,left:$.left})}else d(null)}};return y.on("selection-change",w),()=>{y.off("selection-change",w)}}},[l]);const _=(y,v)=>{let w=v,W=v;for(;w>0&&!/\s/.test(y[w-1])&&!C.includes(y[w-1]);)w--;for(;W<y.length&&!/\s/.test(y[W])&&!C.includes(y[W]);)W++;return y.substring(w,W)},H=y=>{p(y)},E=async y=>{if(y.key===" "){const v=x.current.getEditor(),w=v.getSelection();if(w){const L=v.getText(0,w.index).trim().split(/\s+/);let U=L[L.length-1].split("").filter(B=>!C.includes(B)).join("");U&&!/^[a-zA-Z]+$/.test(U)&&!l.includes(U)&&((await Xe(U)).status||(n($=>[...$,U]),T(U)))}}},T=y=>{const v=x.current.getEditor(),w=v.getText().indexOf(y);w!==-1&&v.formatText(w,y.length,{underline:!0,color:"red",bold:!0})},D=y=>{const v=x.current.getEditor(),w=v.getText().indexOf(a);w!==-1&&(v.formatText(w,a.length,{underline:!1,color:""}),v.deleteText(w,a.length),v.insertText(w,y),v.setSelection(w+y.length,0),n(l.filter(W=>W!==a)),d(null))},S=async()=>{if(a)try{const y=await et(a);if(y){const v=x.current.getEditor(),w=v.getText();let W=w.indexOf(a);if(W!==-1)for(;W!==-1;)v.formatText(W,a.length,{underline:!1,color:""}),W=w.indexOf(a,W+a.length);n(l.filter(L=>L!==a)),d(null),console.log(y)}else console.error("Failed to add the word to the dictionary.")}catch(y){console.error("Error adding word to dictionary:",y)}},G=()=>{a&&(console.log("replace all called"),m(!0))},Ee=()=>{const y=x.current.getEditor(),v=y.getText();let w=0;for(;(w=v.indexOf(a,w))!==-1;)y.deleteText(w,a.length),y.insertText(w,u),w+=u.length;m(!1),d(null),f("")},Ae=()=>{var W;const y=(W=x.current)==null?void 0:W.getEditor(),v=y.getText();let w=v.indexOf(a);if(w!==-1)for(;w!==-1;)y.formatText(w,a.length,{underline:!1,color:""}),w=v.indexOf(a,w+a.length);d(null),n(l.filter(L=>L!==a))};return e.jsx("div",{className:"flex justify-center min-h-screen bg-gray-100 p-4",children:e.jsxs("div",{className:"w-full max-w-full mt-4 bg-white rounded-lg shadow-md p-4",children:[" ",e.jsxs("div",{className:"flex justify-end space-x-4 mb-4",children:[e.jsx("button",{onClick:()=>at(),className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Download as .txt"}),e.jsx("button",{onClick:()=>nt(),className:"bg-green-500 text-white px-4 py-2 rounded",children:"Download as .docx"}),e.jsx("button",{onClick:()=>lt(),className:"bg-red-500 text-white px-4 py-2 rounded",children:"Download as .pdf"})]}),e.jsx(Pe,{ref:x,value:r,onChange:H,onKeyDown:E,modules:b,className:"",style:{height:"500px",minHeight:"400px",width:"100%"}}),j&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 p-4 rounded shadow-lg w-11/12 max-w-sm mx-auto",children:[" ",e.jsxs("h5",{className:"mb-2",children:["Replace ",a," with:"]}),e.jsx("input",{type:"text",value:u,onChange:y=>f(y.target.value),className:"border border-gray-300 p-2 rounded w-full",placeholder:"Replacement word"}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx("button",{onClick:Ee,className:"bg-blue-500 text-white px-4 py-2 rounded mr-2",children:"Replace All"}),e.jsx("button",{onClick:()=>m(!1),className:"bg-gray-300 px-4 py-2 rounded",children:"Cancel"})]})]})}),a&&g[a]&&e.jsxs("div",{className:"absolute bg-white border border-red-400 p-3 mt-2 rounded shadow-lg z-40",style:{top:c.top+50,left:c.left,minWidth:"150px"},children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("strong",{className:"text-green-700",children:a}),e.jsx("span",{className:"cursor-pointer text-red-600 hover:bg-gray-600 text-3xl",onClick:()=>d(null),"aria-label":"Close",children:"×"})]}),e.jsxs("div",{className:"mt-2 space-y-2",children:[g[a].length>0?g[a].map((y,v)=>e.jsxs("div",{children:[" ",e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:()=>D(y),children:y}),v<g[a].length-1&&e.jsx("hr",{className:"my-2 border-t border-gray-300"})]},y)):e.jsx("div",{className:"text-gray-500",children:"No suggestions available."}),e.jsx("hr",{className:"my-2 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:S,children:"Add to Dictionary"}),e.jsx("hr",{className:"my-2 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:G,children:"Replace All"}),e.jsx("hr",{className:"my-2 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:Ae,children:"Ignore All"})]})]})]})})},Se=o.createContext(),dt=({children:s})=>{const[t,r]=o.useState("kn"),p=l=>{r(l)};return e.jsx(Se.Provider,{value:{language:t,handleLanguageChange:p},children:s})},I=()=>o.useContext(Se),ct=()=>{const s=z(),{language:t,handleLanguageChange:r}=I(),[p,l]=o.useState(!1),n={en:{home:"Home",goToEditor:"Go to Editor",about:"About",contact:"Contact",title:"Spellcheck App",userGuide:"User Guide",admin:"Administrator",english:"English",kannada:"ಕನ್ನಡ",userGuidePDF:"/static/guide/user-guide-en.pdf"},kn:{home:"ಮುಖಪುಟ",goToEditor:"ಪಠ್ಯ ಸಂಪಾದಕ‌",about:"ಬಗ್ಗೆ",contact:"ಸಂಪರ್ಕ",title:"ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನ",userGuide:"ಬಳಕೆದಾರ ಕೈಪಿಡಿ",admin:"ನಿರ್ವಾಹಕರ ಪುಟ",english:"English",kannada:"ಕನ್ನಡ",userGuidePDF:"/static/guide/user-guide-kn.pdf"}},g=()=>{l(a=>!a)},h=a=>{s(a),l(!1)};return e.jsxs("nav",{className:"p-2 fixed w-full z-50",style:{top:0,backgroundColor:"#0D5B65"},children:[e.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"text-white text-lg font-bold",children:n[t].title}),e.jsx("div",{className:"md:hidden",children:e.jsx(Y,{onClick:g,color:"inherit",children:p?e.jsx(be,{}):e.jsx(je,{})})}),e.jsxs("div",{className:"hidden md:flex space-x-4",children:[e.jsxs(N,{onClick:()=>h("/"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(ce,{className:"mr-1"})," ",n[t].home]}),e.jsxs(N,{onClick:()=>h("/editor"),className:"text-white hover:bg-slate-400 hover:text-white no-underline",children:[e.jsx(se,{className:"mr-1"})," ",n[t].goToEditor]}),e.jsxs(N,{onClick:()=>h("/about"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(ue,{className:"mr-1"})," ",n[t].about]}),e.jsxs(N,{onClick:()=>window.open(n[t].userGuidePDF,"_blank"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(me,{className:"mr-1"})," ",n[t].userGuide]}),e.jsxs(N,{onClick:()=>h("/admin/dashboard"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(he,{className:"mr-1"})," ",n[t].admin]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx(N,{onClick:()=>r("en"),className:`text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded ${t==="en"?"bg-gray-700":""} no-underline`,children:n[t].english}),e.jsx(N,{onClick:()=>r("kn"),className:`text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded ${t==="kn"?"bg-gray-700":""} no-underline`,children:n[t].kannada}),e.jsxs(N,{onClick:()=>h("/contact"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(Be,{className:"mr-1"})," ",n[t].contact]})]})]}),p&&e.jsxs(M,{className:"md:hidden mt-5 bg-gray-800 rounded p-4",children:[e.jsx(ne,{}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs(N,{onClick:()=>h("/"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(ce,{className:"mr-1"})," ",n[t].home]}),e.jsxs(N,{onClick:()=>h("/editor"),className:"text-white hover:bg-slate-400 hover:text-white no-underline",children:[e.jsx(se,{className:"mr-1"})," ",n[t].goToEditor]}),e.jsxs(N,{onClick:()=>h("/about"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(ue,{className:"mr-1"})," ",n[t].about]}),e.jsxs(N,{onClick:()=>window.open(n[t].userGuidePDF,"_blank"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(me,{className:"mr-1"})," ",n[t].userGuide]}),e.jsxs(N,{onClick:()=>h("/admin"),className:"text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded flex items-center no-underline",children:[e.jsx(he,{className:"mr-1"}),n[t].admin]}),e.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-2",children:[e.jsx(N,{onClick:()=>r("en"),className:`text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded ${t==="en"?"bg-gray-700":""} no-underline`,children:n[t].english}),e.jsx(N,{onClick:()=>r("kn"),className:`text-white hover:bg-slate-400 hover:text-white px-3 py-2 rounded ${t==="kn"?"bg-gray-700":""} no-underline`,children:n[t].kannada})]})]})]})]})},ut=()=>e.jsx("footer",{className:"bg-gray-800 text-white py-4",children:e.jsx("div",{className:"container mx-auto text-center px-4",children:e.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," ",e.jsx("a",{href:"https://kagapa.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"kagapa.com"}),". All rights reserved."]})})}),mt=(s,t)=>{let r;return(...p)=>{clearTimeout(r),r=setTimeout(()=>{s(...p)},t)}},ht=({isOpen:s,onClose:t,onSubmit:r,isLoading:p})=>{const[l,n]=o.useState(null),[g,h]=o.useState(""),{language:a}=I(),{setWrongWords:d}=ke(),c={en:{title:"Upload a File",dragDropText:"Drag and drop a file here or click to upload.",submit:"Submit",cancel:"Cancel",error:"Please select a file to upload."},kn:{title:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡಿ",dragDropText:"ಇಲ್ಲಿಗೆ ಫೈಲ್ ಅನ್ನು ತೆಗೆಯಿರಿ ಅಥವಾ ಅಪ್ಲೋಡ್ ಮಾಡಲು ಕ್ಲಿಕ್ ಮಾಡಿ.",submit:"ಕಳುಹಿಸಿ",cancel:"ರದ್ದು ಮಾಡಿ",error:"ದಯವಿಟ್ಟು ಅಪ್ಲೋಡ್ ಮಾಡಲು ಫೈಲ್ ಆಯ್ಕೆಮಾಡಿ."}},i=x=>{n(x.target.files[0]),h("")},u=x=>{x.preventDefault();const C=x.dataTransfer.files[0];C&&(n(C),h(""))},f=x=>{x.preventDefault()},j=o.useCallback(mt(async x=>{try{const C=await tt(x);C.wrong_words&&Array.isArray(C.wrong_words)?d(C.wrong_words):console.error("No wrong words found in response:",C)}catch(C){console.error("Error fetching wrong words:",C)}},300),[d]),m=async()=>{if(!l){h(c[a].error);return}await j(l),r(l),t()};return s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg w-11/12 max-w-lg p-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4",children:c[a].title}),e.jsxs("div",{className:"border-2 border-dashed border-gray-400 p-6 mb-4 cursor-pointer hover:border-blue-500 transition duration-200",onDrop:u,onDragOver:f,onClick:()=>document.getElementById("fileInput").click(),children:[l?e.jsx("p",{className:"text-lg font-medium text-gray-700",children:l.name}):e.jsx("p",{className:"text-lg text-gray-500",children:c[a].dragDropText}),e.jsx("input",{type:"file",accept:".txt,.docx",onChange:i,className:"hidden",id:"fileInput"})]}),g&&e.jsx("p",{className:"text-red-600 mb-4",children:g})," ",e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-6 py-2 rounded-md shadow hover:bg-blue-700 transition duration-200 mr-2",disabled:p,children:p?"Submitting...":c[a].submit}),e.jsx("button",{onClick:t,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-md shadow hover:bg-gray-400 transition duration-200",children:c[a].cancel})]})]})})},xt=()=>e.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-700 bg-opacity-75 z-50",children:[e.jsx("img",{src:"/assets/images/loading.gif",alt:"ದಯವಿಟ್ಟು ನಿರೀಕ್ಷಿಸಿ......",className:"w-24 h-24 md:w-32 md:h-32"}),e.jsx("p",{className:"mt-4 text-white text-xl md:text-2xl font-bold text-center",children:"ದಯವಿಟ್ಟು ನಿರೀಕ್ಷಿಸಿ......"})]}),pt=()=>{const s=z(),{language:t}=I(),[r,p]=o.useState(!1),[l,n]=o.useState(!1),g={en:{welcome:"Welcome to the Spellcheck Application",description:"Enhance your writing with our powerful spell checker.",button:"Go to Editor",upload:"Upload a File",fileInfo:["Maximum File Size: 5MB","Maximum Words: 1 Lakh","File Type: .txt or .docx"]},kn:{welcome:"ಕಾಗುಣಿತ ಪರೀಕ್ಷಕ - ಕನ್ನಡ ಭಾಷೆ",description:"ನಮ್ಮ ಶಕ್ತಿಶಾಲಿ ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನ ಪರಿಶೋಧಕದೊಂದಿಗೆ ನಿಮ್ಮ ಬರಹವನ್ನು ಉತ್ತಮಗೊಳಿಸಿ.",button:"ಪಠ್ಯ ಸಂಪಾದಕ/ ಟೆಕ್ಸ್ಟ್‌ ಎಡಿಟರ್‌",upload:"ಕಾಗುಣಿತ ಸಲ್ಲಿಸಿ",fileInfo:["ಕಡತದ ಗಾತ್ರ ಗರಿಷ್ಠ: 5MB","ಪದಗಳ ಮಿತಿ ಗರಿಷ್ಠ: 1 ಲಕ್ಷ","ಕಡತ ಮಾದರಿ: .txt ಅಥವಾ .docx"]}},h=async a=>{n(!0);let d="";if(a.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")try{const c=await a.arrayBuffer(),{value:i}=await Ve.convertToHtml({arrayBuffer:c});d=i}catch(c){console.error("Error reading .docx file:",c)}else a.type==="text/plain"&&(d=await a.text());n(!1),s("/editor",{state:{uploadedContent:d}})};return e.jsxs(Le,{maxWidth:"full-width",className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-red-100 to-yellow-400 p-4",children:[e.jsx(we,{elevation:3,className:"p-8 rounded-lg shadow-lg bg-white w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(O,{variant:"h3",className:"font-bold mb-4",color:"primary",children:g[t].welcome}),e.jsx(O,{variant:"body1",className:"mb-4",children:g[t].description}),e.jsx("div",{className:"mb-4 text-sm text-gray-700",children:g[t].fileInfo.map((a,d)=>e.jsx("div",{children:a},d))}),e.jsxs(M,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"center",alignItems:"center",gap:2,children:[e.jsx(N,{variant:"contained",color:"primary",onClick:()=>p(!0),size:"large",sx:{"&:hover":{backgroundColor:"blue.700"}},children:g[t].upload}),e.jsx(N,{variant:"outlined",color:"primary",onClick:()=>s("/editor"),size:"large",sx:{"&:hover":{backgroundColor:"blue.200",borderColor:"blue.600"}},children:g[t].button})]})]})}),e.jsx(ht,{isOpen:r,onClose:()=>p(!1),onSubmit:h,isLoading:l}),l&&e.jsx(xt,{})]})},gt=()=>{const s=z(),{language:t}=I(),r={en:{welcome:"Welcome to the E-Kannada Spell Checker",description:"In response to the need for a technical tool to correct spelling errors in the Kannada language, the E-Kannada project, initiated by the Department of Personnel and Administrative Reforms (e-Governance), has developed a comprehensive Kannada spell-checking tool. This application effectively identifies and corrects spelling errors in Kannada, aiding users in creating error-free text. By streamlining the process of text correction, this tool significantly reduces the time and effort required for manual editing.",button:"Go to Editor"},kn:{welcome:"ಇ-ಕನ್ನಡ ಕಾಗುಣಿತ ಪರಿಶೀಲಕರಲ್ಲಿ ನಿಮ್ಮನ್ನು ಸ್ವಾಗತಿಸುತ್ತೇವೆ",description:"ಕನ್ನಡದಲ್ಲಿ ಕಾಗುಣಿತ ದೋಷಗಳನ್ನು ಸರಿಪಡಿಸಲು ತಾಂತ್ರಿಕ ಸಾಧನದ ಅಗತ್ಯವನ್ನು ಮನಗಂಡು, ಸಿಬ್ಬಂದಿ ಮತ್ತು ಆಡಳಿತ ಸುಧಾರಣೆ ಇಲಾಖೆಯ ಇ-ಆಡಳಿತ ಯೋಜನೆಯು ಕನ್ನಡ ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನವನ್ನು ಅಭಿವೃದ್ಧಿಪಡಿಸಿದೆ. ಈ ತಂತ್ರಾಂಶವು ಕನ್ನಡ ಪಠ್ಯದಲ್ಲಿ ಕಾಗುಣಿತ ದೋಷಗಳನ್ನು ಗುರುತಿಸಿ, ಅವುಗಳನ್ನು ಸರಿಪಡಿಸಲು ನೆರವಾಗುತ್ತದೆ, ದೋಷ ಮುಕ್ತ ಪಠ್ಯವನ್ನು ಸಿದ್ಧಪಡಿಸಲು ಬಳಕೆದಾರರಿಗೆ ಸಹಾಯ ಮಾಡುತ್ತದೆ. ಈ ಸಾಧನವು ಹಸ್ತಚಾಲಿತವಾಗಿ ಕನ್ನಡ ಪಠ್ಯವನ್ನು ಪರಿಷ್ಕರಣೆ ಮಾಡಲು ಅಗತ್ಯವಿರುವ ಸಮಯ ಮತ್ತು ಪರಿಶ್ರಮವನ್ನು ಸಂಪೂರ್ಣವಾಗಿ ಕಡಿಮೆ ಮಾಡುತ್ತದೆ.",button:"ಸಂಪಾದಕಕ್ಕೆ ಹೋಗಿ"}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 px-4 sm:px-6 lg:px-8 mt-10",children:e.jsxs("div",{className:"text-center max-w-6xl w-full bg-white border border-gray-300 p-8 rounded-lg shadow-lg min-h-[600px]",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",children:r[t].welcome}),e.jsx("p",{className:"mb-6 text-sm sm:text-base",children:r[t].description}),e.jsx("button",{className:"bg-blue-600 text-white rounded px-4 py-2 transition duration-300 hover:bg-blue-700",style:{marginTop:"100px"},onClick:()=>s("/editor"),children:r[t].button})]})})},ft=({isOpen:s,onClose:t,language:r})=>{const[p,l]=o.useState(""),[n,g]=o.useState(""),[h,a]=o.useState(""),[d,c]=o.useState(""),[i,u]=o.useState(""),f={en:{title:"Sign Up",username:"Username",email:"Email",phone:"Phone",password:"Password",confirmPassword:"Confirm Password",success:"Signup successful!",mismatch:"Passwords do not match",close:"Close"},kn:{title:"ನೋಂದಣಿ",username:"ಬಳಕೆದಾರ ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",password:"ಪಾಸ್ವರ್ಡ್",confirmPassword:"ಪಾಸ್ವರ್ಡ್ ದೃಢೀಕರಿಸಿ",success:"ನೋಂದಣಿ ಯಶಸ್ವಿ!",mismatch:"ಪಾಸ್ವರ್ಡ್ ಹೊಂದಿಲ್ಲ",close:"ಮುಚ್ಚಿ"}},j=m=>{m.preventDefault(),d===i?(console.log("User Data:",JSON.stringify({username:p,email:n,phone:h,password:d})),alert(f[r].success),t()):alert(f[r].mismatch)};return s?e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full max-w-xl h-auto overflow-y-auto",style:{maxHeight:"85vh"},children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:f[r].title}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:f[r].username}),e.jsx("input",{type:"text",id:"username",value:p,onChange:m=>l(m.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"email",children:f[r].email}),e.jsx("input",{type:"email",id:"email",value:n,onChange:m=>g(m.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"phone",children:f[r].phone}),e.jsx("input",{type:"text",id:"phone",value:h,onChange:m=>a(m.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:f[r].password}),e.jsx("input",{type:"password",id:"password",value:d,onChange:m=>c(m.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"confirmPassword",children:f[r].confirmPassword}),e.jsx("input",{type:"password",id:"confirmPassword",value:i,onChange:m=>u(m.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:f[r].title})]}),e.jsx("button",{onClick:t,className:"mt-4 text-blue-600 hover:underline",children:f[r].close})]})}):null},De={loginApi:"/user/api/v1/login",signUpApi:"/user/api/v1/signup"},yt=async(s,t)=>{try{const r=await A.post(De.loginApi,{username:s,password:t}),{access_token:p,token_type:l}=r.data,g=Ye(p).sub;return{access_token:p,token_type:l,logged_user:g}}catch(r){throw r.response?new Error(r.response.data.message||"Login failed"):r.request?new Error("No response from server"):new Error("Error during login: "+r.message)}},bt=async s=>{try{return(await A.post(De.signUpApi,s)).data}catch(t){throw t.response?new Error(t.response.data.message||"Signup failed"):t.request?new Error("No response from server"):new Error("Error during signup: "+t.message)}},We=o.createContext(),jt=({children:s})=>{const[t,r]=o.useState(!1),[p,l]=o.useState(()=>localStorage.getItem("logged_user")||""),[n,g]=o.useState(!0);o.useEffect(()=>{(async()=>{const i=localStorage.getItem("access_token");if(i)try{g(!0),(await A.get("/admin/validate",{headers:{Authorization:`Bearer ${i}`}})).status===200?r(!0):h()}catch(u){console.error("Token validation failed:",u.message),h()}g(!1)})()},[]);const h=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("logged_user"),r(!1),l("")},a=(c,i)=>{localStorage.setItem("access_token",c),localStorage.setItem("logged_user",i),r(!0),l(i)},d=()=>{h()};return e.jsx(We.Provider,{value:{isAuthenticated:t,loggedUser:p,login:a,logout:d,loading:n},children:s})},K=()=>o.useContext(We),wt=()=>{const[s,t]=o.useState(""),[r,p]=o.useState(""),[l,n]=o.useState(!1),[g,h]=o.useState(""),a=z(),{language:d,handleLanguageChange:c}=I(),{login:i}=K(),u={en:{title:"Admin Login",username:"Username",password:"Password",login:"Login",switchToSignup:"Don't have an account? Sign Up",invalidCredentials:"Invalid username or password.",emptyFields:"Please fill in both fields."},kn:{title:"ನಿರ್ವಾಹಕರ ಲಾಗಿನ್",username:"ಬಳಕೆದಾರರ ಹೆಸರು",password:"ಪಾಸ್ವರ್ಡ್",login:"ಲಾಗಿನ್",switchToSignup:"ಖಾತೆ ಇಲ್ಲವೇ? ನೋಂದಾಯಿಸಿ",invalidCredentials:"ಅಮಾನ್ಯ ಬಳಕೆದಾರರ ಹೆಸರು ಅಥವಾ ಪಾಸ್ವರ್ಡ್.",emptyFields:"ದಯವಿಟ್ಟು ಇಬ್ಬರು ಕ್ಷೇತ್ರಗಳನ್ನು ತುಂಬಿ."}},f=async j=>{var m,x;if(j.preventDefault(),h(""),!s||!r){h(u[d].emptyFields);return}try{const{access_token:C,token_type:F,logged_user:k}=await yt(s,r);localStorage.setItem("access_token",C),localStorage.setItem("token_type",F),i(C,k),a("/admin/dashboard")}catch(C){const F=((x=(m=C.response)==null?void 0:m.data)==null?void 0:x.message)||u[d].invalidCredentials;h(F)}};return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",children:[e.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-10",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold mb-2 text-center",children:u[d].title}),g&&e.jsx("div",{className:"mb-4 text-red-600 font-bold text-center",children:g}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:u[d].username}),e.jsx("input",{type:"text",id:"username",value:s,onChange:j=>t(j.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:u[d].password}),e.jsx("input",{type:"password",id:"password",value:r,onChange:j=>p(j.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-3 rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-500",children:u[d].login})]}),e.jsxs("p",{className:"mt-4 text-center",children:[u[d].switchToSignup,e.jsx("button",{onClick:()=>n(!0),className:"text-blue-600 hover:underline ml-1",children:"Sign Up"})]}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>c("en"),className:`px-3 py-1 rounded ${d==="en"?"bg-gray-700 text-white":"text-gray-700"}`,children:"English"}),e.jsx("button",{onClick:()=>c("kn"),className:`px-3 py-1 rounded ${d==="kn"?"bg-gray-700 text-white":"text-gray-700"}`,children:"ಕನ್ನಡ"})]})]}),e.jsx(ft,{isOpen:l,onClose:()=>n(!1),language:d})]})},q={getAllUserAddedWords:"/user-added/api/v1/user-added-words/",saveWordsToMainDictionary:"/dictionary/api/v1/add-words/",removeUserAddedWords:"/user-added/api/v1/user-added-words/remove/",getAllUsers:"/user/api/v1/info",deleteUser:"/user/api/v1/delete-user/",updateUser:"/user/api/v1/update-user",updateDictionary:"/dictionary/api/v1/update/batch",separateWordFrequency:"/word-frequency/data"},te=async()=>{try{return(await A.get(q.getAllUserAddedWords)).data}catch(s){throw console.error("Failed to get user added words:",s),s}},vt=async(s,t)=>{try{const r={words:s.map(l=>({word:l.word,frequency:l.frequency})),added_by_username:t||void 0};return(await A.post(q.saveWordsToMainDictionary,r)).data}catch(r){throw console.error("Failed to save words to main dictionary:",r),r}},xe=async s=>{try{const t={words:s};return(await A.delete(q.removeUserAddedWords,{data:t})).data}catch(t){throw console.error("Failed to remove user added words:",t),t}},Nt=async()=>{try{return(await A.get(q.getAllUsers)).data}catch(s){throw console.error("Failed to get all users:",s),s}},Ct=async s=>{try{return(await A.delete(`${q.deleteUser}${s}`)).data}catch(t){throw console.error("Failed to delete user:",t),t}},kt=async(s,t)=>{try{const r={email:t.email,phone:t.phone,password:t.password};return(await A.put(`${q.updateUser}/${s}`,r)).data}catch(r){throw console.error("Failed to update user:",r),r}},St=async s=>{try{const t=new FormData;return t.append("file",s),(await A.post(q.updateDictionary,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Failed to update dictionary:",t),t}},Dt=async s=>{try{const t=new FormData;return t.append("file",s),(await A.post(q.separateWordFrequency,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Failed to separate word frequency data:",t),t}},Wt=()=>{const{language:s}=I(),[t,r]=o.useState([]),[p,l]=o.useState(!0),[n,g]=o.useState(null),[h,a]=o.useState(!1),[d,c]=o.useState(!1),[i,u]=o.useState(null),[f,j]=o.useState(null),m={en:{title:"Users",id:"ID",username:"Name",email:"Email",phone:"Phone",loading:"Loading...",error:"Failed to load users",actions:"Actions",save:"Save",cancel:"Cancel",confirmDelete:"Are you sure you want to delete this user?"},kn:{title:"ಬಳಕೆದಾರರು",id:"ಐಡಿ",username:"ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",loading:"ಲೋಡ್ ಮಾಡುತ್ತಿದೆ...",error:"ಬಳಕೆದಾರರನ್ನು ಲೋಡ್ ಮಾಡಲಾಗಲಿಲ್ಲ",actions:"ಕ್ರಿಯೆಗಳು",save:"ಸೇವ್",cancel:"ರದ್ದುಮಾಡು",confirmDelete:"ನೀವು ಈ ಬಳಕೆದಾರರನ್ನು ಅಳಿಸಲು ಖಚಿತವಾಗಿದ್ದೀರಾ?"}},x=async()=>{try{const b=await Nt();r(b)}catch{g(m.en.error)}finally{l(!1)}};o.useEffect(()=>{x()},[]);const C=b=>{u(b),a(!0)},F=b=>{j(b),c(!0)},k=async()=>{if(i)try{await kt(i.username,{email:i.email,phone:i.phone}),await x(),a(!1)}catch(b){console.error("Failed to update user:",b)}finally{u(null)}},R=async()=>{try{await Ct(f),await x(),c(!1)}catch(b){console.error("Failed to delete user:",b)}finally{j(null)}};return p?e.jsx("div",{children:m[s].loading}):n?e.jsx("div",{children:n}):e.jsxs(M,{sx:{maxWidth:800,mx:"auto",mt:10},children:[e.jsx(O,{variant:"h4",align:"center",gutterBottom:!0,children:m[s].title}),e.jsx(ne,{}),e.jsx(M,{mt:2,children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2",children:m[s].id}),e.jsx("th",{className:"border px-4 py-2",children:m[s].username}),e.jsx("th",{className:"border px-4 py-2",children:m[s].phone}),e.jsx("th",{className:"border px-4 py-2",children:m[s].email}),e.jsx("th",{className:"border px-4 py-2",children:m[s].actions})]})}),e.jsx("tbody",{children:t.map(b=>e.jsxs("tr",{className:"hover:bg-gray-300 cursor-pointer transition duration-200",children:[e.jsx("td",{className:"border px-4 py-2",children:b.id}),e.jsx("td",{className:"border px-4 py-2",children:b.username}),e.jsx("td",{className:"border px-4 py-2",children:b.phone}),e.jsx("td",{className:"border px-4 py-2",children:b.email}),e.jsxs("td",{className:"border px-4 py-2",children:[e.jsx(Y,{onClick:()=>C(b),color:"primary","aria-label":"edit",children:e.jsx(se,{})}),e.jsx(Y,{onClick:()=>F(b.username),color:"secondary","aria-label":"delete",children:e.jsx(qe,{})})]})]},b.id))})]})}),e.jsx(re,{open:h,onClose:()=>a(!1),"aria-labelledby":"edit-modal-title","aria-describedby":"edit-modal-description",children:e.jsxs(M,{sx:{padding:4,maxWidth:400,mx:"auto",mt:5,bgcolor:"white",borderRadius:2,boxShadow:3},children:[e.jsx(O,{id:"edit-modal-title",variant:"h6",component:"h2",children:"Edit User"}),e.jsx(V,{label:m[s].username,value:(i==null?void 0:i.username)||"",onChange:b=>u({...i,username:b.target.value}),fullWidth:!0,margin:"normal"}),e.jsx(V,{label:m[s].phone,value:(i==null?void 0:i.phone)||"",onChange:b=>u({...i,phone:b.target.value}),fullWidth:!0,margin:"normal"}),e.jsx(V,{label:m[s].email,value:(i==null?void 0:i.email)||"",onChange:b=>u({...i,email:b.target.value}),fullWidth:!0,margin:"normal"}),e.jsxs(M,{display:"flex",justifyContent:"flex-end",mt:2,children:[e.jsx(N,{onClick:()=>a(!1),children:m[s].cancel}),e.jsx(N,{variant:"contained",color:"primary",onClick:k,sx:{ml:2},children:m[s].save})]})]})}),e.jsx(re,{open:d,onClose:()=>c(!1),"aria-labelledby":"confirm-delete-modal-title","aria-describedby":"confirm-delete-modal-description",children:e.jsxs(M,{sx:{padding:4,maxWidth:400,mx:"auto",mt:5,bgcolor:"white",borderRadius:2,boxShadow:3},children:[e.jsx(O,{id:"confirm-delete-modal-title",variant:"h6",children:m[s].confirmDelete}),e.jsxs(M,{display:"flex",justifyContent:"flex-end",mt:2,children:[e.jsx(N,{onClick:()=>c(!1),children:m[s].cancel}),e.jsx(N,{variant:"contained",color:"secondary",onClick:R,sx:{ml:2},children:"Delete"})]})]})})]})},Et=()=>{const[s,t]=o.useState(""),[r,p]=o.useState(""),[l,n]=o.useState(""),[g,h]=o.useState(""),[a,d]=o.useState(""),[c,i]=o.useState(""),{language:u}=I(),f={en:{title:"Add User",username:"Username",email:"Email",phone:"Phone",password:"Password",confirmPassword:"Confirm Password",success:"User added successfully!",mismatch:"Passwords do not match"},kn:{title:"ಬಳಕೆದಾರ ಸೇರಿಸಿ",username:"ಬಳಕೆದಾರ ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",password:"ಪಾಸ್ವರ್ಡ್",confirmPassword:"ಪಾಸ್ವರ್ಡ್ ದೃಢೀಕರಿಸಿ",success:"ಬಳಕೆದಾರ ಯಶಸ್ವಿಯಾಗಿ ಸೇರಿಸಲಾಗಿದೆ!",mismatch:"ಪಾಸ್ವರ್ಡ್ ಹೊಂದಿಲ್ಲ"}},j=async x=>{if(x.preventDefault(),g===a){const C={username:s,email:r,phone:l,password:g};try{const F=await bt(C);i(f[u].success),m()}catch{i("Error during signup, please try again.")}}else i(f[u].mismatch)},m=()=>{t(""),p(""),n(""),h(""),d("")};return e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:f[u].title}),e.jsxs("form",{onSubmit:j,className:"mt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f[u].username}),e.jsx("input",{type:"text",placeholder:f[u].username,value:s,onChange:x=>t(x.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f[u].email}),e.jsx("input",{type:"email",placeholder:f[u].email,value:r,onChange:x=>p(x.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f[u].phone}),e.jsx("input",{type:"text",placeholder:f[u].phone,value:l,onChange:x=>n(x.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f[u].password}),e.jsx("input",{type:"password",placeholder:f[u].password,value:g,onChange:x=>h(x.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f[u].confirmPassword}),e.jsx("input",{type:"password",placeholder:f[u].confirmPassword,value:a,onChange:x=>d(x.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded px-4 py-2 transition duration-300 hover:bg-blue-700",children:f[u].title})]}),c&&e.jsx("p",{className:"mt-2 text-red-500",children:c})]})},At=()=>{const{language:s}=I(),[t,r]=o.useState([]),[p,l]=o.useState(!0),[n,g]=o.useState(null),[h,a]=o.useState([]),[d,c]=o.useState(""),[i,u]=o.useState(""),[f,j]=o.useState(!1),[m,x]=o.useState(!1),{loggedUser:C,logout:F}=K(),k={en:{title:"User Added words to User Dictionary",userAddedWords:"User Added Words",saveButton:"Save Words to Dictionary",removeButton:"Remove Words",loading:"Loading...",error:"Failed to load words.",noData:"No data available.",confirmRemove:"Are you sure you want to remove the selected words?",confirmSave:"Are you sure you want to save the selected words?",selectAllColoumn:"Select All",wordsColoumn:"Words",frequencyColoumn:"Frequency",yes:"Yes",no:"No"},kn:{userAddedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",saveButton:"ಪದಗಳನ್ನು ನಿಘಂಟಿನಲ್ಲಿ ಸೇರಿಸಿ",removeButton:"ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಿ",loading:"ಲೋಡ್ ಆಗುತ್ತಿದೆ...",error:"ಪದಗಳನ್ನು ಲೋಡ್ ಮಾಡಲು ವಿಫಲವಾಗಿದೆ.",noData:"ದತ್ತಾಂಶ ಲಭ್ಯವಿಲ್ಲ.",confirmRemove:"ನೀವು ಆಯ್ಕೆಯಾದ ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಲು ಖಚಿತವಲ್ಲವೇ?",confirmSave:"ನೀವು ಆಯ್ಕೆ ಮಾಡಿದ ಪದಗಳನ್ನು ಉಳಿಸಲು ಖಚಿತವಲ್ಲವೇ?",selectAllColoumn:"ಎಲ್ಲವನ್ನೂ ಆಯ್ಕೆಮಾಡಿ",wordsColoumn:"ಪದಗಳು",frequencyColoumn:"ಆವರ್ತನ",yes:"ಹೌದು",no:"ಇಲ್ಲ"}};o.useEffect(()=>{(async()=>{try{const S=await te();r(S),c(C)}catch(S){g(S)}finally{l(!1)}})()},[C]);const R=D=>{a(S=>S.includes(D)?S.filter(G=>G!==D):[...S,D])},b=()=>{h.length===t.length?a([]):a(t.map(D=>D.word))},_=()=>{x(!0)},H=async()=>{const D=t.filter(S=>h.includes(S.word)).map(S=>({word:S.word,frequency:S.frequency}));u("");try{const S=await vt(D,d);u(S.message||"Words saved successfully!"),await xe(h);const G=await te();r(G),a([]),x(!1)}catch(S){console.error("Error saving words:",S),u("Failed to save words."),x(!1)}},E=()=>{j(!0)},T=async()=>{u("");try{const D=await xe(h);u(D.message||"Words removed successfully!");const S=await te();r(S),a([]),j(!1)}catch(D){console.error("Error removing words:",D),u("Failed to remove words."),j(!1)}};return p?e.jsx("h2",{className:"text-xl text-center mt-[100px]",children:k[s].loading}):n?e.jsx("h2",{className:"text-xl text-center text-red-500 mt-[100px]",children:k[s].error}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold mt-[100px] text-center",children:k[s].userAddedWords}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"400px"},children:t.length===0?e.jsx("h2",{className:"text-xl text-center mt-5",children:k[s].noData}):e.jsx("div",{className:"relative",children:e.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 ml-5",style:{width:"80%"},children:[e.jsx("thead",{className:"bg-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"border border-gray-300",children:[e.jsx("input",{type:"checkbox",checked:h.length===t.length,onChange:b,className:"mr-1"}),k[s].selectAllColoumn]}),e.jsx("th",{className:"border border-gray-300",children:k[s].wordsColoumn}),e.jsx("th",{className:"border border-gray-300",children:k[s].frequencyColoumn})]})}),e.jsx("tbody",{children:t.map((D,S)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 p-1",children:e.jsx("input",{type:"checkbox",className:"mr-1",onChange:()=>R(D.word),checked:h.includes(D.word)})}),e.jsx("td",{className:"border border-gray-300 p-1",children:D.word}),e.jsx("td",{className:"border border-gray-300 p-1",children:D.frequency})]},S))})]})})}),e.jsxs("div",{className:"text-center mt-10 mb-[20%] flex justify-center space-x-4",children:[e.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white font-bold rounded hover:bg-blue-600 hover:scale-105 transition-transform duration-300",onClick:_,children:k[s].saveButton}),e.jsx("button",{className:"px-6 py-2 bg-red-500 text-white font-bold rounded hover:bg-red-600 hover:scale-105 transition-transform duration-300",onClick:E,children:k[s].removeButton}),i&&e.jsx("p",{className:"text-green-500 font-bold text-center mt-4",children:i})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white rounded p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-center mb-4",children:k[s].confirmRemove}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",onClick:T,children:k[s].yes}),e.jsx("button",{className:"px-4 py-2 bg-gray-300 text-black rounded hover:bg-gray-400",onClick:()=>j(!1),children:k[s].no})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white rounded p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-center mb-4",children:k[s].confirmSave}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",onClick:H,children:k[s].yes}),e.jsx("button",{className:"px-4 py-2 bg-gray-300 text-black rounded hover:bg-gray-400",onClick:()=>x(!1),children:k[s].no})]})]})})]})},Tt=()=>{const[s,t]=o.useState(!1),[r,p]=o.useState(!1),[l,n]=o.useState(null),[g,h]=o.useState(""),[a,d]=o.useState(!1),[c,i]=o.useState(""),[u,f]=o.useState("success"),{language:j}=I(),m={en:{title:"Upload Dataset",confirmTitle:"Confirm Upload",confirmMessage:"Are you sure you want to upload this dataset?",error:"Please select a file before uploading.",uploadingMessage:"Uploading your dataset...",uploadSuccess:"Upload successful!",uploadFailure:"Failed to upload the dataset. Please try again.",cancel:"Cancel",confirm:"Confirm",info:"Uploading a file will directly modify the main dictionary. Ensure the dataset is in .txt or .docx format, containing a list of words. Changes may take time to reflect within the system. Please reload the dictionary from the main dashboard after the upload is complete."},kn:{title:"ಡೇಟಾಸೆಟ್ ಅಪ್‌ಲೋಡ್ ಮಾಡಿ",confirmTitle:"ಅಪ್ಲೋಡ್ ದೃಢೀಕರಿಸಿ",confirmMessage:"ಈ ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲು ನೀವು ಖಚಿತವಾಗಿದ್ದೀರಾ?",error:"ದಯವಿಟ್ಟು ಅಪ್‌ಲೋಡ್ ಮಾಡುವ ಮೊದಲು ಫೈಲ್ ಅನ್ನು ಆಯ್ಕೆಮಾಡಿ.",uploadingMessage:"ನಿಮ್ಮ ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲಾಗುತ್ತಿದೆ...",uploadSuccess:"ಅಪ್‌ಲೋಡ್ ಯಶಸ್ವಿ!",uploadFailure:"ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲು ವಿಫಲವಾಗಿದೆ. ದಯವಿಟ್ಟು ಪುನರಾಯಿಸಲು ಪ್ರಯತ್ನಿಸಿ.",cancel:"ರದ್ದುಮಾಡಿ",confirm:"ದೃಢೀಕರಿಸಿ",info:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡುವುದರಿಂದ ಮುಖ್ಯ ಡಿಕ್ಷನರಿ ನೇರವಾಗಿ ಬದಲಾಯಿಸಲಿದೆ. ಪದಗಳ ಪಟ್ಟಿಯನ್ನು ಹೊಂದಿರುವ ಸರಿಯಾದ ಡೇಟಾಸೆಟ್ ಅನ್ನು .txt ಅಥವಾ .docx ರೂಪದಲ್ಲಿ ಅಪ್ಲೋಡ್ ಮಾಡುವುದನ್ನು ಖಚಿತಪಡಿಸಿಕೊಳ್ಳಿ. ಬದಲಾವಣೆಗಳು ವ್ಯವಸ್ಥೆಯಲ್ಲಿ ಕಾಣಲು ಸ್ವಲ್ಪ ಸಮಯ ಬೇಕಾಗಬಹುದು. ದಯವಿಟ್ಟು ಡ್ಯಾಶ್‌ಬೋರ್ಡ್‌ನಲ್ಲಿ ಡಿಕ್ಷನರಿಯನ್ನು ಮರುಲೋಡ್ ಮಾಡಿ."}},x=b=>{n(b.target.files[0])},C=async b=>{if(b.preventDefault(),!l){h(m[j].error);return}t(!0)},F=async()=>{p(!0),h("");try{const b=await St(l);console.log("Update successful:",b),i(b.message||m[j].uploadSuccess),f("success"),d(!0)}catch(b){console.error("Error during update:",b),i(m[j].uploadFailure),f("error"),d(!0)}finally{p(!1),t(!1),n(null)}},k=()=>{t(!1),n(null)},R=()=>{d(!1)};return e.jsxs("div",{className:"mt-20",children:[e.jsx("h1",{className:"text-2xl font-bold text-center",children:m[j].title}),e.jsx(M,{component:"div",sx:{whiteSpace:"normal",overflowX:"auto",my:2,p:1,bgcolor:"grey.100",color:"grey.800",border:"1px solid",borderColor:"grey.300",borderRadius:2,fontSize:"0.875rem",fontWeight:"700"},children:m[j].info}),e.jsxs("form",{onSubmit:C,className:"mt-10 ml-20 mb-[100%]",children:[e.jsx("input",{type:"file",accept:".csv, .xlsx",className:"mb-4",required:!0,onChange:x}),e.jsx(N,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(Oe,{}),children:"Upload"})]}),e.jsx(re,{open:s,onClose:k,children:e.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:e.jsx("div",{className:"bg-white p-6 rounded shadow-lg",children:r?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(oe,{}),e.jsx("p",{className:"mt-4",children:m[j].uploadingMessage})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold",children:m[j].confirmTitle}),e.jsx("p",{children:m[j].confirmMessage}),e.jsx("p",{className:"text-red-600",children:g}),e.jsxs("div",{className:"mt-4",children:[e.jsx(N,{onClick:F,color:"primary",children:m[j].confirm}),e.jsx(N,{onClick:k,color:"secondary",className:"ml-2",children:m[j].cancel})]})]})})})}),e.jsx(ve,{open:a,autoHideDuration:6e3,onClose:R,children:e.jsx(Ne,{onClose:R,severity:u,children:c})})]})},Ft=()=>{const[s,t]=o.useState([]),[r,p]=o.useState(null),[l,n]=o.useState(!1),[g,h]=o.useState(""),[a,d]=o.useState(!1),{language:c}=I(),i={en:{title:"Separate Typical Words",searchPlaceholder:"Search...",fileUploadLabel:"Upload a file",processButton:"Process",exportCSV:"Export to CSV",index:"Index",word:"Word",frequency:"Frequency",successMessage:"Data processed successfully.",errorMessage:"Error processing the file.",selectFileMessage:"Please select a file to process.",noDataMessage:"No data available for export."},kn:{title:"ಸಾಮಾನ್ಯ ಶಬ್ದಗಳನ್ನು ವಿಭಜಿತಗೊಳಿಸಿ",searchPlaceholder:"ಶೋಧಿಸಿ...",fileUploadLabel:"ಏಕಕೋಶವನ್ನು ಅಪ್ಲೋಡ್ ಮಾಡಿ",processButton:"ಕೋಶ",exportCSV:"CSVಗೆ ರಫ್ತು",index:"ಇಂಡೆಕ್ಸ್",word:"ಶಬ್ದ",frequency:"ಅರ್ಜು",successMessage:"ದತ್ತಾಂಶವು ಯಶಸ್ವಿಯಾಗಿ ಸಂಸ್ಕರಿಸಲಾಯಿತು.",errorMessage:"ಕೋಶವಿಲ್ಲದ ಫೈಲ್.",selectFileMessage:"ದಯವಿಟ್ಟು ಪ್ರಕ್ರಿಯೆಗೋಸ್ಕರ ಫೈಲ್ ಅನ್ನು ಆಯ್ಕೆ ಮಾಡಿ.",noDataMessage:"ರಫ್ತುಗೋಸ್ಕರ ಯಾವುದೇ ಡೇಟಾ ಲಭ್ಯವಿಲ್ಲ."}},u=ge.useMemo(()=>[{Header:i[c].index,accessor:"index"},{Header:i[c].word,accessor:"word"},{Header:i[c].frequency,accessor:"frequency"}],[c]),{getTableProps:f,getTableBodyProps:j,headerGroups:m,rows:x,prepareRow:C,setGlobalFilter:F}=ee.useTable({columns:u,data:s},ee.useGlobalFilter,ee.useSortBy),k=E=>{s.length===0?(h(i[c].noDataMessage),n(!0)):F(E.target.value||void 0)},R=E=>{const T=E.target.files[0];p(T)},b=async()=>{if(!r){h(i[c].selectFileMessage),n(!0);return}d(!0);try{const E=await Dt(r),T=Object.keys(E).map((D,S)=>({index:S+1,word:D,frequency:E[D]}));t(T),h(i[c].successMessage),n(!0)}catch(E){console.error("Error during processing:",E),h(i[c].errorMessage),n(!0)}finally{d(!1),p(null)}},_=()=>{n(!1)},H={position:"sticky",top:0,backgroundColor:"#fff",zIndex:1};return e.jsxs(we,{elevation:3,style:{padding:"70px",margin:"20px"},children:[e.jsx(O,{variant:"h6",align:"center",gutterBottom:!0,children:i[c].title}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[e.jsx("input",{type:"file",accept:".txt,.docx",onChange:R,style:{marginRight:"10px",marginBottom:"20px"}}),e.jsx(N,{variant:"contained",color:"primary",onClick:b,disabled:a,style:{marginLeft:"10px"},children:a?e.jsx(oe,{size:24,color:"inherit"}):i[c].processButton})]}),e.jsx(O,{variant:"body2",align:"center",style:{marginBottom:"20px"},children:i[c].fileUploadLabel}),e.jsx(V,{variant:"outlined",placeholder:i[c].searchPlaceholder,onChange:k,fullWidth:!0,style:{marginBottom:"20px"}}),e.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:e.jsx(Je,{data:s,filename:"words_frequency.csv",style:{textDecoration:"none",margin:"0 10px"},onClick:()=>{s.length===0&&(h(i[c].noDataMessage),n(!0))},children:e.jsx(N,{variant:"contained",color:"primary",disabled:s.length===0,children:i[c].exportCSV})})}),e.jsx(_e,{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs(ze,{...f(),"aria-label":"simple table",children:[e.jsx(He,{children:m.map(E=>o.createElement(X,{...E.getHeaderGroupProps(),key:E.id},E.headers.map(T=>o.createElement(Z,{...T.getHeaderProps(T.getSortByToggleProps()),key:T.id,style:H},T.render("Header"),e.jsx("span",{children:T.isSorted?T.isSortedDesc?" 🔽":" 🔼":""})))))}),e.jsx(Ge,{...j(),children:x.length>0?x.map(E=>(C(E),o.createElement(X,{...E.getRowProps(),key:E.id},E.cells.map(T=>o.createElement(Z,{...T.getCellProps(),key:T.id},T.render("Cell")))))):e.jsx(X,{children:e.jsx(Z,{colSpan:u.length,align:"center",children:a?e.jsx(oe,{}):"No data available."})})})]})}),e.jsx(ve,{open:l,autoHideDuration:6e3,onClose:_,children:e.jsx(Ne,{onClose:_,severity:"info",sx:{width:"100%"},children:g})})]})},pe=()=>{const{language:s}=I(),t={en:{title:"404",message:"Page Not Found",description:"Sorry, the page you are looking for does not exist.",homeLink:"Go to Home"},kn:{title:"404",message:"ಪುಟ ದೊರೆಯಲಿಲ್ಲ",description:"ಕ್ಷಮಿಸಿ, ನೀವು ಹುಡುಕುತ್ತಿರುವ ಪುಟ ದೊರೆಯುತ್ತಿಲ್ಲ.",homeLink:"ಮುಖ ಪುಟಕ್ಕೆ ಹೋಗಿ"}};return e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 px-4",children:[" ",e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-red-600",children:t[s].title})," ",e.jsx("h2",{className:"text-3xl md:text-4xl mt-4",children:t[s].message})," ",e.jsx("p",{className:"mt-2 text-gray-600 text-center max-w-md",children:t[s].description})," ",e.jsx(Fe,{to:"/",className:"mt-6 bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700 transition duration-200",children:t[s].homeLink})]})};class Ut extends ge.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error boundary caught an error",t,r)}render(){return this.state.hasError?e.jsx("h1",{children:"Something went wrong."}):this.props.children}}const J={bloomDetails:"/bloom/api/v1/bloom_stats/",symspellDetails:"/symspell/api/v1/symspell/details/",userAddedWords:"/user-added/api/v1/user-added-words/stats",reloadDataApi:"/admin/reload"},Pt=async()=>{try{return(await A.get(J.bloomDetails)).data}catch(s){throw console.error("Failed to fetch Bloom stats:",s),s}},It=async()=>{try{return(await A.get(J.symspellDetails)).data}catch(s){throw console.error("Failed to fetch SymSpell details:",s),s}},Mt=async()=>{try{return(await A.get(J.userAddedWords)).data}catch(s){throw console.error("Failed to fetch SymSpell details:",s),s}},Rt=async()=>{try{return(await A.get(J.reloadDataApi)).data}catch(s){throw console.log("Failed to reload"),s}},Bt=()=>{const{language:s}=I(),t={en:{dashboard:"Main Dashboard",dictionaryDetails:"Dictionary Details: BLOOM and Symspell",totalWordsInDictionary:"Total Word In Dictionary",bloomCapacity:"Bloom capacity",isEmptyDictionary:"Is Dictionary empty",ErrorRateInBloom:"Error Rate In Bloom",ReloadData:"Reload Data",sysmpsellLoadedWords:"Systemmpsell loaded words",ErrorRateInSysmspell:"Error Rate in Systemmpsell",otherDetailsInSysmpsell:"Other Details in Symspell",totalWordsAddedByuser:"Total Words Added By User"},kn:{dashboard:"ಮುಖ್ಯ ಡ್ಯಾಶ್‌ಬೋರ್ಡ್",dictionaryDetails:"ಪದಕೋಶದ ವಿವರಗಳು",totalWordsInDictionary:"ಪದಕೋಶದ ಕನ್ನಡ ಶಬ್ದಗಳ ಗಣತ್ರೆ",bloomCapacity:"Bloom ಅಕ್ಷಮಾಂಶ",isEmptyDictionary:"ಪದಕ ",ErrorRateInBloom:"Error Rate In Bloom",ReloadData:"Reload Data",sysmpsellLoadedWords:"ಸಿಸ್ಟ್ಮ್ಪ್ಲೆಲ್ ಲೋಡ್ ಇನ್ನು ಶಬ್ದಗಳು",ErrorRateInSysmspell:"Error Rate",otherDetailsInSysmpsell:"Other Details",totalWordsAddedByuser:"Total Words Added By User"}},[r,p]=o.useState(null),[l,n]=o.useState(null),[g,h]=o.useState(null),[a,d]=o.useState(null),[c,i]=o.useState(null);o.useEffect(()=>{(async()=>{try{const j=await Pt(),m=await It(),x=await Mt();p(j),n(m),h(x)}catch(j){d(j)}})()},[c]);const u=async()=>{try{const f=await Rt();i(f)}catch(f){d(f)}};return a?e.jsxs("div",{children:["Error fetching data: ",a.message]}):e.jsxs("div",{className:"p-6 mt-10 mb-[100%]",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:t[s].dashboard}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-1xl font-semibold mb-4",children:t[s].dictionaryDetails}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-700",children:[t[s].totalWordsInDictionary,": ",r.size]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].bloomCapacity,": ",r.capacity]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].isEmptyDictionary,": ",r.is_empty]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].ErrorRateInBloom,": ",r.error_rate]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",onClick:u,children:t[s].ReloadData})}),c&&e.jsx("h3",{className:"mt-4 text-gray-700",children:(c==null?void 0:c.message)||"No message available"})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-1xl font-semibold mb-4",children:t[s].userAddedWords}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-700",children:[t[s].sysmpsellLoadedWords,":"," ",l.loaded_words]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].ErrorRateInSysmspell,":"," ",l.error_rate]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].otherDetailsInSysmpsell,":"," ",l.other_details]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-1xl font-semibold mb-4",children:t[s].lastUpdate}),r&&e.jsx(e.Fragment,{children:e.jsxs("p",{className:"text-gray-700",children:[t[s].totalWordsAddedByuser,": ",g]})})]})]})]})},Lt=()=>{const{isAuthenticated:s}=K(),t=localStorage.getItem("access_token");return s||t?e.jsx(Me,{}):e.jsx(ye,{to:"/login"})},qt=()=>{const{logout:s}=K(),t=z();return o.useEffect(()=>{s(),t("/login")},[s,t]),null},Ot=()=>{const s=z(),{language:t}=I(),{loggedUser:r,logout:p}=K(),[l,n]=o.useState(!1),[g,h]=o.useState(!0),a={en:{dashboard:"Main Dashboard",addUser:"Add User",addedWords:"User Added Words",uploadDataset:"Upload Dataset",users:"Users",separateWords:"Separate Typical Words",logout:"Logout"},kn:{dashboard:"ಮುಖ್ಯ ಡ್ಯಾಶ್‌ಬೋರ್ಡ್",addUser:"ಬಳಕೆದಾರರನ್ನು ಸೇರಿಸಿ",addedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",uploadDataset:"ಡೇಟಾಸೆಟ್ ಅಪ್ಲೋಡ್ ಮಾಡಿ",users:"ಬಳಕೆದಾರರು",separateWords:"ಟಿಪ್ಪಣಿಯ ಶಬ್ದಗಳನ್ನು ಪ್ರತ್ಯೇಕಿಸಿ",logout:"ಲಾಗ್‌ಔಟ್"}},d=u=>{s(u)},c=()=>{n(!l)},i=()=>{h(!g)};return o.useEffect(()=>{console.log("Current loggedUser:",r)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(Y,{onClick:i,sx:{position:"fixed",top:"70px",left:"15px",zIndex:50,backgroundColor:"gray.800",color:"white","&:hover":{backgroundColor:"green"}},children:g?e.jsx(be,{}):e.jsx(je,{})}),g&&e.jsxs(M,{className:"w-64 bg-gray-800 text-white h-full",sx:{position:"fixed",top:0,left:0,zIndex:40,padding:"16px",paddingTop:"100px",overflowY:"auto"},children:[e.jsxs(M,{className:"space-y-2",children:[e.jsx(N,{onClick:()=>d("/admin/dashboard"),className:"w-full text-left",sx:{justifyContent:"flex-start",color:"white",marginTop:"10px","&:hover":{backgroundColor:"gray"}},children:a[t].dashboard}),e.jsx(N,{onClick:()=>d("/admin/users"),className:"w-full text-left",sx:{justifyContent:"flex-start",color:"white",marginTop:"10px","&:hover":{backgroundColor:"gray"}},children:a[t].users}),e.jsx(N,{onClick:()=>d("/admin/add-user"),className:"w-full text-left",sx:{justifyContent:"flex-start",color:"white",marginTop:"10px","&:hover":{backgroundColor:"gray"}},children:a[t].addUser}),e.jsx(N,{onClick:()=>d("/admin/upload-dataset"),className:"w-full text-left",sx:{justifyContent:"flex-start",color:"white",marginTop:"10px","&:hover":{backgroundColor:"gray"}},children:a[t].uploadDataset}),e.jsx(N,{onClick:()=>d("/admin/added-words"),className:"w-full text-left",sx:{justifyContent:"flex-start",color:"white",marginTop:"10px","&:hover":{backgroundColor:"gray"}},children:a[t].addedWords}),e.jsx(N,{onClick:()=>d("/admin/separate-words"),className:"w-full text-left",sx:{justifyContent:"flex-start",color:"white",marginTop:"10px","&:hover":{backgroundColor:"gray"}},children:a[t].separateWords})]}),e.jsx(ne,{sx:{marginY:2,backgroundColor:"gray.600"}}),e.jsxs(M,{className:"relative mt-4",children:[e.jsxs("div",{className:"flex items-center cursor-pointer",onClick:c,children:[e.jsx($e,{className:"w-8 h-8 rounded-full"})," ",e.jsx("span",{className:"ml-2",children:r||"User"})]}),l&&e.jsx(N,{onClick:p,className:"w-full text-left mt-2",sx:{backgroundColor:"gray","&:hover":{backgroundColor:"gray.600"},color:"white"},startIcon:e.jsx(Ke,{}),children:a[t].logout})]})]})]})};function _t(){return e.jsx(Ut,{children:e.jsx(ot,{children:e.jsx(Ue,{children:e.jsx(jt,{children:e.jsx(zt,{})})})})})}const zt=()=>{const t=fe().pathname.startsWith("/admin");return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(ct,{}),e.jsxs("div",{className:"flex flex-1 overflow-auto",children:[t&&e.jsx(Ot,{})," ",e.jsx("div",{className:`flex-grow ${t?"ml-64":""}`,children:e.jsxs(Re,{children:[e.jsx(P,{path:"/",element:e.jsx(pt,{})}),e.jsx(P,{path:"/editor",element:e.jsx(it,{})}),e.jsx(P,{path:"/about",element:e.jsx(gt,{})}),e.jsx(P,{path:"/login",element:e.jsx(wt,{})}),e.jsx(P,{path:"/logout",element:e.jsx(qt,{})}),e.jsx(P,{path:"/admin",element:e.jsx(ye,{to:"/admin/dashboard"})})," ",e.jsxs(P,{path:"/admin",element:e.jsx(Lt,{}),children:[e.jsx(P,{path:"dashboard",element:e.jsx(Bt,{})}),e.jsx(P,{path:"users",element:e.jsx(Wt,{})}),e.jsx(P,{path:"add-user",element:e.jsx(Et,{})}),e.jsx(P,{path:"added-words",element:e.jsx(At,{})}),e.jsx(P,{path:"upload-dataset",element:e.jsx(Tt,{})}),e.jsx(P,{path:"separate-words",element:e.jsx(Ft,{})}),e.jsx(P,{path:"*",element:e.jsx(pe,{})})]}),e.jsx(P,{path:"*",element:e.jsx(pe,{})})]})})]}),e.jsx(ut,{})," "]})};Te(document.getElementById("root")).render(e.jsx(dt,{children:e.jsx(_t,{})}));
