import{r as l,j as e}from"./react-Bl8E5IuX.js";import{u as E,c as L}from"./index-9O4q5W6i.js";import{a as p,r as w,s as F}from"./manageUserAddedWords-BlgQ8JjM.js";import{g as I,T as d,w as H,x as N,a as m,t as b}from"./@mui-BjEdyK66.js";import"./@xmldom-BKc_IZtg.js";import"./react-dom-D2p-lIFc.js";import"./scheduler-CWG1rEj-.js";import"./jspdf-CWhYFgit.js";import"./@babel-Bm-97afu.js";import"./fflate-B2WnmEVw.js";import"./fast-png-CMV4RlVR.js";import"./iobuffer-BmLRrqXH.js";import"./react-router-dom-BIFhErXW.js";import"./react-router-DeFDwJHZ.js";import"./@remix-run-DBs3BZwC.js";import"./axios-B9ygI19o.js";import"./react-is-CeStwY2e.js";import"./clsx-B-dksMZM.js";import"./@emotion-DYK3XH82.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./stylis-DDa9OTMq.js";import"./react-transition-group-CtzHUc09.js";const ce=()=>{const{language:t}=E(),[n,f]=l.useState([]),[W,y]=l.useState(!0),[g,C]=l.useState(null),[c,u]=l.useState([]),[A,S]=l.useState(""),[v,i]=l.useState(""),[k,h]=l.useState(!1),[R,x]=l.useState(!1),{loggedUser:j}=L(),o={en:{title:"User Added Words to User Dictionary",userAddedWords:"User Added Words",saveButton:"Save Words to Dictionary",removeButton:"Remove Words",loading:"Loading...",error:"Failed to load words.",noData:"No data available.",confirmRemove:"Are you sure you want to remove the selected words?",confirmSave:"Are you sure you want to save the selected words?",selectAllColoumn:"Select All",wordsColoumn:"Words",frequencyColoumn:"Frequency",yes:"Yes",no:"No"},kn:{userAddedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",saveButton:"ಪದಗಳನ್ನು ನಿಘಂಟಿನಲ್ಲಿ ಸೇರಿಸಿ",removeButton:"ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಿ",loading:"ಲೋಡ್ ಆಗುತ್ತಿದೆ...",error:"ಪದಗಳನ್ನು ಲೋಡ್ ಮಾಡಲು ವಿಫಲವಾಗಿದೆ.",noData:"ದತ್ತಾಂಶ ಲಭ್ಯವಿಲ್ಲ.",confirmRemove:"ನೀವು ಆಯ್ಕೆಯಾದ ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಲು ಖಚಿತವಲ್ಲವೇ?",confirmSave:"ನೀವು ಆಯ್ಕೆ ಮಾಡಿದ ಪದಗಳನ್ನು ಉಳಿಸಲು ಖಚಿತವಲ್ಲವೇ?",selectAllColoumn:"ಎಲ್ಲವನ್ನೂ ಆಯ್ಕೆಮಾಡಿ",wordsColoumn:"ಪದಗಳು",frequencyColoumn:"ಆವರ್ತನ",yes:"ಹೌದು",no:"ಇಲ್ಲ"}};l.useEffect(()=>{(async()=>{y(!0);try{const s=await p();f(s),S(j)}catch(s){C(s.response?.data?.detail||s)}finally{y(!1)}})()},[j]);const M=r=>{u(s=>s.includes(r)?s.filter(a=>a!==r):[...s,r])},q=()=>{c.length===n.length?u([]):u(n.map(r=>r.word))},B=()=>{x(!0)},D=async()=>{const r=n.filter(a=>c.includes(a.word)).map(a=>({word:a.word,frequency:a.frequency}));i("");let s="";try{s=await F(r,A),i(s.message||"Words saved successfully!"),await w(c);const a=await p();f(a),u([]),x(!1)}catch(a){i(s.message+a.response?.data?.detail||a),x(!1)}},U=()=>{h(!0)},T=async()=>{i("");let r="";try{r=await w(c),i(r.message||"Words removed successfully!");const s=await p();f(s),u([]),h(!1)}catch(s){i(r.message+s.response?.data?.detail||s),h(!1)}};return W?e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[e.jsx(I,{}),e.jsx(d,{variant:"h5",className:"mt-4",children:o[t].loading})]}):g?e.jsx(d,{variant:"h5",className:"text-center text-red-500",sx:{mt:10},children:g}):e.jsxs("div",{className:"p- w-full lg:w-2/3 md:w-2/3 lg:mx-auto",children:[" ",e.jsx(d,{variant:"h4",className:"font-bold text-center mt-8",children:o[t].userAddedWords}),e.jsx("div",{className:"overflow-y-auto mt-5",style:{maxHeight:"400px"},children:n.length===0?e.jsx(d,{variant:"h6",className:"text-center mt-5",children:o[t].noData}):e.jsx("div",{className:"relative",children:e.jsxs(H,{className:"min-w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"border border-gray-300 p-2 text-left",children:[e.jsx(N,{checked:c.length===n.length,onChange:q,color:"primary"}),o[t].selectAllColoumn]}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:o[t].wordsColoumn}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:o[t].frequencyColoumn})]})}),e.jsx("tbody",{children:n.map((r,s)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300",children:e.jsx(N,{checked:c.includes(r.word),onChange:()=>M(r.word),color:"primary"})}),e.jsx("td",{className:"border border-gray-300 p-1 text-left",children:r.word}),e.jsx("td",{className:"border border-gray-300 p-1 text-left",children:r.frequency})]},s))})]})})}),e.jsxs("div",{className:"text-center mt-10 flex justify-center space-x-4 mb-10",children:[e.jsx(m,{variant:"contained",color:"primary",className:"px-6 py-2",onClick:B,children:o[t].saveButton}),e.jsx(m,{variant:"contained",color:"secondary",className:"px-6 py-2",onClick:U,children:o[t].removeButton})]}),v&&e.jsx(d,{className:`text-center font-bold mt-10 ${n.length===0?"text-green-500":"text-red-500"}`,children:v}),e.jsx(b,{open:k,onClose:()=>h(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(d,{variant:"h6",children:o[t].confirmRemove}),e.jsxs("div",{className:"mt-4 flex justify-around",children:[e.jsx(m,{onClick:T,color:"primary",children:o[t].yes}),e.jsx(m,{onClick:()=>h(!1),color:"secondary",children:o[t].no})]})]})})}),e.jsx(b,{open:R,onClose:()=>x(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(d,{variant:"h6",children:o[t].confirmSave}),e.jsxs("div",{className:"mt-4 flex justify-around",children:[e.jsx(m,{onClick:D,color:"primary",children:o[t].yes}),e.jsx(m,{onClick:()=>x(!1),color:"secondary",children:o[t].no})]})]})})})]})};export{ce as default};
