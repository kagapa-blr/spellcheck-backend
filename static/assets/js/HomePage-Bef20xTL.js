import{r as x,j as e}from"./react-87inLI7G.js";import{u as b,a as N,L as F}from"./index-B3hJj7DY.js";import{d as k,b as D}from"./spellcheckApiService-11QcTeX-.js";import{l as S}from"./mammoth-BuPscTfY.js";import{a as W}from"./react-router-ri5stJUf.js";import{C as I,P as E,T as f,B as T,a as h}from"./@mui-BgS5I2ZV.js";import"./@xmldom-DBEIMRBk.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./jspdf-cGIlQrZ8.js";import"./@babel-CRFnVEoO.js";import"./fflate-EnPhvkmS.js";import"./react-router-dom-Bk36vaWp.js";import"./@remix-run-CGjFHglr.js";import"./axios-CCb-kr4I.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-Ca6BSwXP.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-DGTJP9RM.js";import"./underscore-b--1-EUR.js";import"./bluebird-D4N7l2sI.js";import"./base64-js-D0UyVEDn.js";import"./jszip-BmYNtbIh.js";import"./xmlbuilder-MWHHUJUD.js";import"./dingbat-to-unicode-Cm9PDbSb.js";import"./lop-DvYkyT-y.js";import"./option-Dhni4At5.js";const B=({isOpen:p,onClose:n,onSubmit:g,isLoading:m})=>{const[i,l]=x.useState(null),[s,d]=x.useState(""),{language:o}=b(),{setWrongWords:c}=N(),r={en:{title:"Upload a File",dragDropText:"Drag and drop a file here or click to upload.",submit:"Submit",cancel:"Cancel",error:"Please select a file to upload.",invalidFile:"Invalid file type. Please upload a .txt or .docx file."},kn:{title:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡಿ",dragDropText:"ಫೈಲ್‌ ಅಪ್‌ಲೋಡ್‌ ಮಾಡಲು ಇಲ್ಲಿ ಕ್ಲಿಕ್‌ ಮಾಡಿ",submit:"ಕಳುಹಿಸಿ",cancel:"ರದ್ದು ಮಾಡಿ",error:"ದಯವಿಟ್ಟು ಅಪ್ಲೋಡ್ ಮಾಡಲು ಫೈಲ್ ಆಯ್ಕೆಮಾಡಿ.",invalidFile:"ಅಮಾನ್ಯ ಫೈಲ್ ಪ್ರಕಾರ. ದಯವಿಟ್ಟು .txt ಅಥವಾ .docx ಫೈಲ್ ಅನ್ನು ಅಪ್ಲೋಡ್ ಮಾಡಿ."}},u=t=>{const a=[".txt",".docx"],C=t.name.split(".").pop().toLowerCase();return a.includes(`.${C}`)},y=t=>{const a=t.target.files[0];a&&(u(a)?(l(a),d("")):(d(r[o].invalidFile),l(null)))},w=t=>{t.preventDefault();const a=t.dataTransfer.files[0];a&&(u(a)?(l(a),d("")):(d(r[o].invalidFile),l(null)))},v=t=>{t.preventDefault()},j=async()=>{if(!i){d(r[o].error);return}try{const t=await k(i);if(t.wrong_words&&Array.isArray(t.wrong_words)){const a=D(t.wrong_words);c(a),console.log("Wrong words updated...",a.length)}else console.error("No wrong words found in response:",t)}catch(t){console.error("Error fetching wrong words:",t)}g(i),n()};return p&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg w-11/12 max-w-lg p-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4",children:r[o].title}),e.jsxs("div",{className:"border-2 border-dashed border-gray-400 p-6 mb-4 cursor-pointer hover:border-blue-500 transition duration-200",onDrop:w,onDragOver:v,onClick:()=>document.getElementById("fileInput").click(),children:[i?e.jsx("p",{className:"text-lg font-medium text-gray-700",children:i.name}):e.jsx("p",{className:"text-lg text-gray-500",children:r[o].dragDropText}),e.jsx("input",{type:"file",accept:".txt,.docx",onChange:y,className:"hidden",id:"fileInput"})]}),s&&e.jsx("p",{className:"text-red-600 mb-4",children:s})," ",e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:j,className:"bg-blue-600 text-white px-6 py-2 rounded-md shadow hover:bg-blue-700 transition duration-200 mr-2",disabled:m||!i,children:m?"Submitting...":r[o].submit}),e.jsx("button",{onClick:n,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-md shadow hover:bg-gray-400 transition duration-200",children:r[o].cancel})]})]})})},de=()=>{const p=W(),{language:n}=b(),[g,m]=x.useState(!1),[i,l]=x.useState(!1),s={en:{welcome:"Welcome to the Spellcheck Application",description:"Enhance your writing with our powerful spell checker.",button:"Go to Editor",upload:"Upload a File",fileInfo:["Maximum File Size: 5MB","Maximum Words: 1 Lakh","File Type: .txt or .docx"]},kn:{welcome:"ಕಾಗುಣಿತ ಪರೀಕ್ಷಕ - ಕನ್ನಡ ಭಾಷೆ",description:"ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನದೊಂದಿಗೆ ಬರವಣಿಗೆಯನ್ನು ಉತ್ತಮಗೊಳಿಸಿ",button:"ಪಠ್ಯ ಸಂಪಾದಕ/ ಟೆಕ್ಸ್ಟ್‌ ಎಡಿಟರ್‌",upload:"ಕಾಗುಣಿತ ಸಲ್ಲಿಸಿ",fileInfo:["ಕಡತದ ಗಾತ್ರ ಗರಿಷ್ಠ: 5MB","ಪದಗಳ ಮಿತಿ ಗರಿಷ್ಠ: 1 ಲಕ್ಷ","ಕಡತ ಮಾದರಿ: .txt ಅಥವಾ .docx"]}},d=async o=>{l(!0);let c="";if(o.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")try{const r=await o.arrayBuffer(),{value:u}=await S.convertToHtml({arrayBuffer:r});c=u}catch(r){console.error("Error reading .docx file:",r)}else o.type==="text/plain"&&(c=await o.text());l(!1),p("/editor",{state:{uploadedContent:c}})};return e.jsxs(I,{maxWidth:"full-width",className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-red-100 to-yellow-400 p-4",children:[e.jsx(E,{elevation:3,className:"p-8 rounded-lg shadow-lg bg-white w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{variant:"h3",className:"font-bold mb-4",color:"primary",children:s[n].welcome}),e.jsx(f,{variant:"body1",className:"mb-4",children:s[n].description}),e.jsx("div",{className:"mb-4 text-sm text-gray-700",children:s[n].fileInfo.map((o,c)=>e.jsx("div",{children:o},c))}),e.jsxs(T,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"center",alignItems:"center",gap:2,children:[e.jsx(h,{variant:"contained",color:"primary",onClick:()=>m(!0),size:"large",sx:{"&:hover":{backgroundColor:"blue.700"}},children:s[n].upload}),e.jsx(h,{variant:"outlined",color:"primary",onClick:()=>p("/editor"),size:"large",sx:{"&:hover":{backgroundColor:"blue.200",borderColor:"blue.600"}},children:s[n].button})]})]})}),e.jsx(B,{isOpen:g,onClose:()=>m(!1),onSubmit:d,isLoading:i}),i&&e.jsx(F,{})," "]})};export{de as default};
