import{a as x,j as e}from"./react-DbtEuUu-.js";import{i as xe}from"./react-quill-new-CsnRHLRG.js";import{u as le,L as ae,a as me}from"./index-CJIroU4B.js";import{a as L,R as he,F as fe,h as be,i as U,j as we,k as ye,I as ve,b as je,l as J,m as V,n as ee,o as te,p as oe}from"./@mui-Q8RKV1MB.js";import{F as ie}from"./file-saver-MsKmXMwP.js";import{E as Ee}from"./jspdf-DEnQ8Zhn.js";import Te from"./html2canvas-DXEQVQnt.js";import{P as ne,T as Y,F as Ce,a as Se}from"./docx-CTs-IowK.js";import{g as ke,r as Ne,i as De,a as Ae,c as We,b as Re}from"./spellcheckApiService-BfL_CVDc.js";import{Q as ce}from"./quill-BbMqpGUw.js";import{b as Le}from"./react-router-ChRMN3_C.js";import"./lodash-es-CCWjDIKd.js";import"./react-dom-DcXkIZDy.js";import"./scheduler-CWG1rEj-.js";import"./react-router-dom-Cm8LtOuy.js";import"./@remix-run-sy-dwM7X.js";import"./axios-C0Zqfgkc.js";import"./@babel-BUfJX6lK.js";import"./fflate-B2WnmEVw.js";import"./fast-png-RHEe-ix0.js";import"./iobuffer-BmLRrqXH.js";import"./pako-n3Pgozwg.js";import"./clsx-B-dksMZM.js";import"./prop-types-Bw6xMO8O.js";import"./reselect-HBGHfvfV.js";import"./react-is-Rj29YxKv.js";import"./@emotion-CK8GFU5m.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./stylis-YG1R7XFf.js";import"./@popperjs-DC5wud4b.js";import"./react-transition-group-DV1q_uKQ.js";import"./parchment-DI0xVRB_.js";import"./quill-delta-BqocVgKs.js";import"./fast-diff-BGhgD5-Y.js";import"./lodash.clonedeep-HWw_HLjB.js";import"./lodash.isequal-H8CToeRs.js";import"./eventemitter3-LhCj3FB1.js";const Q=o=>{const t=new Date,l=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear(),s=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return`spellcheck-${l}${a}${n}-${s}${i}.${o}`},Me=o=>{if(!o)return;const t=document.createElement("div");t.innerHTML=o;const l=t.innerHTML.replace(/<br\s*\/?>/gi,`
`).replace(/<\/?[^>]+(>|$)/g,""),a=new Blob([l],{type:"text/plain;charset=utf-8"});ie.saveAs(a,Q("txt"))},$e=o=>{const t=document.createElement("div");t.innerHTML=o.replace(/<u class="red-underline">(.+?)<\/u>/g,"$1");const l=[],a=n=>{if(n.nodeType===Node.TEXT_NODE)n.textContent.trim()&&l.push(new Y({text:n.textContent}));else if(n.nodeType===Node.ELEMENT_NODE){const s={};(n.tagName==="B"||n.tagName==="STRONG")&&(s.bold=!0),(n.tagName==="I"||n.tagName==="EM")&&(s.italics=!0),n.tagName==="U"&&(s.underline={}),n.childNodes.length&&n.childNodes.forEach(i=>{i.nodeType===Node.TEXT_NODE?i.textContent.trim()&&l.push(new Y({...s,text:i.textContent})):a(i)})}};return t.childNodes.forEach(a),l},ze=async o=>{if(!o){console.error("No content provided for Word download.");return}try{const t=document.createElement("div");t.innerHTML=o.replace(/<u class="red-underline">(.+?)<\/u>/g,"$1");const l=[];t.childNodes.forEach(s=>{let i="";s.tagName==="BR"?l.push(new ne({children:[new Y({text:""})]})):l.push(new ne({children:$e(s.outerHTML||s.textContent)}))});const a=new Ce({sections:[{properties:{},children:l}]}),n=await Se.toBlob(a);ie.saveAs(n,Q("docx"))}catch(t){console.error("Error generating the Word document:",t),alert("An error occurred while generating the Word document: "+t.message)}},Ie=async o=>{try{if(!o)throw new Error("No content provided for PDF download.");const t=document.createElement("div");t.style.position="absolute",t.style.opacity="1",t.style.width="100%",t.style.padding="20px",t.style.boxSizing="border-box";const l=o.replace(/<u class="red-underline">(.+?)<\/u>/g,"$1");t.innerHTML=l,document.body.appendChild(t),setTimeout(async()=>{const a=await Te(t,{scale:2}),n=new Ee,s=a.toDataURL("image/png"),i=n.internal.pageSize.getWidth(),v=n.internal.pageSize.getHeight(),r=10,p=i-2*r,j=a.height*p/a.width;if(j>v-2*r){const C=v-2*r,w=a.width*C/a.height;n.addImage(s,"PNG",r,r,w,C)}else n.addImage(s,"PNG",r,r,p,j);n.save(Q("pdf")),document.body.removeChild(t)},100)}catch(t){console.error("Error downloading as PDF:",t),alert("An error occurred: "+t.message)}},Fe=({text:o,quillRef:t,handleRefresh:l,handleReset:a})=>{const{language:n}=le(),s={en:{process:"Process",download:"Download",downloadTxt:"Download .txt",downloadDocx:"Download .docx",downloadPdf:"Download .pdf",reset:"Reset",downloadSuccess:"Downloaded {type}!",downloadError:"Failed to download {type}",downloading:"Downloading...",resetConfirmation:"Are you sure you want to reset the editor? This cannot be undone.",emptyTextError:"Text is empty. Please add content before downloading."},kn:{process:"ಪ್ರಕ್ರಿಯೆ",download:"ಡೌನ್‌ಲೋಡ್",downloadTxt:".txt ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",downloadDocx:".docx ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",downloadPdf:".pdf ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",reset:"ಮರುಹೊಂದಿಸಿ",downloadSuccess:"{type} ಯಶಸ್ವಿಯಾಗಿ ಡೌನ್‌ಲೋಡ್!",downloadError:"{type} ಡೌನ್‌ಲೋಡ್ ವಿಫಲವಾಗಿದೆ",downloading:"ಡೌನ್‌ಲೋಡ್ ಆಗುತ್ತಿದೆ...",resetConfirmation:"ನೀವು ಸಂಪಾದಕವನ್ನು ಮರುಹೊಂದಿಸಲು ಖಚಿತವಾಗಿದ್ದೀರಾ? ಹಿಂತಿರುಗಿಸಲು ಸಾಧ್ಯವಿಲ್ಲ.",emptyTextError:"ಪಠ್ಯ ಖಾಲಿ. ಡೌನ್‌ಲೋಡ್ ಮಾಡಲು ವಿಷಯ ಸೇರಿಸಿ."}},i=s[n]||s.en,[v,r]=x.useState(!1),[p,j]=x.useState({open:!1,message:"",type:""}),[C,w]=x.useState(!1),[W,R]=x.useState(!1),[E,k]=x.useState(null),N=async(S,q)=>{if(!o||o.trim()===""||o==="<p><br></p>"){R(!0);return}r(!0);try{await q(),j({open:!0,message:i.downloadSuccess.replace("{type}",S),type:"success"})}catch{j({open:!0,message:i.downloadError.replace("{type}",S),type:"error"})}r(!1)},M=()=>j({...p,open:!1}),$=S=>{k(S.currentTarget)},b=()=>{k(null)},F=()=>{N(".txt",()=>Me(o)),b()},D=()=>{N(".docx",()=>ze(o)),b()},A=()=>{N(".pdf",()=>Ie(o)),b()},H=()=>{const S=t.current?.getEditor();S&&S.setText(""),w(!1)},P=()=>{w(!0)},O=()=>{H()},z=()=>{R(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center w-full pl-0 pr-8 sm:pr-12 justify-start gap-0",children:[e.jsxs(L,{variant:"contained",onClick:l,className:"!flex !items-center !space-x-1.5 min-w-0 ml-4 sm:ml-6",sx:{padding:"8px 12px",fontSize:"0.85rem",height:"40px",background:"linear-gradient(135deg, #10b981, #059669)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)","&:hover":{background:"linear-gradient(135deg, #059669, #047857)",boxShadow:"0 6px 20px rgba(16, 185, 129, 0.4)",transform:"translateY(-1px)"}},children:[e.jsx(he,{fontSize:"small"}),e.jsx("span",{children:i.process})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(L,{variant:"contained",onClick:$,className:"!flex !items-center !space-x-1.5 mr-2",sx:{padding:"8px 16px",fontSize:"0.85rem",height:"40px",background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)","&:hover":{background:"linear-gradient(135deg, #1d4ed8, #1e40af)",boxShadow:"0 6px 20px rgba(59, 130, 246, 0.4)",transform:"translateY(-1px)"}},children:[e.jsx(fe,{fontSize:"small"}),e.jsx("span",{children:i.download})]}),e.jsxs(be,{anchorEl:E,open:!!E,onClose:b,slotProps:{paper:{sx:{mt:1,minWidth:180}}},children:[e.jsx(U,{onClick:F,sx:{py:1.5},children:i.downloadTxt}),e.jsx(U,{onClick:D,sx:{py:1.5},children:i.downloadDocx}),e.jsx(U,{onClick:A,sx:{py:1.5},children:i.downloadPdf})]}),e.jsxs(L,{variant:"contained",onClick:P,className:"!flex !items-center !space-x-1.5 mr-4 sm:mr-6",sx:{padding:"8px 12px",fontSize:"0.85rem",height:"40px",background:"linear-gradient(135deg, #ef4444, #dc2626)",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)","&:hover":{background:"linear-gradient(135deg, #dc2626, #b91c1c)",boxShadow:"0 6px 20px rgba(239, 68, 68, 0.4)",transform:"translateY(-1px)"}},children:[e.jsx(we,{fontSize:"small"}),e.jsx("span",{children:i.reset})]})]}),e.jsx(ye,{open:p.open,autoHideDuration:4e3,onClose:M,message:p.message,action:e.jsx(ve,{size:"small","aria-label":"close",color:"inherit",onClick:M,children:e.jsx(je,{fontSize:"small"})}),severity:p.type,sx:{"& .MuiSnackbarContent-root":{backgroundColor:p.type==="success"?"#10b981":"#ef4444"}}}),e.jsxs(J,{open:C,onClose:()=>w(!1),children:[e.jsx(V,{children:i.reset}),e.jsx(ee,{children:e.jsx(te,{children:i.resetConfirmation})}),e.jsxs(oe,{children:[e.jsx(L,{onClick:()=>w(!1),children:"Cancel"}),e.jsx(L,{onClick:O,variant:"contained",color:"error",children:"Confirm"})]})]}),e.jsxs(J,{open:W,onClose:z,children:[e.jsx(V,{children:"Error"}),e.jsx(ee,{children:e.jsx(te,{children:i.emptyTextError})}),e.jsx(oe,{children:e.jsx(L,{onClick:z,children:"Close"})})]}),v&&e.jsx(ae,{})]})})},G={correctness:{},suggestions:{}},He=(o,t,l=[])=>{G.correctness[o]=t,G.suggestions[o]=l},Pe=o=>G.suggestions[o]||[],de=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px"],ue=ce.import("attributors/style/size");ue.whitelist=de;ce.register(ue,!0);const Oe={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image","video","formula"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:de}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},re=[".",",","!","?",";",":"],qe=(o,t)=>{let l=t,a=t;for(;l>0&&!/\s/.test(o[l-1])&&!re.includes(o[l-1]);)l--;for(;a<o.length&&!/\s/.test(o[a])&&!re.includes(o[a]);)a++;return o.substring(l,a)},K=(o,t)=>{if(!t||t.length===0)return;const l=o.getText(),a=[];new Set(t),t.forEach(n=>{const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`([^\\w]|^)(${s})([^\\w]|$)`,"g");let v;for(;(v=i.exec(l))!==null;){const r=v.index+v[1].length,p=v[2].length;a.push({index:r,length:p,word:n})}}),a.sort((n,s)=>s.index-n.index),a.forEach(({index:n,length:s})=>{o.formatText(n,s,{underline:!0})}),requestAnimationFrame(()=>{const n=document.querySelector(".ql-editor");n&&n.querySelectorAll("u").forEach(i=>{i.classList.contains("red-underline")||i.classList.add("red-underline")})})},se=(o,t)=>{K(o,[t])},ge=document.createElement("style");ge.innerHTML=`
  .red-underline {
    text-decoration: underline;
    text-decoration-color: red;  /* Only the underline will be red */
    text-decoration-thickness: 3px;  /* Adjust underline thickness if needed */
  }
`;document.head.appendChild(ge);const _=o=>{const t=/[^\w\u0C80-\u0CFF]+/g;return o.replace(t,"")},Be=({clickedWord:o,suggestions:t,tooltipPosition:l,setClickedWord:a,replaceWord:n,addDictionary:s,replaceAll:i,ignoreAll:v})=>{const{language:r}=le(),p={en:{addToDictionary:"Add to Dictionary",replaceAll:"Replace All",ignoreAll:"Ignore All",noSuggestions:"No suggestions available."},kn:{addToDictionary:"Add to Dictionary",replaceAll:"Replace All",ignoreAll:"Ignore All",noSuggestions:"ಯಾವುದೇ ಸಲಹೆಗಳಿಲ್ಲ"}},j=p[r]||p.en,C=x.useRef(null),w=x.useRef(!1);x.useEffect(()=>{const E=k=>{C.current&&!C.current.contains(k.target)&&(w.current||a(null))};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[a]);const W=()=>{w.current=!0,i()},R=()=>{a(null)};return e.jsxs("div",{ref:C,className:"absolute bg-white border border-green-900 p-2 mt-16 rounded shadow-lg z-40",style:{top:l.top,left:l.left,minWidth:"150px"},children:[e.jsx("span",{className:"absolute top-0 right-2 cursor-pointer text-red-600 hover:bg-gray-600 text-3xl",onClick:R,"aria-label":"Close",children:"×"}),e.jsxs("div",{className:"mt-3 space-y-0.5",children:[t[o]?.length>0?t[o].map((E,k)=>e.jsxs("div",{children:[e.jsx("div",{className:"cursor-pointer text-green-700 hover:bg-gray-200 text-sm hover:font-bold",onClick:()=>n(E),children:E}),k<t[o].length-1&&e.jsx("hr",{className:"my-0 border-t border-gray-300"})]},E)):e.jsx("div",{className:"text-gray-500 text-sm",children:j.noSuggestions}),e.jsx("hr",{className:"my-1 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-black hover:bg-gray-200 text-sm hover:font-bold",onClick:s,children:j.addToDictionary}),e.jsx("hr",{className:"my-1 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-black hover:bg-gray-200 text-sm hover:font-bold",onClick:W,children:j.replaceAll}),e.jsx("hr",{className:"my-1 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-black hover:bg-gray-200 text-sm hover:font-bold",onClick:v,children:j.ignoreAll})]})]})},kt=()=>{const t=Le().state?.uploadedContent||"",[l,a]=x.useState(""),[n,s]=x.useState([]),[i,v]=x.useState({}),[r,p]=x.useState(null),[j,C]=x.useState({}),[w,W]=x.useState(""),[R,E]=x.useState(!1),[k,N]=x.useState(!1),[M,$]=x.useState(!1),b=x.useRef(null),F=`!@#$%^&*()_+[]{}|;:',.<>/?~-=\\"`,{wrongWords:D,setWrongWords:A}=me();x.useEffect(()=>{b.current&&b.current.getEditor().root.setAttribute("spellcheck","false")},[]),x.useEffect(()=>{if(t.length==0){A([]);return}if(t&&(console.log("updating content into editor ...."),a(t)),!D||D.length===0)return;s([]),console.log("Wrong Words Updated:",D.length),console.log("Errors Updated:",n.length),N(!0);const c=setTimeout(()=>{const d=b.current?.getEditor();console.log("Underlining the wrong words"),K(d,D),s(D),N(!1)},2e3);return()=>clearTimeout(c)},[t]),x.useEffect(()=>{const c=b.current?.getEditor(),d=()=>{$(!0)},u=()=>{$(!1)},y=async(m,h)=>{if(M&&m&&m.length===0){const f=c.getText(),g=_(qe(f,m.index));if(g)if(n.includes(g)||D.includes(g)){let T=Pe(g);if(T.length===0)try{T=await ke(g),He(g,!1,T)}catch(B){console.error("Error fetching suggestions:",B)}p(g),v(B=>({...B,[g]:T}));const I=c.getBounds(m.index);C({top:I.bottom+90,left:I.left})}else p(null)}};return document.addEventListener("mousedown",d),document.addEventListener("mouseup",u),c.on("selection-change",y),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("mouseup",u),c.off("selection-change",y)}},[n,M]);const H=c=>{a(c)},P=async c=>{c.key===" "&&(clearTimeout(window.debounceTimer),window.debounceTimer=setTimeout(async()=>{const d=b.current.getEditor(),u=d.getSelection();if(u){const m=d.getText(0,u.index).trim().split(/\s+/);let h=m[m.length-1].split("").filter(f=>!F.includes(f)).join("");if(Ae(h))return;if(n.includes(_(h)))se(d,h);else if(h&&!/^[a-zA-Z0-9]+$/.test(h)&&!(await We(h)).status){s(T=>[...T,h]);const g=b.current?.getEditor();se(g,h)}}},300))},O=c=>{const d=b.current.getEditor(),u=d.getText(),y=r.length,m=new RegExp(`(\\W|^)(${r})(\\W|$)`,"g");let h;const f=[];for(;(h=m.exec(u))!==null;){const g=h.index+h[1].length,T=y;f.push({startIndex:g,length:T})}for(let g=f.length-1;g>=0;g--){const{startIndex:T,length:I}=f[g];d.deleteText(T,I),d.insertText(T,c)}s(n.filter(g=>g!==r)),p(null)},z=async()=>{if(r)try{const c=_(r),d=await Re([c]);if(d){const u=b.current?.getEditor();if(!u)return;const y=u.getText();let m=y.indexOf(r);for(;m!==-1;)u.formatText(m,r.length,{underline:!1,color:""}),m=y.indexOf(r,m+r.length);A(h=>h.filter(f=>f!==r)),s(h=>h.filter(f=>f!==r)),p(null),console.log("Word added to dictionary:",d)}else console.error("Failed to add the word to the dictionary.")}catch(c){console.error("Error adding word to dictionary:",c)}},S=()=>{r&&E(!0)},q=()=>{const c=b.current.getEditor(),d=c.getText(),u=r.length,y=new RegExp(`(\\W|^)(${r})(\\W|$)`,"g");let m;const h=[];for(;(m=y.exec(d))!==null;){const f=m.index+m[1].length;h.push({startIndex:f,word:w,clickedWordLength:u})}h.reverse().forEach(({startIndex:f,word:g,clickedWordLength:T})=>{c.deleteText(f,T),c.insertText(f,g)}),A(f=>f.filter(g=>g!==r)),E(!1),p(null),W("")},X=()=>{const c=b.current?.getEditor(),d=c.getText();let u=d.indexOf(r);if(u!==-1)for(;u!==-1;)c.formatText(u,r.length,{underline:!1,color:""}),u=d.indexOf(r,u+r.length);p(null),s(n.filter(y=>y!==r)),A(y=>y.filter(m=>m!==r))},Z=async()=>{console.log("Refresh called"),N(!0);const c=b.current?.getEditor();s([]);const d=await Ne(c);if(d){const u=De(d);A(u),K(c,u),s(u)}N(!1)},pe=c=>{c.target.focus()};return e.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-[98vw] xl:max-w-8xl mx-auto p-0 sm:p-1 gap-0.5 sm:gap-1.5 overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 pt-1 sm:pt-1.5 relative z-20",children:e.jsx("div",{className:"w-full max-w-5xl mx-auto flex justify-between items-center py-1 gap-3 sm:gap-6",children:e.jsx(Fe,{text:l,quillRef:b,handleRefresh:Z})})}),e.jsx("div",{className:"flex-1 min-h-0 bg-white rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden mx-0.5 sm:mx-0",children:e.jsx(xe,{ref:b,value:l,onChange:H,onKeyDown:P,modules:Oe,className:"h-full w-full",style:{height:"100%",width:"100%",maxWidth:"100%",minHeight:"0"},theme:"snow"})}),R&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/40 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 p-6 rounded-2xl shadow-2xl w-full max-w-lg mx-4",children:[e.jsxs("h5",{className:"mb-5 font-bold text-xl text-gray-800",children:["Replace all ",e.jsxs("span",{className:"text-red-500",children:['"',r,'"']}),e.jsxs("span",{className:"text-sm font-normal text-gray-500 block mt-1",children:["(",l.split(new RegExp(r,"gi")).length-1," occurrences)"]})]}),e.jsx("input",{type:"text",autoFocus:!0,value:w,onChange:c=>W(c.target.value),onClick:pe,className:"w-full border-2 border-gray-200 p-4 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all duration-200 text-lg placeholder-gray-400",placeholder:"Type replacement word here..."}),e.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-8 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-all duration-200 shadow-sm",children:"Cancel"}),e.jsx("button",{onClick:q,disabled:!w.trim(),className:`px-8 py-3 rounded-xl font-semibold text-lg shadow-lg transition-all duration-200 transform ${w.trim()?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white hover:shadow-xl hover:-translate-y-0.5 active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Replace All"})]})]})}),r&&i[r]&&e.jsx(Be,{clickedWord:r,suggestions:i,tooltipPosition:j,setClickedWord:p,replaceWord:O,addDictionary:z,replaceAll:S,ignoreAll:X})]}),k&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-40 bg-black/20 backdrop-blur-sm",children:e.jsx(ae,{})})]})};export{kt as default};
