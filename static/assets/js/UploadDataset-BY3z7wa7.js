import{r as o,j as e}from"./react-Bl8E5IuX.js";import{B as M,a as l,y as U,t as F,g as D,k as E,z as B}from"./@mui-BjEdyK66.js";import{b as O}from"./manageUserAddedWords-BlgQ8JjM.js";import{u as P}from"./index-9O4q5W6i.js";import"./@xmldom-BKc_IZtg.js";import"./react-is-CeStwY2e.js";import"./clsx-B-dksMZM.js";import"./@emotion-DYK3XH82.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./@babel-Bm-97afu.js";import"./stylis-DDa9OTMq.js";import"./react-transition-group-CtzHUc09.js";import"./react-dom-D2p-lIFc.js";import"./scheduler-CWG1rEj-.js";import"./jspdf-CWhYFgit.js";import"./fflate-B2WnmEVw.js";import"./fast-png-CMV4RlVR.js";import"./iobuffer-BmLRrqXH.js";import"./react-router-dom-BIFhErXW.js";import"./react-router-DeFDwJHZ.js";import"./@remix-run-DBs3BZwC.js";import"./axios-B9ygI19o.js";const te=()=>{const[j,d]=o.useState(!1),[y,m]=o.useState(!1),[u,n]=o.useState(null),[b,p]=o.useState(""),[S,i]=o.useState(!1),[C,f]=o.useState(""),[k,h]=o.useState("success"),{language:s}=P(),[x,r]=o.useState(""),a={en:{title:"Upload Dataset",confirmTitle:"Confirm Upload",confirmMessage:"Are you sure you want to upload this dataset?",error:"Please select a file before uploading.",uploadingMessage:"Uploading your dataset...",uploadSuccess:"Upload successful!",uploadFailure:"Failed to upload the dataset. Please try again.",cancel:"Cancel",confirm:"Confirm",info:"Uploading a file will directly modify the main dictionary. Ensure the dataset is in .txt or .docx format, containing a list of words. Changes may take time to reflect within the system. Please reload the dictionary from the main dashboard after the upload is complete."},kn:{title:"ಡೇಟಾಸೆಟ್ ಅಪ್‌ಲೋಡ್ ಮಾಡಿ",confirmTitle:"ಅಪ್ಲೋಡ್ ದೃಢೀಕರಿಸಿ",confirmMessage:"ಈ ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲು ನೀವು ಖಚಿತವಾಗಿದ್ದೀರಾ?",error:"ದಯವಿಟ್ಟು ಅಪ್ಲೋಡ್ ಮಾಡುವ ಮೊದಲು ಫೈಲ್ ಅನ್ನು ಆಯ್ಕೆಮಾಡಿ.",uploadingMessage:"ನಿಮ್ಮ ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲಾಗುತ್ತಿದೆ...",uploadSuccess:"ಅಪ್‌ಲೋಡ್ ಯಶಸ್ವಿ!",uploadFailure:"ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲು ವಿಫಲವಾಗಿದೆ. ದಯವಿಟ್ಟು ಪುನರಾಯಿಸಲು ಪ್ರಯತ್ನಿಸಿ.",cancel:"ರದ್ದುಮಾಡಿ",confirm:"ದೃಢೀಕರಿಸಿ",info:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡುವುದರಿಂದ ಮುಖ್ಯ ಡಿಕ್ಷನರಿ ನೇರವಾಗಿ ಬದಲಾಯಿಸಲಿದೆ. ಪದಗಳ ಪಟ್ಟಿಯನ್ನು ಹೊಂದಿರುವ ಸರಿಯಾದ ಡೇಟಾಸೆಟ್ ಅನ್ನು .txt ಅಥವಾ .docx ರೂಪದಲ್ಲಿ ಅಪ್ಲೋಡ್ ಮಾಡುವುದನ್ನು ಖಚಿತಪಡಿಸಿಕೊಳ್ಳಿ. ಬದಲಾವಣೆಗಳು ವ್ಯವಸ್ಥೆಯಲ್ಲಿ ಕಾಣಲು ಸ್ವಲ್ಪ ಸಮಯ ಬೇಕಾಗಬಹುದು. ದಯವಿಟ್ಟು ಡ್ಯಾಶ್‌ಬೋರ್ಡ್‌ನಲ್ಲಿ ಡಿಕ್ಷನರಿಯನ್ನು ಮರುಲೋಡ್ ಮಾಡಿ."}},N=t=>{n(t.target.files[0])},v=async t=>{if(t.preventDefault(),!u){p(a[s].error);return}d(!0)},w=async()=>{m(!0),p(""),r("");try{const t=await O(u);console.log("Update successful:",t),f(t.message||a[s].uploadSuccess),h("success"),i(!0),r(t.message||a[s].uploadSuccess)}catch(t){console.error("Error during update:",t),f(a[s].uploadFailure),h("error"),i(!0),r(a[s].uploadFailure)}finally{m(!1),n(null)}},c=()=>{d(!1),n(null),r("")},g=()=>{i(!1)};return e.jsxs("div",{className:"p-4 lg:w-1/2 md:w-2/3 sm:w-full lg:ml-auto lg:mr-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-center",children:a[s].title}),e.jsx(M,{component:"div",sx:{whiteSpace:"normal",overflowX:"auto",my:2,p:1,bgcolor:"grey.100",color:"grey.800",border:"1px solid",borderColor:"grey.300",borderRadius:2,fontSize:"0.875rem",fontWeight:"700"},children:a[s].info}),e.jsxs("form",{onSubmit:v,className:"mt-10 ml-20 mb-[100%]",children:[e.jsx("input",{type:"file",accept:".txt,.docx",className:"mb-4",required:!0,onChange:N}),e.jsx(l,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(U,{}),children:"Upload"})]}),e.jsx(F,{open:j,onClose:c,children:e.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:e.jsx("div",{className:"bg-white p-6 rounded shadow-lg",children:y?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(D,{}),e.jsx("p",{className:"mt-4",children:a[s].uploadingMessage})]}):e.jsx(e.Fragment,{children:x?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold",children:a[s].uploadSuccess}),e.jsx("p",{children:x}),e.jsx("div",{className:"mt-4",children:e.jsx(l,{onClick:c,color:"primary",children:"OK"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold",children:a[s].confirmTitle}),e.jsx("p",{children:a[s].confirmMessage}),e.jsx("p",{className:"text-red-600",children:b}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{onClick:w,color:"primary",children:a[s].confirm}),e.jsx(l,{onClick:c,color:"secondary",className:"ml-2",children:a[s].cancel})]})]})})})})}),e.jsx(E,{open:S,autoHideDuration:6e3,onClose:g,children:e.jsx(B,{onClose:g,severity:k,children:C})})]})};export{te as default};
