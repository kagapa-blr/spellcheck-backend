import{b as n}from"./index-C9dsG2Cu.js";import{j as p}from"./jwt-decode-VWaDGczM.js";const t={loginApi:"/user/api/v1/login",signUpApi:"/user/api/v1/signup"},l=async(s,e)=>{try{const r=await n.post(t.loginApi,{username:s,password:e}),{access_token:o,token_type:a}=r.data,i=p(o).sub;return{access_token:o,token_type:a,logged_user:i}}catch(r){throw r.response?new Error(r.response.data.message||"Login failed"):r.request?new Error("No response from server"):new Error("Error during login: "+r.message)}},u=async s=>{try{return(await n.post(t.signUpApi,s)).data}catch(e){throw e.response?new Error(e.response.data.detail||"Signup failed ,Please try again later or choose a different username"):e.request?new Error("No response from server"):new Error("Error during signup: "+e.message)}};export{l,u as s};
