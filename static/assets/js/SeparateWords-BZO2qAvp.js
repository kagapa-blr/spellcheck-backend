import{r as o,a as R,j as e}from"./react-87inLI7G.js";import{r as p}from"./react-table-Dma02od8.js";import{C as V}from"./react-csv-CQ7_wXVR.js";import{c as W}from"./manageUserAddedWords-R0mJmHbE.js";import{u as O}from"./index-B3hJj7DY.js";import{P as U,T as j,a as S,g as C,v as z,G as A,w as G,J as I,K as d,N as g,O as N,k as J,z as K}from"./@mui-BgS5I2ZV.js";import"./@xmldom-DBEIMRBk.js";import"./prop-types-BKNjMPK8.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./jspdf-cGIlQrZ8.js";import"./@babel-CRFnVEoO.js";import"./fflate-EnPhvkmS.js";import"./react-router-dom-Bk36vaWp.js";import"./react-router-ri5stJUf.js";import"./@remix-run-CGjFHglr.js";import"./axios-CCb-kr4I.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-Ca6BSwXP.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-DGTJP9RM.js";const ye=()=>{const[n,k]=o.useState([]),[m,x]=o.useState(null),[v,l]=o.useState(!1),[M,i]=o.useState(""),[c,u]=o.useState(!1),{language:a}=O(),s={en:{title:"Separate Typical Words",searchPlaceholder:"Search...",fileUploadLabel:"Upload a file",processButton:"Process",exportCSV:"Export to CSV",index:"Index",word:"Word",frequency:"Frequency",successMessage:"Data processed successfully.",errorMessage:"Error processing the file.",selectFileMessage:"Please select a file to process.",noDataMessage:"No data available for export."},kn:{title:"à²¸à²¾à²®à²¾à²¨à³à²¯ à²¶à²¬à³à²¦à²—à²³à²¨à³à²¨à³ à²µà²¿à²­à²œà²¿à²¤à²—à³Šà²³à²¿à²¸à²¿",searchPlaceholder:"à²¶à³‹à²§à²¿à²¸à²¿...",fileUploadLabel:"à²•à²¡à²¤à²µà²¨à³à²¨à³ à²†à²¯à³à²¦à³ à²¸à²²à³à²²à²¿à²¸à²¿",processButton:"à²¸à²²à³à²²à²¿à²¸à²¿",exportCSV:"CSVà²—à³† à²°à²«à³à²¤à³",index:"à²‡à²‚à²¡à³†à²•à³à²¸à³",word:"à²¶à²¬à³à²¦",frequency:"à²†à²µà³ƒà²¤à³à²¤à²¿",successMessage:"à²¦à²¤à³à²¤à²¾à²‚à²¶à²µà³ à²¯à²¶à²¸à³à²µà²¿à²¯à²¾à²—à²¿ à²¸à²‚à²¸à³à²•à²°à²¿à²¸à²²à²¾à²¯à²¿à²¤à³.",errorMessage:"à²•à³‹à²¶à²µà²¿à²²à³à²²à²¦ à²«à³ˆà²²à³.",selectFileMessage:"à²¦à²¯à²µà²¿à²Ÿà³à²Ÿà³ à²ªà³à²°à²•à³à²°à²¿à²¯à³†à²—à³‹à²¸à³à²•à²° à²«à³ˆà²²à³ à²…à²¨à³à²¨à³ à²†à²¯à³à²•à³† à²®à²¾à²¡à²¿.",noDataMessage:"à²°à²«à³à²¤à³à²—à³‹à²¸à³à²•à²° à²¯à²¾à²µà³à²¦à³‡ à²¡à³‡à²Ÿà²¾ à²²à²­à³à²¯à²µà²¿à²²à³à²²."}},h=R.useMemo(()=>[{Header:s[a].index,accessor:"index"},{Header:s[a].word,accessor:"word"},{Header:s[a].frequency,accessor:"frequency"}],[a]),{getTableProps:B,getTableBodyProps:P,headerGroups:T,rows:y,prepareRow:F,setGlobalFilter:D}=p.useTable({columns:h,data:n},p.useGlobalFilter,p.useSortBy),E=t=>{n.length===0?(i(s[a].noDataMessage),l(!0)):D(t.target.value||void 0)},H=t=>{const r=t.target.files[0];x(r)},w=async()=>{if(!m){i(s[a].selectFileMessage),l(!0);return}u(!0);try{const t=await W(m),r=Object.keys(t).map((b,L)=>({index:L+1,word:b,frequency:t[b]}));k(r),i(s[a].successMessage),l(!0)}catch(t){console.error("Error during processing:",t),i(s[a].errorMessage),l(!0)}finally{u(!1),x(null)}},f=()=>{l(!1)},q={position:"sticky",top:0,backgroundColor:"#fff",zIndex:1};return e.jsxs(U,{elevation:3,style:{padding:"10px",margin:"20px",marginBottom:"100px"},children:[e.jsx(j,{variant:"h6",align:"center",gutterBottom:!0,children:s[a].title}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[e.jsx("input",{type:"file",accept:".txt,.docx",onChange:H,style:{marginRight:"10px",marginBottom:"20px"}}),e.jsx(S,{variant:"contained",color:"primary",onClick:w,disabled:c,style:{marginLeft:"10px"},children:c?e.jsx(C,{size:24,color:"inherit"}):s[a].processButton})]}),e.jsx(j,{variant:"body2",align:"center",style:{marginBottom:"20px"},children:s[a].fileUploadLabel}),e.jsx(z,{variant:"outlined",placeholder:s[a].searchPlaceholder,onChange:E,fullWidth:!0,style:{marginBottom:"20px"}}),e.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:e.jsx(V,{data:n,filename:"words_frequency.csv",style:{textDecoration:"none",margin:"0 10px"},onClick:()=>{n.length===0&&(i(s[a].noDataMessage),l(!0))},children:e.jsx(S,{variant:"contained",color:"primary",disabled:n.length===0,children:s[a].exportCSV})})}),e.jsx(A,{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs(G,{...B(),"aria-label":"simple table",children:[e.jsx(I,{children:T.map(t=>o.createElement(d,{...t.getHeaderGroupProps(),key:t.id},t.headers.map(r=>o.createElement(g,{...r.getHeaderProps(r.getSortByToggleProps()),key:r.id,style:q},r.render("Header"),e.jsx("span",{children:r.isSorted?r.isSortedDesc?" ðŸ”½":" ðŸ”¼":""})))))}),e.jsx(N,{...P(),children:y.length>0?y.map(t=>(F(t),o.createElement(d,{...t.getRowProps(),key:t.id},t.cells.map(r=>o.createElement(g,{...r.getCellProps(),key:r.id},r.render("Cell")))))):e.jsx(d,{children:e.jsx(g,{colSpan:h.length,align:"center",children:c?e.jsx(C,{}):"No data available."})})})]})}),e.jsx(J,{open:v,autoHideDuration:6e3,onClose:f,children:e.jsx(K,{onClose:f,severity:"info",sx:{width:"100%"},children:M})})]})};export{ye as default};
