import{r as x,j as e}from"./react-87inLI7G.js";import{u as b,a as C,L as N}from"./index-D539wFXm.js";import{b as k}from"./spellcheckApiService-89dGNqow.js";import{l as D}from"./mammoth-BuPscTfY.js";import{a as W}from"./react-router-zBP4Nj_3.js";import{C as F,r as I,T as f,B as S,a as h}from"./@mui-BK4dZkFY.js";import"./@xmldom-DBEIMRBk.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-DkNWbL0q.js";import"./@remix-run-kM2C-PwP.js";import"./axios-CCb-kr4I.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-D5W7hg8W.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-CJLDkAA4.js";import"./underscore-b--1-EUR.js";import"./bluebird-D4N7l2sI.js";import"./base64-js-D0UyVEDn.js";import"./jszip-BmYNtbIh.js";import"./xmlbuilder-MWHHUJUD.js";import"./dingbat-to-unicode-Cm9PDbSb.js";import"./lop-DvYkyT-y.js";import"./option-Dhni4At5.js";const T=(d,r)=>{let m;return(...c)=>{clearTimeout(m),m=setTimeout(()=>{d(...c)},r)}},B=({isOpen:d,onClose:r,onSubmit:m,isLoading:c})=>{const[n,p]=x.useState(null),[s,u]=x.useState(""),{language:t}=b(),{setWrongWords:i}=C(),o={en:{title:"Upload a File",dragDropText:"Drag and drop a file here or click to upload.",submit:"Submit",cancel:"Cancel",error:"Please select a file to upload."},kn:{title:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡಿ",dragDropText:"ಇಲ್ಲಿಗೆ ಫೈಲ್ ಅನ್ನು ತೆಗೆಯಿರಿ ಅಥವಾ ಅಪ್ಲೋಡ್ ಮಾಡಲು ಕ್ಲಿಕ್ ಮಾಡಿ.",submit:"ಕಳುಹಿಸಿ",cancel:"ರದ್ದು ಮಾಡಿ",error:"ದಯವಿಟ್ಟು ಅಪ್ಲೋಡ್ ಮಾಡಲು ಫೈಲ್ ಆಯ್ಕೆಮಾಡಿ."}},g=l=>{p(l.target.files[0]),u("")},y=l=>{l.preventDefault();const a=l.dataTransfer.files[0];a&&(p(a),u(""))},w=l=>{l.preventDefault()},j=x.useCallback(T(async l=>{try{const a=await k(l);a.wrong_words&&Array.isArray(a.wrong_words)?i(a.wrong_words):console.error("No wrong words found in response:",a)}catch(a){console.error("Error fetching wrong words:",a)}},300),[i]),v=async()=>{if(!n){u(o[t].error);return}await j(n),m(n),r()};return d&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg w-11/12 max-w-lg p-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4",children:o[t].title}),e.jsxs("div",{className:"border-2 border-dashed border-gray-400 p-6 mb-4 cursor-pointer hover:border-blue-500 transition duration-200",onDrop:y,onDragOver:w,onClick:()=>document.getElementById("fileInput").click(),children:[n?e.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.name}):e.jsx("p",{className:"text-lg text-gray-500",children:o[t].dragDropText}),e.jsx("input",{type:"file",accept:".txt,.docx",onChange:g,className:"hidden",id:"fileInput"})]}),s&&e.jsx("p",{className:"text-red-600 mb-4",children:s})," ",e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-2 rounded-md shadow hover:bg-blue-700 transition duration-200 mr-2",disabled:c,children:c?"Submitting...":o[t].submit}),e.jsx("button",{onClick:r,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-md shadow hover:bg-gray-400 transition duration-200",children:o[t].cancel})]})]})})},se=()=>{const d=W(),{language:r}=b(),[m,c]=x.useState(!1),[n,p]=x.useState(!1),s={en:{welcome:"Welcome to the Spellcheck Application",description:"Enhance your writing with our powerful spell checker.",button:"Go to Editor",upload:"Upload a File",fileInfo:["Maximum File Size: 5MB","Maximum Words: 1 Lakh","File Type: .txt or .docx"]},kn:{welcome:"ಕಾಗುಣಿತ ಪರೀಕ್ಷಕ - ಕನ್ನಡ ಭಾಷೆ",description:"ನಮ್ಮ ಶಕ್ತಿಶಾಲಿ ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನ ಪರಿಶೋಧಕದೊಂದಿಗೆ ನಿಮ್ಮ ಬರಹವನ್ನು ಉತ್ತಮಗೊಳಿಸಿ.",button:"ಪಠ್ಯ ಸಂಪಾದಕ/ ಟೆಕ್ಸ್ಟ್‌ ಎಡಿಟರ್‌",upload:"ಕಾಗುಣಿತ ಸಲ್ಲಿಸಿ",fileInfo:["ಕಡತದ ಗಾತ್ರ ಗರಿಷ್ಠ: 5MB","ಪದಗಳ ಮಿತಿ ಗರಿಷ್ಠ: 1 ಲಕ್ಷ","ಕಡತ ಮಾದರಿ: .txt ಅಥವಾ .docx"]}},u=async t=>{p(!0);let i="";if(t.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")try{const o=await t.arrayBuffer(),{value:g}=await D.convertToHtml({arrayBuffer:o});i=g}catch(o){console.error("Error reading .docx file:",o)}else t.type==="text/plain"&&(i=await t.text());p(!1),d("/editor",{state:{uploadedContent:i}})};return e.jsxs(F,{maxWidth:"full-width",className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-red-100 to-yellow-400 p-4",children:[e.jsx(I,{elevation:3,className:"p-8 rounded-lg shadow-lg bg-white w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{variant:"h3",className:"font-bold mb-4",color:"primary",children:s[r].welcome}),e.jsx(f,{variant:"body1",className:"mb-4",children:s[r].description}),e.jsx("div",{className:"mb-4 text-sm text-gray-700",children:s[r].fileInfo.map((t,i)=>e.jsx("div",{children:t},i))}),e.jsxs(S,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"center",alignItems:"center",gap:2,children:[e.jsx(h,{variant:"contained",color:"primary",onClick:()=>c(!0),size:"large",sx:{"&:hover":{backgroundColor:"blue.700"}},children:s[r].upload}),e.jsx(h,{variant:"outlined",color:"primary",onClick:()=>d("/editor"),size:"large",sx:{"&:hover":{backgroundColor:"blue.200",borderColor:"blue.600"}},children:s[r].button})]})]})}),e.jsx(B,{isOpen:m,onClose:()=>c(!1),onSubmit:u,isLoading:n}),n&&e.jsx(N,{})," "]})};export{se as default};
