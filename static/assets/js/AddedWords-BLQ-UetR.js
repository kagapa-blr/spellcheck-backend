import{r as o,j as e}from"./react-Bl8E5IuX.js";import{u as G,c as Y}from"./index-DYAPDBaZ.js";import{a as H,r as W,s as J}from"./manageUserAddedWords-BCHAyOuk.js";import{g as K,T as l,P as Q,S as V,v as X,a,w as Z,t as A}from"./@mui-Dvuxu2KE.js";import"./@xmldom-BKc_IZtg.js";import"./react-dom-D2p-lIFc.js";import"./scheduler-CWG1rEj-.js";import"./jspdf-Bl93u6rT.js";import"./@babel-CmLpJG3-.js";import"./fflate-B2WnmEVw.js";import"./fast-png-CMV4RlVR.js";import"./iobuffer-BmLRrqXH.js";import"./react-router-dom-B1qGaJ2j.js";import"./react-router-CD8NSrr0.js";import"./@remix-run-sy-dwM7X.js";import"./axios-C0Zqfgkc.js";import"./react-is-CeStwY2e.js";import"./clsx-B-dksMZM.js";import"./prop-types-DR1dB6Ma.js";import"./reselect-DZLbCFhA.js";import"./use-sync-external-store-4iKEuUk0.js";import"./@emotion-DcIGMyTZ.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./stylis-DDa9OTMq.js";import"./react-transition-group-BfhPo8fl.js";import"./@popperjs-DC5wud4b.js";const Ae=()=>{const{language:t}=G(),{loggedUser:b}=Y(),[f,N]=o.useState([]),[k,M]=o.useState(0),[d,B]=o.useState(10),[p,v]=o.useState(0),[y,R]=o.useState(""),[j,q]=o.useState(""),[D,w]=o.useState(!0),[_,O]=o.useState(null),[i,S]=o.useState([]),[I,P]=o.useState(""),[C,m]=o.useState(""),[T,u]=o.useState(!1),[U,h]=o.useState(!1),r={en:{userAddedWords:"User Added Words",saveButton:"Save Words to Dictionary",removeButton:"Remove Words",loading:"Loading...",noData:"No data available.",confirmRemove:"Are you sure you want to remove the selected words?",confirmSave:"Are you sure you want to save the selected words?",yes:"Yes",no:"No",search:"Search word...",searchBtn:"Search",wordsColoumn:"Word",frequencyColoumn:"Frequency"},kn:{userAddedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",saveButton:"ಪದಗಳನ್ನು ನಿಘಂಟಿನಲ್ಲಿ ಸೇರಿಸಿ",removeButton:"ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಿ",loading:"ಲೋಡ್ ಆಗುತ್ತಿದೆ...",noData:"ದತ್ತಾಂಶ ಲಭ್ಯವಿಲ್ಲ.",confirmRemove:"ನೀವು ಆಯ್ಕೆಯಾದ ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಲು ಖಚಿತವಲ್ಲವೇ?",confirmSave:"ನೀವು ಆಯ್ಕೆ ಮಾಡಿದ ಪದಗಳನ್ನು ಉಳಿಸಲು ಖಚಿತವಲ್ಲವೇ?",yes:"ಹೌದು",no:"ಇಲ್ಲ",search:"ಪದ ಹುಡುಕಿ...",searchBtn:"ಹುಡುಕಿ",wordsColoumn:"ಪದಗಳು",frequencyColoumn:"ಆವರ್ತನೆ"}},x=async()=>{w(!0);try{const s=await H({limit:d,offset:p*d,search:j});N(s.data||[]),M(s.total||0),P(b),S([])}catch(s){O(s.response?.data?.detail||s.message)}finally{w(!1)}};o.useEffect(()=>{x()},[p,d,j]);const E=()=>{v(0),q(y)},L=async()=>{try{const s=Array.isArray(i)?i:[],c=f.filter(n=>s.includes(n.word)).map(n=>({word:n.word,frequency:n.frequency}));await J(c,I),await W(s),h(!1),m("Words saved successfully!"),x()}catch(s){m(s.response?.data?.detail||s.message)}},z=async()=>{try{await W(i),u(!1),m("Words removed successfully!"),x()}catch(s){m(s.response?.data?.detail||s.message)}},F=[{field:"word",headerName:r[t].wordsColoumn||"Word",flex:1},{field:"frequency",headerName:r[t].frequencyColoumn||"Frequency",width:120}];return D?e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[e.jsx(K,{}),e.jsx(l,{mt:2,children:r[t].loading})]}):e.jsxs(Q,{className:"p-6 max-w-6xl mx-auto mt-6",children:[e.jsx(l,{variant:"h4",textAlign:"center",mb:2,children:r[t].userAddedWords}),e.jsxs(V,{direction:"row",spacing:2,mb:2,children:[e.jsx(X,{fullWidth:!0,size:"small",label:r[t].search,value:y,onChange:s=>R(s.target.value)}),e.jsx(a,{variant:"contained",onClick:E,children:r[t].searchBtn})]}),e.jsx("div",{style:{height:520,width:"100%"},children:e.jsx(Z,{rows:f,columns:F,checkboxSelection:!0,disableRowSelectionOnClick:!0,paginationMode:"server",rowCount:k,pageSizeOptions:[10,20,50,100],page:p,pageSize:d,onPaginationModelChange:({page:s,pageSize:c})=>{v(s),B(c)},onRowSelectionModelChange:s=>{const c=Array.isArray(s)?s:Array.from(s||[]),n=f.filter(g=>c.includes(g.id)).map(g=>g.word);S(n)}})}),e.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[e.jsx(a,{variant:"contained",disabled:i.length===0,onClick:()=>h(!0),children:r[t].saveButton}),e.jsx(a,{variant:"contained",color:"error",disabled:i.length===0,onClick:()=>u(!0),children:r[t].removeButton})]}),e.jsx(A,{open:T,onClose:()=>u(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(l,{children:r[t].confirmRemove}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx(a,{onClick:z,children:r[t].yes}),e.jsx(a,{onClick:()=>u(!1),children:r[t].no})]})]})})}),e.jsx(A,{open:U,onClose:()=>h(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(l,{children:r[t].confirmSave}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx(a,{onClick:L,children:r[t].yes}),e.jsx(a,{onClick:()=>h(!1),children:r[t].no})]})]})})}),C&&e.jsx(l,{textAlign:"center",mt:2,color:"success.main",children:C})]})};export{Ae as default};
