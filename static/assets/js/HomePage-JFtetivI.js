import{r as x,j as e}from"./react-87inLI7G.js";import{u as b,a as F,L as k}from"./index-DKSXpQ_6.js";import{b as D}from"./spellcheckApiService-CSq4zrTQ.js";import{l as I}from"./mammoth-BuPscTfY.js";import{a as T}from"./react-router-ri5stJUf.js";import{C as W,q as S,T as f,B as E,a as h}from"./@mui-rDTjNwct.js";import"./@xmldom-DBEIMRBk.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-Bk36vaWp.js";import"./@remix-run-CGjFHglr.js";import"./axios-CCb-kr4I.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-CqTsbBQu.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-CJLDkAA4.js";import"./underscore-b--1-EUR.js";import"./bluebird-D4N7l2sI.js";import"./base64-js-D0UyVEDn.js";import"./jszip-BmYNtbIh.js";import"./xmlbuilder-MWHHUJUD.js";import"./dingbat-to-unicode-Cm9PDbSb.js";import"./lop-DvYkyT-y.js";import"./option-Dhni4At5.js";const B=(p,a)=>{let u;return(...d)=>{clearTimeout(u),u=setTimeout(()=>{p(...d)},a)}},M=({isOpen:p,onClose:a,onSubmit:u,isLoading:d})=>{const[n,c]=x.useState(null),[s,m]=x.useState(""),{language:o}=b(),{setWrongWords:l}=F(),r={en:{title:"Upload a File",dragDropText:"Drag and drop a file here or click to upload.",submit:"Submit",cancel:"Cancel",error:"Please select a file to upload.",invalidFile:"Invalid file type. Please upload a .txt or .docx file."},kn:{title:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡಿ",dragDropText:"ಇಲ್ಲಿಗೆ ಫೈಲ್ ಅನ್ನು ತೆಗೆಯಿರಿ ಅಥವಾ ಅಪ್ಲೋಡ್ ಮಾಡಲು ಕ್ಲಿಕ್ ಮಾಡಿ.",submit:"ಕಳುಹಿಸಿ",cancel:"ರದ್ದು ಮಾಡಿ",error:"ದಯವಿಟ್ಟು ಅಪ್ಲೋಡ್ ಮಾಡಲು ಫೈಲ್ ಆಯ್ಕೆಮಾಡಿ.",invalidFile:"ಅಮಾನ್ಯ ಫೈಲ್ ಪ್ರಕಾರ. ದಯವಿಟ್ಟು .txt ಅಥವಾ .docx ಫೈಲ್ ಅನ್ನು ಅಪ್ಲೋಡ್ ಮಾಡಿ."}},g=i=>{const t=[".txt",".docx"],N=i.name.split(".").pop().toLowerCase();return t.includes(`.${N}`)},y=i=>{const t=i.target.files[0];t&&(g(t)?(c(t),m("")):(m(r[o].invalidFile),c(null)))},w=i=>{i.preventDefault();const t=i.dataTransfer.files[0];t&&(g(t)?(c(t),m("")):(m(r[o].invalidFile),c(null)))},v=i=>{i.preventDefault()},j=x.useCallback(B(async i=>{try{const t=await D(i);t.wrong_words&&Array.isArray(t.wrong_words)?l(t.wrong_words):console.error("No wrong words found in response:",t)}catch(t){console.error("Error fetching wrong words:",t)}},300),[l]),C=async()=>{if(!n){m(r[o].error);return}await j(n),u(n),a()};return p&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg w-11/12 max-w-lg p-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4",children:r[o].title}),e.jsxs("div",{className:"border-2 border-dashed border-gray-400 p-6 mb-4 cursor-pointer hover:border-blue-500 transition duration-200",onDrop:w,onDragOver:v,onClick:()=>document.getElementById("fileInput").click(),children:[n?e.jsx("p",{className:"text-lg font-medium text-gray-700",children:n.name}):e.jsx("p",{className:"text-lg text-gray-500",children:r[o].dragDropText}),e.jsx("input",{type:"file",accept:".txt,.docx",onChange:y,className:"hidden",id:"fileInput"})]}),s&&e.jsx("p",{className:"text-red-600 mb-4",children:s})," ",e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-6 py-2 rounded-md shadow hover:bg-blue-700 transition duration-200 mr-2",disabled:d||!n,children:d?"Submitting...":r[o].submit}),e.jsx("button",{onClick:a,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-md shadow hover:bg-gray-400 transition duration-200",children:r[o].cancel})]})]})})},le=()=>{const p=T(),{language:a}=b(),[u,d]=x.useState(!1),[n,c]=x.useState(!1),s={en:{welcome:"Welcome to the Spellcheck Application",description:"Enhance your writing with our powerful spell checker.",button:"Go to Editor",upload:"Upload a File",fileInfo:["Maximum File Size: 5MB","Maximum Words: 1 Lakh","File Type: .txt or .docx"]},kn:{welcome:"ಕಾಗುಣಿತ ಪರೀಕ್ಷಕ - ಕನ್ನಡ ಭಾಷೆ",description:"ನಮ್ಮ ಶಕ್ತಿಶಾಲಿ ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನ ಪರಿಶೋಧಕದೊಂದಿಗೆ ನಿಮ್ಮ ಬರಹವನ್ನು ಉತ್ತಮಗೊಳಿಸಿ.",button:"ಪಠ್ಯ ಸಂಪಾದಕ/ ಟೆಕ್ಸ್ಟ್‌ ಎಡಿಟರ್‌",upload:"ಕಾಗುಣಿತ ಸಲ್ಲಿಸಿ",fileInfo:["ಕಡತದ ಗಾತ್ರ ಗರಿಷ್ಠ: 5MB","ಪದಗಳ ಮಿತಿ ಗರಿಷ್ಠ: 1 ಲಕ್ಷ","ಕಡತ ಮಾದರಿ: .txt ಅಥವಾ .docx"]}},m=async o=>{c(!0);let l="";if(o.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")try{const r=await o.arrayBuffer(),{value:g}=await I.convertToHtml({arrayBuffer:r});l=g}catch(r){console.error("Error reading .docx file:",r)}else o.type==="text/plain"&&(l=await o.text());c(!1),p("/editor",{state:{uploadedContent:l}})};return e.jsxs(W,{maxWidth:"full-width",className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-red-100 to-yellow-400 p-4",children:[e.jsx(S,{elevation:3,className:"p-8 rounded-lg shadow-lg bg-white w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{variant:"h3",className:"font-bold mb-4",color:"primary",children:s[a].welcome}),e.jsx(f,{variant:"body1",className:"mb-4",children:s[a].description}),e.jsx("div",{className:"mb-4 text-sm text-gray-700",children:s[a].fileInfo.map((o,l)=>e.jsx("div",{children:o},l))}),e.jsxs(E,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"center",alignItems:"center",gap:2,children:[e.jsx(h,{variant:"contained",color:"primary",onClick:()=>d(!0),size:"large",sx:{"&:hover":{backgroundColor:"blue.700"}},children:s[a].upload}),e.jsx(h,{variant:"outlined",color:"primary",onClick:()=>p("/editor"),size:"large",sx:{"&:hover":{backgroundColor:"blue.200",borderColor:"blue.600"}},children:s[a].button})]})]})}),e.jsx(M,{isOpen:u,onClose:()=>d(!1),onSubmit:m,isLoading:n}),n&&e.jsx(k,{})," "]})};export{le as default};
