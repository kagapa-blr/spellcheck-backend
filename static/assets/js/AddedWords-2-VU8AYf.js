import{r as a,j as e}from"./react-Bl8E5IuX.js";import{u as G,c as H}from"./index-WeQj1kqw.js";import{a as J,r as S,s as K}from"./manageUserAddedWords-BPonc2V0.js";import{g as Y,T as d,P as Q,v as V,w as X,x as Z,y as W,z as c,G as A,J as _,K as $,a as i,t as b}from"./@mui-CqzUGJzF.js";import"./@xmldom-BKc_IZtg.js";import"./react-dom-D2p-lIFc.js";import"./scheduler-CWG1rEj-.js";import"./jspdf-CWhYFgit.js";import"./@babel-Bm-97afu.js";import"./fflate-B2WnmEVw.js";import"./fast-png-CMV4RlVR.js";import"./iobuffer-BmLRrqXH.js";import"./react-router-dom-BIFhErXW.js";import"./react-router-DeFDwJHZ.js";import"./@remix-run-DBs3BZwC.js";import"./axios-B9ygI19o.js";import"./react-is-CeStwY2e.js";import"./clsx-B-dksMZM.js";import"./@emotion-DYK3XH82.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./stylis-DDa9OTMq.js";import"./react-transition-group-CtzHUc09.js";const Se=()=>{const{language:t}=G(),{loggedUser:y}=H(),[l,T]=a.useState([]),[P,N]=a.useState(0),[m,k]=a.useState(10),[g,j]=a.useState(0),[p,R]=a.useState(""),[B,w]=a.useState(!0),[ee,M]=a.useState(null),[n,u]=a.useState([]),[q,D]=a.useState(""),[C,h]=a.useState(""),[O,x]=a.useState(!1),[U,f]=a.useState(!1),o={en:{userAddedWords:"User Added Words",saveButton:"Save Words to Dictionary",removeButton:"Remove Words",loading:"Loading...",noData:"No data available.",confirmRemove:"Are you sure you want to remove the selected words?",confirmSave:"Are you sure you want to save the selected words?",selectAllColoumn:"Select All",wordsColoumn:"Words",frequencyColoumn:"Frequency",yes:"Yes",no:"No",search:"Search word..."},kn:{userAddedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",saveButton:"ಪದಗಳನ್ನು ನಿಘಂಟಿನಲ್ಲಿ ಸೇರಿಸಿ",removeButton:"ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಿ",loading:"ಲೋಡ್ ಆಗುತ್ತಿದೆ...",noData:"ದತ್ತಾಂಶ ಲಭ್ಯವಿಲ್ಲ.",confirmRemove:"ನೀವು ಆಯ್ಕೆಯಾದ ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಲು ಖಚಿತವಲ್ಲವೇ?",confirmSave:"ನೀವು ಆಯ್ಕೆ ಮಾಡಿದ ಪದಗಳನ್ನು ಉಳಿಸಲು ಖಚಿತವಲ್ಲವೇ?",selectAllColoumn:"ಎಲ್ಲವನ್ನೂ ಆಯ್ಕೆಮಾಡಿ",wordsColoumn:"ಪದಗಳು",frequencyColoumn:"ಆವರ್ತನ",yes:"ಹೌದು",no:"ಇಲ್ಲ",search:"ಪದ ಹುಡುಕಿ..."}},v=async()=>{w(!0);try{const s=await J({limit:m,offset:g*m,search:p});T(s.data||[]),N(s.total||0),D(y),u([])}catch(s){M(s.response?.data?.detail||s.message)}finally{w(!1)}};a.useEffect(()=>{const s=setTimeout(()=>{v()},400);return()=>clearTimeout(s)},[g,m,p,y]);const E=s=>{u(r=>r.includes(s)?r.filter(z=>z!==s):[...r,s])},L=()=>{n.length===l.length?u([]):u(l.map(s=>s.word))},F=async()=>{try{const s=l.filter(r=>n.includes(r.word)).map(r=>({word:r.word,frequency:r.frequency}));await K(s,q),await S(n),f(!1),h("Words saved successfully!"),v()}catch(s){h(s.response?.data?.detail||s.message)}},I=async()=>{try{await S(n),x(!1),h("Words removed successfully!"),v()}catch(s){h(s.response?.data?.detail||s.message)}};return B?e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[e.jsx(Y,{}),e.jsx(d,{mt:2,children:o[t].loading})]}):e.jsxs(Q,{className:"p-6 max-w-5xl mx-auto mt-6",children:[e.jsx(d,{variant:"h4",textAlign:"center",mb:2,children:o[t].userAddedWords}),e.jsx(V,{fullWidth:!0,size:"small",label:o[t].search,value:p,onChange:s=>{j(0),R(s.target.value)},sx:{mb:2}}),l.length===0?e.jsx(d,{textAlign:"center",mt:4,children:o[t].noData}):e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsx(Z,{children:e.jsxs(W,{children:[e.jsxs(c,{children:[e.jsx(A,{checked:l.length>0&&n.length===l.length,onChange:L}),o[t].selectAllColoumn]}),e.jsx(c,{children:o[t].wordsColoumn}),e.jsx(c,{children:o[t].frequencyColoumn})]})}),e.jsx(_,{children:l.map(s=>e.jsxs(W,{hover:!0,children:[e.jsx(c,{children:e.jsx(A,{checked:n.includes(s.word),onChange:()=>E(s.word)})}),e.jsx(c,{children:s.word}),e.jsx(c,{children:s.frequency})]},s.id))})]}),e.jsx($,{component:"div",count:P,page:g,onPageChange:(s,r)=>j(r),rowsPerPage:m,onRowsPerPageChange:s=>{k(parseInt(s.target.value,10)),j(0)},rowsPerPageOptions:[10,20,50,100]})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[e.jsx(i,{variant:"contained",disabled:n.length===0,onClick:()=>f(!0),children:o[t].saveButton}),e.jsx(i,{variant:"contained",color:"error",disabled:n.length===0,onClick:()=>x(!0),children:o[t].removeButton})]}),e.jsx(b,{open:O,onClose:()=>x(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(d,{children:o[t].confirmRemove}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx(i,{onClick:I,children:o[t].yes}),e.jsx(i,{onClick:()=>x(!1),children:o[t].no})]})]})})}),e.jsx(b,{open:U,onClose:()=>f(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(d,{children:o[t].confirmSave}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx(i,{onClick:F,children:o[t].yes}),e.jsx(i,{onClick:()=>f(!1),children:o[t].no})]})]})})}),C&&e.jsx(d,{textAlign:"center",mt:2,color:"success.main",children:C})]})};export{Se as default};
