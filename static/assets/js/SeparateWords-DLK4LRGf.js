import{r as o,a as R,j as e}from"./react-87inLI7G.js";import{r as d}from"./react-table-Dma02od8.js";import{C as V}from"./react-csv-CQ7_wXVR.js";import{c as W}from"./manageUserAddedWords-CXdoQ7gj.js";import{u as U}from"./index-D539wFXm.js";import{r as z,T as j,a as S,g as C,v as A,F as G,w as I,G as N,J as p,K as g,N as O,l as J,z as K}from"./@mui-BK4dZkFY.js";import"./@xmldom-DBEIMRBk.js";import"./prop-types-BKNjMPK8.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-DkNWbL0q.js";import"./react-router-zBP4Nj_3.js";import"./@remix-run-kM2C-PwP.js";import"./axios-CCb-kr4I.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-D5W7hg8W.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-CJLDkAA4.js";const ue=()=>{const[n,k]=o.useState([]),[x,m]=o.useState(null),[v,l]=o.useState(!1),[M,i]=o.useState(""),[c,u]=o.useState(!1),{language:t}=U(),s={en:{title:"Separate Typical Words",searchPlaceholder:"Search...",fileUploadLabel:"Upload a file",processButton:"Process",exportCSV:"Export to CSV",index:"Index",word:"Word",frequency:"Frequency",successMessage:"Data processed successfully.",errorMessage:"Error processing the file.",selectFileMessage:"Please select a file to process.",noDataMessage:"No data available for export."},kn:{title:"à²¸à²¾à²®à²¾à²¨à³à²¯ à²¶à²¬à³à²¦à²—à²³à²¨à³à²¨à³ à²µà²¿à²­à²œà²¿à²¤à²—à³Šà²³à²¿à²¸à²¿",searchPlaceholder:"à²¶à³‹à²§à²¿à²¸à²¿...",fileUploadLabel:"à²•à²¡à²¤à²µà²¨à³à²¨à³ à²†à²¯à³à²¦à³ à²¸à²²à³à²²à²¿à²¸à²¿",processButton:"à²¸à²²à³à²²à²¿à²¸à²¿",exportCSV:"CSVà²—à³† à²°à²«à³à²¤à³",index:"à²‡à²‚à²¡à³†à²•à³à²¸à³",word:"à²¶à²¬à³à²¦",frequency:"à²†à²µà³ƒà²¤à³à²¤à²¿",successMessage:"à²¦à²¤à³à²¤à²¾à²‚à²¶à²µà³ à²¯à²¶à²¸à³à²µà²¿à²¯à²¾à²—à²¿ à²¸à²‚à²¸à³à²•à²°à²¿à²¸à²²à²¾à²¯à²¿à²¤à³.",errorMessage:"à²•à³‹à²¶à²µà²¿à²²à³à²²à²¦ à²«à³ˆà²²à³.",selectFileMessage:"à²¦à²¯à²µà²¿à²Ÿà³à²Ÿà³ à²ªà³à²°à²•à³à²°à²¿à²¯à³†à²—à³‹à²¸à³à²•à²° à²«à³ˆà²²à³ à²…à²¨à³à²¨à³ à²†à²¯à³à²•à³† à²®à²¾à²¡à²¿.",noDataMessage:"à²°à²«à³à²¤à³à²—à³‹à²¸à³à²•à²° à²¯à²¾à²µà³à²¦à³‡ à²¡à³‡à²Ÿà²¾ à²²à²­à³à²¯à²µà²¿à²²à³à²²."}},h=R.useMemo(()=>[{Header:s[t].index,accessor:"index"},{Header:s[t].word,accessor:"word"},{Header:s[t].frequency,accessor:"frequency"}],[t]),{getTableProps:B,getTableBodyProps:T,headerGroups:P,rows:y,prepareRow:F,setGlobalFilter:D}=d.useTable({columns:h,data:n},d.useGlobalFilter,d.useSortBy),E=a=>{n.length===0?(i(s[t].noDataMessage),l(!0)):D(a.target.value||void 0)},H=a=>{const r=a.target.files[0];m(r)},w=async()=>{if(!x){i(s[t].selectFileMessage),l(!0);return}u(!0);try{const a=await W(x),r=Object.keys(a).map((b,L)=>({index:L+1,word:b,frequency:a[b]}));k(r),i(s[t].successMessage),l(!0)}catch(a){console.error("Error during processing:",a),i(s[t].errorMessage),l(!0)}finally{u(!1),m(null)}},f=()=>{l(!1)},q={position:"sticky",top:0,backgroundColor:"#fff",zIndex:1};return e.jsxs(z,{elevation:3,style:{padding:"10px",margin:"20px",marginBottom:"100px"},children:[e.jsx(j,{variant:"h6",align:"center",gutterBottom:!0,children:s[t].title}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[e.jsx("input",{type:"file",accept:".txt,.docx",onChange:H,style:{marginRight:"10px",marginBottom:"20px"}}),e.jsx(S,{variant:"contained",color:"primary",onClick:w,disabled:c,style:{marginLeft:"10px"},children:c?e.jsx(C,{size:24,color:"inherit"}):s[t].processButton})]}),e.jsx(j,{variant:"body2",align:"center",style:{marginBottom:"20px"},children:s[t].fileUploadLabel}),e.jsx(A,{variant:"outlined",placeholder:s[t].searchPlaceholder,onChange:E,fullWidth:!0,style:{marginBottom:"20px"}}),e.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:e.jsx(V,{data:n,filename:"words_frequency.csv",style:{textDecoration:"none",margin:"0 10px"},onClick:()=>{n.length===0&&(i(s[t].noDataMessage),l(!0))},children:e.jsx(S,{variant:"contained",color:"primary",disabled:n.length===0,children:s[t].exportCSV})})}),e.jsx(G,{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs(I,{...B(),"aria-label":"simple table",children:[e.jsx(N,{children:P.map(a=>o.createElement(p,{...a.getHeaderGroupProps(),key:a.id},a.headers.map(r=>o.createElement(g,{...r.getHeaderProps(r.getSortByToggleProps()),key:r.id,style:q},r.render("Header"),e.jsx("span",{children:r.isSorted?r.isSortedDesc?" ðŸ”½":" ðŸ”¼":""})))))}),e.jsx(O,{...T(),children:y.length>0?y.map(a=>(F(a),o.createElement(p,{...a.getRowProps(),key:a.id},a.cells.map(r=>o.createElement(g,{...r.getCellProps(),key:r.id},r.render("Cell")))))):e.jsx(p,{children:e.jsx(g,{colSpan:h.length,align:"center",children:c?e.jsx(C,{}):"No data available."})})})]})}),e.jsx(J,{open:v,autoHideDuration:6e3,onClose:f,children:e.jsx(K,{onClose:f,severity:"info",sx:{width:"100%"},children:M})})]})};export{ue as default};
