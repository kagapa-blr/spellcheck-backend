import{r as n,j as e}from"./react-87inLI7G.js";import{u as v,c as N}from"./index-C_yPH_aA.js";import{l as k}from"./loginServices-D-ojc_9R.js";import{a as S}from"./react-router-zBP4Nj_3.js";import"./@xmldom-DBEIMRBk.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-DkNWbL0q.js";import"./@remix-run-kM2C-PwP.js";import"./@mui-XpaLtuFH.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-CqTsbBQu.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-CJLDkAA4.js";import"./axios-CCb-kr4I.js";import"./jwt-decode-VWaDGczM.js";const C=({isOpen:m,onClose:c,language:s})=>{const[u,g]=n.useState(""),[d,p]=n.useState(""),[i,f]=n.useState(""),[t,x]=n.useState(""),[h,o]=n.useState(""),a={en:{title:"Sign Up",username:"Username",email:"Email",phone:"Phone",password:"Password",confirmPassword:"Confirm Password",success:"Signup successful!",mismatch:"Passwords do not match",close:"Close"},kn:{title:"ನೋಂದಣಿ",username:"ಬಳಕೆದಾರ ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",password:"ಪಾಸ್ವರ್ಡ್",confirmPassword:"ಪಾಸ್ವರ್ಡ್ ದೃಢೀಕರಿಸಿ",success:"ನೋಂದಣಿ ಯಶಸ್ವಿ!",mismatch:"ಪಾಸ್ವರ್ಡ್ ಹೊಂದಿಲ್ಲ",close:"ಮುಚ್ಚಿ"}},l=r=>{r.preventDefault(),t===h?(console.log("User Data:",JSON.stringify({username:u,email:d,phone:i,password:t})),alert(a[s].success),c()):alert(a[s].mismatch)};return m?e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full max-w-xl h-auto overflow-y-auto",style:{maxHeight:"85vh"},children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:a[s].title}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:a[s].username}),e.jsx("input",{type:"text",id:"username",value:u,onChange:r=>g(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"email",children:a[s].email}),e.jsx("input",{type:"email",id:"email",value:d,onChange:r=>p(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"phone",children:a[s].phone}),e.jsx("input",{type:"text",id:"phone",value:i,onChange:r=>f(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:a[s].password}),e.jsx("input",{type:"password",id:"password",value:t,onChange:r=>x(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"confirmPassword",children:a[s].confirmPassword}),e.jsx("input",{type:"password",id:"confirmPassword",value:h,onChange:r=>o(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:a[s].title})]}),e.jsx("button",{onClick:c,className:"mt-4 text-blue-600 hover:underline",children:a[s].close})]})}):null},G=()=>{const[m,c]=n.useState(""),[s,u]=n.useState(""),[g,d]=n.useState(!1),[p,i]=n.useState(""),f=S(),{language:t,handleLanguageChange:x}=v(),{login:h}=N(),o={en:{title:"Admin Login",username:"Username",password:"Password",login:"Login",switchToSignup:"Don't have an account? Sign Up",invalidCredentials:"Invalid username or password.",emptyFields:"Please fill in both fields."},kn:{title:"ನಿರ್ವಾಹಕರ ಲಾಗಿನ್",username:"ಬಳಕೆದಾರರ ಹೆಸರು",password:"ಪಾಸ್ವರ್ಡ್",login:"ಲಾಗಿನ್",switchToSignup:"ಖಾತೆ ಇಲ್ಲವೇ? ನೋಂದಾಯಿಸಿ",invalidCredentials:"ಅಮಾನ್ಯ ಬಳಕೆದಾರರ ಹೆಸರು ಅಥವಾ ಪಾಸ್ವರ್ಡ್.",emptyFields:"ದಯವಿಟ್ಟು ಇಬ್ಬರು ಕ್ಷೇತ್ರಗಳನ್ನು ತುಂಬಿ."}},a=async l=>{var r,w;if(l.preventDefault(),i(""),!m||!s){i(o[t].emptyFields);return}try{const{access_token:b,token_type:y,logged_user:j}=await k(m,s);localStorage.setItem("access_token",b),localStorage.setItem("token_type",y),h(b,j),f("/admin/dashboard")}catch(b){const y=((w=(r=b.response)==null?void 0:r.data)==null?void 0:w.message)||o[t].invalidCredentials;i(y)}};return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",children:[e.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-10",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold mb-2 text-center",children:o[t].title}),p&&e.jsx("div",{className:"mb-4 text-red-600 font-bold text-center",children:p}),e.jsxs("form",{onSubmit:a,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:o[t].username}),e.jsx("input",{type:"text",id:"username",value:m,onChange:l=>c(l.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:o[t].password}),e.jsx("input",{type:"password",id:"password",value:s,onChange:l=>u(l.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-3 rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-500",children:o[t].login})]}),e.jsxs("p",{className:"mt-4 text-center",children:[o[t].switchToSignup,e.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 hover:underline ml-1",children:"Sign Up"})]}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>x("en"),className:`px-3 py-1 rounded ${t==="en"?"bg-gray-700 text-white":"text-gray-700"}`,children:"English"}),e.jsx("button",{onClick:()=>x("kn"),className:`px-3 py-1 rounded ${t==="kn"?"bg-gray-700 text-white":"text-gray-700"}`,children:"ಕನ್ನಡ"})]})]}),e.jsx(C,{isOpen:g,onClose:()=>d(!1),language:t})]})};export{G as default};
