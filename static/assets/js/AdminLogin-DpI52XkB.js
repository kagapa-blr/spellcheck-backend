import{r as o,j as e}from"./react-87inLI7G.js";import{u as k,c as C}from"./index-pHtZKyHr.js";import{l as P}from"./loginServices-uVR9yOBI.js";import{a as F}from"./react-router-ri5stJUf.js";import{r as U,I as q,V as I,s as D}from"./@mui-BzP58hmc.js";import"./@xmldom-DBEIMRBk.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./jspdf-cGIlQrZ8.js";import"./@babel-CRFnVEoO.js";import"./fflate-EnPhvkmS.js";import"./react-router-dom-Bk36vaWp.js";import"./@remix-run-CGjFHglr.js";import"./axios-CCb-kr4I.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-Ca6BSwXP.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-DGTJP9RM.js";import"./jwt-decode-VWaDGczM.js";const E=({isOpen:m,onClose:c,language:s})=>{const[u,p]=o.useState(""),[x,f]=o.useState(""),[d,h]=o.useState(""),[n,w]=o.useState(""),[t,b]=o.useState(""),a={en:{title:"Sign Up",username:"Username",email:"Email",phone:"Phone",password:"Password",confirmPassword:"Confirm Password",success:"Signup successful!",mismatch:"Passwords do not match",close:"Close"},kn:{title:"ನೋಂದಣಿ",username:"ಬಳಕೆದಾರ ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",password:"ಪಾಸ್ವರ್ಡ್",confirmPassword:"ಪಾಸ್ವರ್ಡ್ ದೃಢೀಕರಿಸಿ",success:"ನೋಂದಣಿ ಯಶಸ್ವಿ!",mismatch:"ಪಾಸ್ವರ್ಡ್ ಹೊಂದಿಲ್ಲ",close:"ಮುಚ್ಚಿ"}},l=r=>{r.preventDefault(),n===t?(console.log("User Data:",JSON.stringify({username:u,email:x,phone:d,password:n})),alert(a[s].success),c()):alert(a[s].mismatch)};return m?e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full max-w-xl h-auto overflow-y-auto",style:{maxHeight:"85vh"},children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:a[s].title}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:a[s].username}),e.jsx("input",{type:"text",id:"username",value:u,onChange:r=>p(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"email",children:a[s].email}),e.jsx("input",{type:"email",id:"email",value:x,onChange:r=>f(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"phone",children:a[s].phone}),e.jsx("input",{type:"text",id:"phone",value:d,onChange:r=>h(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:a[s].password}),e.jsx("input",{type:"password",id:"password",value:n,onChange:r=>w(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"confirmPassword",children:a[s].confirmPassword}),e.jsx("input",{type:"password",id:"confirmPassword",value:t,onChange:r=>b(r.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:a[s].title})]}),e.jsx("button",{onClick:c,className:"mt-4 text-blue-600 hover:underline",children:a[s].close})]})}):null},se=()=>{const[m,c]=o.useState(""),[s,u]=o.useState(""),[p,x]=o.useState(!1),[f,d]=o.useState(!1),[h,n]=o.useState(""),w=F(),{language:t,handleLanguageChange:b}=k(),{login:a}=C(),l={en:{title:"Admin Login",username:"Username OR email",password:"Password",login:"Login",switchToSignup:"Don't have an account? Sign Up",invalidCredentials:"Invalid username or password.",emptyFields:"Please fill in both fields."},kn:{title:"ನಿರ್ವಾಹಕರ ಲಾಗಿನ್",username:"ಬಳಕೆದಾರರ ಹೆಸರು ಅಥವಾ ಇ-ಮೇಲ್ ",password:"ಪಾಸ್ವರ್ಡ್",login:"ಲಾಗಿನ್",switchToSignup:"ಖಾತೆ ಇಲ್ಲವೇ? ನೋಂದಾಯಿಸಿ",invalidCredentials:"ಅಮಾನ್ಯ ಬಳಕೆದಾರರ ಹೆಸರು ಅಥವಾ ಪಾಸ್ವರ್ಡ್.",emptyFields:"ದಯವಿಟ್ಟು ಇಬ್ಬರು ಕ್ಷೇತ್ರಗಳನ್ನು ತುಂಬಿ."}},r=async i=>{var v,N;if(i.preventDefault(),n(""),!m||!s){n(l[t].emptyFields);return}try{const{access_token:g,token_type:y,logged_user:S}=await P(m,s);localStorage.setItem("access_token",g),localStorage.setItem("token_type",y),a(g,S),w("/admin/dashboard")}catch(g){const y=((N=(v=g.response)==null?void 0:v.data)==null?void 0:N.message)||l[t].invalidCredentials;n(y)}},j=()=>{x(i=>!i)};return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",children:[e.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-10",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold mb-2 text-center",children:l[t].title}),h&&e.jsx("div",{className:"mb-4 text-red-600 font-bold text-center",children:h}),e.jsxs("form",{onSubmit:r,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:l[t].username}),e.jsx("input",{type:"text",id:"username",value:m,onChange:i=>c(i.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:l[t].password}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:p?"text":"password",id:"password",value:s,onChange:i=>u(i.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"}),e.jsx(U,{position:"end",className:"absolute right-0 top-0 mt-3 mr-2",children:e.jsx(q,{onClick:j,"aria-label":"toggle password visibility",children:p?e.jsx(I,{}):e.jsx(D,{})})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-3 rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-500",children:l[t].login})]}),e.jsxs("p",{className:"mt-4 text-center",children:[l[t].switchToSignup,e.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 hover:underline ml-1",children:"Sign Up"})]}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>b("en"),className:`px-3 py-1 rounded ${t==="en"?"bg-gray-700 text-white":"text-gray-700"}`,children:"English"}),e.jsx("button",{onClick:()=>b("kn"),className:`px-3 py-1 rounded ${t==="kn"?"bg-gray-700 text-white":"text-gray-700"}`,children:"ಕನ್ನಡ"})]})]}),e.jsx(E,{isOpen:f,onClose:()=>d(!1),language:t})]})};export{se as default};
