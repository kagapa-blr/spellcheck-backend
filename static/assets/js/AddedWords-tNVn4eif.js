import{r as d,j as e}from"./react-87inLI7G.js";import{u as F,c as I}from"./index-B3hJj7DY.js";import{a as g,s as H,r as b}from"./manageUserAddedWords-R0mJmHbE.js";import{g as P,T as i,w as Y,x as W,a as h,t as C}from"./@mui-BgS5I2ZV.js";import"./@xmldom-DBEIMRBk.js";import"./react-dom-CosTHhxT.js";import"./scheduler-CzFDRTuY.js";import"./jspdf-cGIlQrZ8.js";import"./@babel-CRFnVEoO.js";import"./fflate-EnPhvkmS.js";import"./react-router-dom-Bk36vaWp.js";import"./react-router-ri5stJUf.js";import"./@remix-run-CGjFHglr.js";import"./axios-CCb-kr4I.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-Ca6BSwXP.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-DGTJP9RM.js";const ce=()=>{const{language:t}=F(),[c,y]=d.useState([]),[A,v]=d.useState(!0),[j,S]=d.useState(null),[m,x]=d.useState([]),[k,R]=d.useState(""),[w,u]=d.useState(""),[M,f]=d.useState(!1),[q,p]=d.useState(!1),{loggedUser:N}=I(),o={en:{title:"User Added Words to User Dictionary",userAddedWords:"User Added Words",saveButton:"Save Words to Dictionary",removeButton:"Remove Words",loading:"Loading...",error:"Failed to load words.",noData:"No data available.",confirmRemove:"Are you sure you want to remove the selected words?",confirmSave:"Are you sure you want to save the selected words?",selectAllColoumn:"Select All",wordsColoumn:"Words",frequencyColoumn:"Frequency",yes:"Yes",no:"No"},kn:{userAddedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",saveButton:"ಪದಗಳನ್ನು ನಿಘಂಟಿನಲ್ಲಿ ಸೇರಿಸಿ",removeButton:"ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಿ",loading:"ಲೋಡ್ ಆಗುತ್ತಿದೆ...",error:"ಪದಗಳನ್ನು ಲೋಡ್ ಮಾಡಲು ವಿಫಲವಾಗಿದೆ.",noData:"ದತ್ತಾಂಶ ಲಭ್ಯವಿಲ್ಲ.",confirmRemove:"ನೀವು ಆಯ್ಕೆಯಾದ ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಲು ಖಚಿತವಲ್ಲವೇ?",confirmSave:"ನೀವು ಆಯ್ಕೆ ಮಾಡಿದ ಪದಗಳನ್ನು ಉಳಿಸಲು ಖಚಿತವಲ್ಲವೇ?",selectAllColoumn:"ಎಲ್ಲವನ್ನೂ ಆಯ್ಕೆಮಾಡಿ",wordsColoumn:"ಪದಗಳು",frequencyColoumn:"ಆವರ್ತನ",yes:"ಹೌದು",no:"ಇಲ್ಲ"}};d.useEffect(()=>{(async()=>{var r,l;v(!0);try{const a=await g();y(a),R(N)}catch(a){S(((l=(r=a.response)==null?void 0:r.data)==null?void 0:l.detail)||a)}finally{v(!1)}})()},[N]);const B=s=>{x(r=>r.includes(s)?r.filter(l=>l!==s):[...r,s])},D=()=>{m.length===c.length?x([]):x(c.map(s=>s.word))},U=()=>{p(!0)},T=async()=>{var l,a;const s=c.filter(n=>m.includes(n.word)).map(n=>({word:n.word,frequency:n.frequency}));u("");let r="";try{r=await H(s,k),u(r.message||"Words saved successfully!"),await b(m);const n=await g();y(n),x([]),p(!1)}catch(n){u(r.message+((a=(l=n.response)==null?void 0:l.data)==null?void 0:a.detail)||n),p(!1)}},E=()=>{f(!0)},L=async()=>{var r,l;u("");let s="";try{s=await b(m),u(s.message||"Words removed successfully!");const a=await g();y(a),x([]),f(!1)}catch(a){u(s.message+((l=(r=a.response)==null?void 0:r.data)==null?void 0:l.detail)||a),f(!1)}};return A?e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[e.jsx(P,{}),e.jsx(i,{variant:"h5",className:"mt-4",children:o[t].loading})]}):j?e.jsx(i,{variant:"h5",className:"text-center text-red-500",sx:{mt:10},children:j}):e.jsxs("div",{className:"p- w-full lg:w-2/3 md:w-2/3 lg:mx-auto",children:[" ",e.jsx(i,{variant:"h4",className:"font-bold text-center mt-8",children:o[t].userAddedWords}),e.jsx("div",{className:"overflow-y-auto mt-5",style:{maxHeight:"400px"},children:c.length===0?e.jsx(i,{variant:"h6",className:"text-center mt-5",children:o[t].noData}):e.jsx("div",{className:"relative",children:e.jsxs(Y,{className:"min-w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"border border-gray-300 p-2 text-left",children:[e.jsx(W,{checked:m.length===c.length,onChange:D,color:"primary"}),o[t].selectAllColoumn]}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:o[t].wordsColoumn}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:o[t].frequencyColoumn})]})}),e.jsx("tbody",{children:c.map((s,r)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300",children:e.jsx(W,{checked:m.includes(s.word),onChange:()=>B(s.word),color:"primary"})}),e.jsx("td",{className:"border border-gray-300 p-1 text-left",children:s.word}),e.jsx("td",{className:"border border-gray-300 p-1 text-left",children:s.frequency})]},r))})]})})}),e.jsxs("div",{className:"text-center mt-10 flex justify-center space-x-4 mb-10",children:[e.jsx(h,{variant:"contained",color:"primary",className:"px-6 py-2",onClick:U,children:o[t].saveButton}),e.jsx(h,{variant:"contained",color:"secondary",className:"px-6 py-2",onClick:E,children:o[t].removeButton})]}),w&&e.jsx(i,{className:`text-center font-bold mt-10 ${c.length===0?"text-green-500":"text-red-500"}`,children:w}),e.jsx(C,{open:M,onClose:()=>f(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(i,{variant:"h6",children:o[t].confirmRemove}),e.jsxs("div",{className:"mt-4 flex justify-around",children:[e.jsx(h,{onClick:L,color:"primary",children:o[t].yes}),e.jsx(h,{onClick:()=>f(!1),color:"secondary",children:o[t].no})]})]})})}),e.jsx(C,{open:q,onClose:()=>p(!1),children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-md w-full",children:[e.jsx(i,{variant:"h6",children:o[t].confirmSave}),e.jsxs("div",{className:"mt-4 flex justify-around",children:[e.jsx(h,{onClick:T,color:"primary",children:o[t].yes}),e.jsx(h,{onClick:()=>p(!1),color:"secondary",children:o[t].no})]})]})})})]})};export{ce as default};
