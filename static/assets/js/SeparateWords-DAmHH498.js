import{r as o,a as R,j as e}from"./react-Bl8E5IuX.js";import{r as p}from"./react-table-bQjnNOI9.js";import{C as V}from"./react-csv-BhJYL82f.js";import{c as W}from"./manageUserAddedWords-CrZXE5tV.js";import{u as O}from"./index-BnsPYwA1.js";import{P as U,T as j,a as S,g as C,v as z,z as A,G,J as I,K as d,N as g,O as N,k as J,w as K}from"./@mui-CnGH6ATm.js";import"./@xmldom-BKc_IZtg.js";import"./prop-types-DR1dB6Ma.js";import"./react-dom-D2p-lIFc.js";import"./scheduler-CWG1rEj-.js";import"./jspdf-Bl93u6rT.js";import"./@babel-CmLpJG3-.js";import"./fflate-B2WnmEVw.js";import"./fast-png-CMV4RlVR.js";import"./iobuffer-BmLRrqXH.js";import"./react-router-dom-B1qGaJ2j.js";import"./react-router-CD8NSrr0.js";import"./@remix-run-sy-dwM7X.js";import"./axios-C0Zqfgkc.js";import"./react-is-CeStwY2e.js";import"./clsx-B-dksMZM.js";import"./reselect-DZLbCFhA.js";import"./use-sync-external-store-4iKEuUk0.js";import"./@emotion-DcIGMyTZ.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./stylis-DDa9OTMq.js";import"./react-transition-group-BfhPo8fl.js";import"./@popperjs-DC5wud4b.js";const Ce=()=>{const[n,k]=o.useState([]),[m,x]=o.useState(null),[v,l]=o.useState(!1),[M,i]=o.useState(""),[c,u]=o.useState(!1),{language:r}=O(),s={en:{title:"Separate Typical Words",searchPlaceholder:"Search...",fileUploadLabel:"Upload a file",processButton:"Process",exportCSV:"Export to CSV",index:"Index",word:"Word",frequency:"Frequency",successMessage:"Data processed successfully.",errorMessage:"Error processing the file.",selectFileMessage:"Please select a file to process.",noDataMessage:"No data available for export."},kn:{title:"à²¸à²¾à²®à²¾à²¨à³à²¯ à²¶à²¬à³à²¦à²—à²³à²¨à³à²¨à³ à²µà²¿à²­à²œà²¿à²¤à²—à³Šà²³à²¿à²¸à²¿",searchPlaceholder:"à²¶à³‹à²§à²¿à²¸à²¿...",fileUploadLabel:"à²•à²¡à²¤à²µà²¨à³à²¨à³ à²†à²¯à³à²¦à³ à²¸à²²à³à²²à²¿à²¸à²¿",processButton:"à²¸à²²à³à²²à²¿à²¸à²¿",exportCSV:"CSVà²—à³† à²°à²«à³à²¤à³",index:"à²‡à²‚à²¡à³†à²•à³à²¸à³",word:"à²¶à²¬à³à²¦",frequency:"à²†à²µà³ƒà²¤à³à²¤à²¿",successMessage:"à²¦à²¤à³à²¤à²¾à²‚à²¶à²µà³ à²¯à²¶à²¸à³à²µà²¿à²¯à²¾à²—à²¿ à²¸à²‚à²¸à³à²•à²°à²¿à²¸à²²à²¾à²¯à²¿à²¤à³.",errorMessage:"à²•à³‹à²¶à²µà²¿à²²à³à²²à²¦ à²«à³ˆà²²à³.",selectFileMessage:"à²¦à²¯à²µà²¿à²Ÿà³à²Ÿà³ à²ªà³à²°à²•à³à²°à²¿à²¯à³†à²—à³‹à²¸à³à²•à²° à²«à³ˆà²²à³ à²…à²¨à³à²¨à³ à²†à²¯à³à²•à³† à²®à²¾à²¡à²¿.",noDataMessage:"à²°à²«à³à²¤à³à²—à³‹à²¸à³à²•à²° à²¯à²¾à²µà³à²¦à³‡ à²¡à³‡à²Ÿà²¾ à²²à²­à³à²¯à²µà²¿à²²à³à²²."}},h=R.useMemo(()=>[{Header:s[r].index,accessor:"index"},{Header:s[r].word,accessor:"word"},{Header:s[r].frequency,accessor:"frequency"}],[r]),{getTableProps:B,getTableBodyProps:P,headerGroups:T,rows:y,prepareRow:F,setGlobalFilter:D}=p.useTable({columns:h,data:n},p.useGlobalFilter,p.useSortBy),E=t=>{n.length===0?(i(s[r].noDataMessage),l(!0)):D(t.target.value||void 0)},H=t=>{const a=t.target.files[0];x(a)},w=async()=>{if(!m){i(s[r].selectFileMessage),l(!0);return}u(!0);try{const t=await W(m),a=Object.keys(t).map((b,L)=>({index:L+1,word:b,frequency:t[b]}));k(a),i(s[r].successMessage),l(!0)}catch(t){console.error("Error during processing:",t),i(s[r].errorMessage),l(!0)}finally{u(!1),x(null)}},f=()=>{l(!1)},q={position:"sticky",top:0,backgroundColor:"#fff",zIndex:1};return e.jsxs(U,{elevation:3,style:{padding:"10px",margin:"20px",marginBottom:"100px"},children:[e.jsx(j,{variant:"h6",align:"center",gutterBottom:!0,children:s[r].title}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[e.jsx("input",{type:"file",accept:".txt,.docx",onChange:H,style:{marginRight:"10px",marginBottom:"20px"}}),e.jsx(S,{variant:"contained",color:"primary",onClick:w,disabled:c,style:{marginLeft:"10px"},children:c?e.jsx(C,{size:24,color:"inherit"}):s[r].processButton})]}),e.jsx(j,{variant:"body2",align:"center",style:{marginBottom:"20px"},children:s[r].fileUploadLabel}),e.jsx(z,{variant:"outlined",placeholder:s[r].searchPlaceholder,onChange:E,fullWidth:!0,style:{marginBottom:"20px"}}),e.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:e.jsx(V,{data:n,filename:"words_frequency.csv",style:{textDecoration:"none",margin:"0 10px"},onClick:()=>{n.length===0&&(i(s[r].noDataMessage),l(!0))},children:e.jsx(S,{variant:"contained",color:"primary",disabled:n.length===0,children:s[r].exportCSV})})}),e.jsx(A,{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs(G,{...B(),"aria-label":"simple table",children:[e.jsx(I,{children:T.map(t=>o.createElement(d,{...t.getHeaderGroupProps(),key:t.id},t.headers.map(a=>o.createElement(g,{...a.getHeaderProps(a.getSortByToggleProps()),key:a.id,style:q},a.render("Header"),e.jsx("span",{children:a.isSorted?a.isSortedDesc?" ðŸ”½":" ðŸ”¼":""})))))}),e.jsx(N,{...P(),children:y.length>0?y.map(t=>(F(t),o.createElement(d,{...t.getRowProps(),key:t.id},t.cells.map(a=>o.createElement(g,{...a.getCellProps(),key:a.id},a.render("Cell")))))):e.jsx(d,{children:e.jsx(g,{colSpan:h.length,align:"center",children:c?e.jsx(C,{}):"No data available."})})})]})}),e.jsx(J,{open:v,autoHideDuration:6e3,onClose:f,children:e.jsx(K,{onClose:f,severity:"info",sx:{width:"100%"},children:M})})]})};export{Ce as default};
