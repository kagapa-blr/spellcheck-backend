import{r as n,j as e,a as ve}from"./react-87inLI7G.js";import{c as Re}from"./react-dom-CosTHhxT.js";import{L as q,H as Me}from"./react-router-dom-B2CxWi0d.js";import{R as Be}from"./react-quill-new-P7oPFw6w.js";import{C as V,B as k,T as qe,A as Oe,P as $e,S as _e,R as He,U as ze,a as Ge,b as le,I as Y,c as ie,D as Ke,d as Ve,e as Ye,f as Je,g as Ze,M as Ne,H as me,E as ae,h as he,i as pe,j as xe,k as Qe,l as L,m as de,n as Xe,o as Ce,p as I,q as es,r as J,s as Q,t as Se,u as ge,v as ss,w as ke,x as ts,y as rs,z as se,F as te,G as os,L as fe,J as as,K as ns}from"./@mui-BzR4zqiy.js";import{a as ls}from"./axios-CCb-kr4I.js";import{Q as De}from"./quill-CZy4Qc3w.js";import{b as ce,a as G,O as is,d as We,e as ds,f as F}from"./react-router-Dmqo_v03.js";import{l as cs}from"./mammoth-BuPscTfY.js";import{j as us}from"./jwt-decode-VWaDGczM.js";import{r as re}from"./react-table-Dma02od8.js";import{C as ms}from"./react-csv-CQ7_wXVR.js";import"./@xmldom-DBEIMRBk.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-6JyqD-Ks.js";import"./lodash-BOf1oiLx.js";import"./react-is-DUDD-a5e.js";import"./clsx-B-dksMZM.js";import"./@emotion-D5W7hg8W.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-CJLDkAA4.js";import"./parchment-Crftfyop.js";import"./quill-delta-D6FENnLs.js";import"./fast-diff-Az_-rVRq.js";import"./lodash.clonedeep-Dbfj2Hht.js";import"./lodash.isequal-KULglXUe.js";import"./eventemitter3-DJ6nYskT.js";import"./lodash-es-BKPNmaDy.js";import"./underscore-b--1-EUR.js";import"./bluebird-D4N7l2sI.js";import"./base64-js-D0UyVEDn.js";import"./jszip-BmYNtbIh.js";import"./xmlbuilder-MWHHUJUD.js";import"./dingbat-to-unicode-Cm9PDbSb.js";import"./lop-DvYkyT-y.js";import"./option-Dhni4At5.js";import"./prop-types-BKNjMPK8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();const hs="http://127.0.0.1:8000",A=ls.create({baseURL:hs,headers:{"Content-Type":"application/json"}});A.interceptors.request.use(s=>{const t=localStorage.getItem("access_token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));const ps=s=>{const t=document.createElement("div");t.innerHTML=s;const r=t.innerText||t.textContent,a=new Blob([r],{type:"text/plain;charset=utf-8"}),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download="document.txt",document.body.appendChild(o),o.click(),document.body.removeChild(o)},xs=async s=>{console.log(s)},gs=async s=>{console.log(s)},Ee=n.createContext(),fs=({children:s})=>{const[t,r]=n.useState("kn"),a=o=>{r(o)};return e.jsx(Ee.Provider,{value:{language:t,handleLanguageChange:a},children:s})},U=()=>n.useContext(Ee),ys=({text:s,quillRef:t,handleRefresh:r,handleReset:a})=>{const{language:o}=U(),l={en:{downloadTxt:"Download as .txt",downloadDocx:"Download as .docx",downloadPdf:"Download as .pdf",refresh:"Refresh",reset:"Reset",undo:"Undo",redo:"Redo",downloadSuccess:"Downloaded as {type} successfully!",downloadError:"Failed to download as {type}",downloading:"Downloading...",resetConfirmation:"Are you sure you want to reset the editor? This action cannot be undone."},kn:{downloadTxt:".txt ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",downloadDocx:".docx ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",downloadPdf:".pdf ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",refresh:"ರಿಫ್ರೆಶ್ ಮಾಡಿ",reset:"ಮರುಹೊಂದಿಸಿ",undo:"ಮರು ಕಾರ್ಯನಿರ್ವಹಣೆ",redo:"ಮರುಪಡೆಯಿರಿ",downloadSuccess:"{type} ರೂಪದಲ್ಲಿ ಯಶಸ್ವಿಯಾಗಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಲಾಗಿದೆ!",downloadError:"{type} ರೂಪದಲ್ಲಿ ವಿಫಲವಾಗಿದೆ",downloading:"ಡೌನ್‌ಲೋಡ್ ಆಗುತ್ತಿದೆ...",resetConfirmation:"ನೀವು ಸಂಪಾದಕವನ್ನು ಮರುಹೊಂದಿಸಲು ಖಚಿತವಾಗಿದ್ದೀರಾ? ಈ ಕ್ರಿಯೆವನ್ನು ಹಿಂತಿರುಗಿಸಲು ಸಾಧ್ಯವಾಗುವುದಿಲ್ಲ."}},h=l[o]||l.en,[y,i]=n.useState(!1),[p,c]=n.useState({open:!1,message:"",type:""}),[d,u]=n.useState([]),[x,f]=n.useState(-1),[g,m]=n.useState(!1),j=async(b,w)=>{i(!0);try{await w(),c({open:!0,message:h.downloadSuccess.replace("{type}",b),type:"success"})}catch{c({open:!0,message:h.downloadError.replace("{type}",b),type:"error"})}i(!1)},v=()=>c({...p,open:!1}),P=()=>{var w;const b=(w=t.current)==null?void 0:w.getEditor();b&&(b.history.undo(),x>0&&f(x-1))},R=()=>{var w;const b=(w=t.current)==null?void 0:w.getEditor();b&&(b.history.redo(),x<d.length-1&&f(x+1))},N=b=>{const w=d.slice(0,x+1);w.push(b),u(w),f(w.length-1)};n.useEffect(()=>{s&&N(s)},[s]);const M=()=>{var w;const b=(w=t.current)==null?void 0:w.getEditor();b&&(b.setText(""),u([]),f(-1)),m(!1)},T=()=>{m(!0)},E=()=>{M()};return e.jsxs("div",{className:"flex justify-end space-x-4 mb-4",children:[y&&e.jsx(V,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}),e.jsx(k,{variant:"contained",title:h.downloadTxt,onClick:()=>{s&&j(".txt",()=>ps(s))},sx:{minWidth:0,padding:"8px",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#3b82f6"}},children:e.jsx(qe,{})}),e.jsx(k,{variant:"contained",title:h.downloadDocx,onClick:()=>j(".docx",()=>xs(s)),sx:{minWidth:0,padding:"8px",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#10b981"}},children:e.jsx(Oe,{})}),e.jsx(k,{variant:"contained",title:h.downloadPdf,onClick:()=>j(".pdf",()=>gs(s)),sx:{minWidth:0,padding:"8px",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#ef4444"}},children:e.jsx($e,{})}),e.jsx(k,{variant:"contained",title:h.refresh,onClick:r,sx:{minWidth:0,padding:"8px",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#fbbf24"}},children:e.jsx(_e,{})}),e.jsx(k,{variant:"contained",title:h.reset,onClick:T,sx:{minWidth:0,padding:"8px",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#ef4444"}},children:e.jsx(He,{})}),e.jsx(k,{variant:"contained",title:h.undo,onClick:P,sx:{minWidth:0,padding:"8px",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#3b82f6"}},children:e.jsx(ze,{})}),e.jsx(k,{variant:"contained",title:h.redo,onClick:R,sx:{minWidth:0,padding:"8px",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#3b82f6"}},children:e.jsx(Ge,{})}),e.jsx(le,{open:p.open,autoHideDuration:3e3,onClose:v,message:p.message,action:e.jsx(Y,{size:"small","aria-label":"close",color:"inherit",onClick:v,children:e.jsx(ie,{fontSize:"small"})})}),e.jsxs(Ke,{open:g,onClose:()=>m(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(Ve,{id:"alert-dialog-title",children:h.reset}),e.jsx(Ye,{children:e.jsx(Je,{id:"alert-dialog-description",children:h.resetConfirmation})}),e.jsxs(Ze,{children:[e.jsx(k,{onClick:()=>m(!1),color:"primary",children:"Cancel"}),e.jsx(k,{onClick:E,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},X={checkWord:"bloom/api/v1/check_word",getSuggestions:"/symspell/api/v1/suggestions/",addWord:"/user-added/api/v1/user-added-words/",getWrongWordsfromList:"/user-added/api/v1/filter-wrongwords"},bs="೧^l=F–೬B#yJwfz•+2umE<'!CxULvr]8o೦VNd0hH‘_>)- :sYQ7.g9n%W,G`1…\"&?6೯I”೮೨Tb“@೭೫ʼKX4೪[iDScM;*t’{5k/pa(PAeZ~O3R|j}q೩$",js=bs.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ws=async s=>{try{return(await A.post(X.checkWord,{word:s})).data}catch(t){return console.error("Error checking word correctness:",t),{status:!1}}},vs=async s=>{try{return(await A.post(X.getSuggestions,{word:s})).data.suggestions}catch(t){return console.error("Error fetching word suggestions:",t),[]}},Ns=async s=>{try{return(await A.post(X.addWord,{word:s})).data}catch(t){console.log("Error while calling Api",t);return}},Cs=async s=>{try{const t=new FormData;return t.append("file",s),(await A.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){return console.error("Error fetching wrong words:",t),[]}},Ss=new RegExp(`[${js}]`,"g"),ks=async s=>{const a=s.getText().split(/\s+/).filter(o=>o.length>0).map(o=>o.replace(Ss,"")).filter(o=>o.length>0);try{return(await A.post(X.getWrongWordsfromList,{wordlist:a})).data}catch(o){return console.error("Error checking word correctness:",o),{status:!1}}},ne={correctness:{},suggestions:{}},Ds=(s,t,r=[])=>{ne.correctness[s]=t,ne.suggestions[s]=r},Ws=s=>ne.suggestions[s]||[],Ae=n.createContext(),Te=()=>{const s=n.useContext(Ae);if(!s)throw new Error("useWrongWords must be used within a WrongWordsProvider");return s},Es=({children:s})=>{const[t,r]=n.useState([]),a=()=>{r([])},o=()=>t;return n.useEffect(()=>{t.length>0},[t]),e.jsx(Ae.Provider,{value:{wrongWords:t,setWrongWords:r,clearWrongWords:a,getWrongWords:o},children:s})},Fe=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px"],Ie=De.import("attributors/style/size");Ie.whitelist=Fe;De.register(Ie,!0);const As={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image","video","formula"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:Fe}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},ye=[".",",","!","?",";",":"],Ts=(s,t)=>{let r=t,a=t;for(;r>0&&!/\s/.test(s[r-1])&&!ye.includes(s[r-1]);)r--;for(;a<s.length&&!/\s/.test(s[a])&&!ye.includes(s[a]);)a++;return s.substring(r,a)},be=(s,t)=>{const r=s.getText().indexOf(t);r!==-1&&s.formatText(r,t.length,{underline:!0,color:"red",bold:!0})},Fs=({clickedWord:s,suggestions:t,tooltipPosition:r,setClickedWord:a,replaceWord:o,addDictionary:l,replaceAll:h,ignoreAll:y})=>{var d;const{language:i}=U(),p={en:{addToDictionary:"Add to Dictionary",replaceAll:"Replace All",ignoreAll:"Ignore All",noSuggestions:"No suggestions available."},kn:{addToDictionary:"ಪದಕೋಶಕ್ಕೆ ಸೇರಿಸಿ",replaceAll:"ಎಲ್ಲವನ್ನೂ ಬದಲಿಸಿ",ignoreAll:"ಎಲ್ಲವನ್ನೂ ನಿರ್ಲಕ್ಷಿಸಿ",noSuggestions:"ಯಾವುದೇ ಸಲಹೆಗಳಿಲ್ಲ."}},c=p[i]||p.en;return e.jsxs("div",{className:"absolute bg-white border border-green-900 p-3 mt-2 rounded shadow-lg z-40",style:{top:r.top+50,left:r.left,minWidth:"150px"},children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("strong",{className:"text-green-700",children:s}),e.jsx("span",{className:"cursor-pointer text-red-600 hover:bg-gray-600 text-3xl",onClick:()=>a(null),"aria-label":"Close",children:"×"})]}),e.jsxs("div",{className:"mt-2 space-y-2",children:[((d=t[s])==null?void 0:d.length)>0?t[s].map((u,x)=>e.jsxs("div",{children:[e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:()=>o(u),children:u}),x<t[s].length-1&&e.jsx("hr",{className:"my-2 border-t border-gray-300"})]},u)):e.jsx("div",{className:"text-gray-500",children:c.noSuggestions}),e.jsx("hr",{className:"my-2 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:l,children:c.addToDictionary}),e.jsx("hr",{className:"my-2 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:h,children:c.replaceAll}),e.jsx("hr",{className:"my-2 border-t border-gray-300"}),e.jsx("div",{className:"cursor-pointer text-blue-600 hover:bg-gray-200",onClick:y,children:c.ignoreAll})]})]})},Is=()=>{var ue;const t=((ue=ce().state)==null?void 0:ue.uploadedContent)||"",[r,a]=n.useState(t),[o,l]=n.useState([]),[h,y]=n.useState({}),[i,p]=n.useState(null),[c,d]=n.useState({}),[u,x]=n.useState(""),[f,g]=n.useState(!1),m=n.useRef(null),j=`!@#$%^&*()_+[]{}|;:',.<>/?~-=\\"`,{wrongWords:v,setWrongWords:P}=Te();n.useEffect(()=>{var C;if(v.length>0){const D=v.filter(W=>!o.includes(W)),S=(C=m.current)==null?void 0:C.getEditor();D.forEach(W=>be(S,W)),l(W=>[...W,...D])}},[v]),n.useEffect(()=>{var D;const C=(D=m.current)==null?void 0:D.getEditor();if(C.format("size","16px"),C){const S=async W=>{if(W&&W.length===0){const H=C.getText(),O=Ts(H,W.index);if(O)if(o.includes(O)){let B=Ws(O);if(B.length===0)try{B=await vs(O),Ds(O,!1,B)}catch(K){console.error("Error fetching suggestions:",K)}p(O),y(K=>({...K,[O]:B}));const z=C.getBounds(W.index);d({top:z.top+z.height+10,left:z.left})}else p(null)}};return C.on("selection-change",S),()=>{C.off("selection-change",S)}}},[o]);const R=C=>{a(C)},N=async C=>{C.key===" "&&(clearTimeout(window.debounceTimer),window.debounceTimer=setTimeout(async()=>{var W;const D=m.current.getEditor(),S=D.getSelection();if(S){const O=D.getText(0,S.index).trim().split(/\s+/);let B=O[O.length-1].split("").filter(z=>!j.includes(z)).join("");if(B&&!/^[a-zA-Z]+$/.test(B)&&!o.includes(B)&&!(await ws(B)).status){l(Le=>[...Le,B]);const K=(W=m.current)==null?void 0:W.getEditor();be(K,B)}}},300))},M=C=>{const D=m.current.getEditor(),S=D.getText().indexOf(i);S!==-1&&(D.formatText(S,i.length,{underline:!1,color:""}),D.deleteText(S,i.length),D.insertText(S,C),D.setSelection(S+C.length,0),l(o.filter(W=>W!==i)),p(null))},T=async()=>{if(i)try{const C=await Ns(i);if(C){const D=m.current.getEditor(),S=D.getText();let W=S.indexOf(i);if(W!==-1)for(;W!==-1;)D.formatText(W,i.length,{underline:!1,color:""}),W=S.indexOf(i,W+i.length);l(o.filter(H=>H!==i)),p(null),console.log(C)}else console.error("Failed to add the word to the dictionary.")}catch(C){console.error("Error adding word to dictionary:",C)}},E=()=>{i&&g(!0)},b=()=>{const C=m.current.getEditor(),D=C.getText();let S=0;for(;(S=D.indexOf(i,S))!==-1;)C.deleteText(S,i.length),C.insertText(S,u),S+=u.length;g(!1),p(null),x("")},w=()=>{var W;const C=(W=m.current)==null?void 0:W.getEditor(),D=C.getText();let S=D.indexOf(i);if(S!==-1)for(;S!==-1;)C.formatText(S,i.length,{underline:!1,color:""}),S=D.indexOf(i,S+i.length);p(null),l(o.filter(H=>H!==i))},$=async()=>{var S;const C=(S=m.current)==null?void 0:S.getEditor(),D=await ks(C);D&&P(D)};return e.jsx("div",{className:"flex justify-center min-h-screen bg-gray-100 p-4 mt-10",children:e.jsxs("div",{className:"w-full max-w-full mt-4 bg-white rounded-lg shadow-md p-4",children:[" ",e.jsx(ys,{text:r,quillRef:m,handleRefresh:$}),e.jsx(Be,{ref:m,value:r,onChange:R,onKeyDown:N,modules:As,className:"",style:{height:"500px",minHeight:"400px",width:"100%"}}),f&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 p-4 rounded shadow-lg w-11/12 max-w-sm mx-auto",children:[" ",e.jsxs("h5",{className:"mb-2",children:["Replace ",i," with:"]}),e.jsx("input",{type:"text",value:u,onChange:C=>x(C.target.value),className:"border border-gray-300 p-2 rounded w-full",placeholder:"Replacement word"}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx("button",{onClick:b,className:"bg-blue-500 text-white px-4 py-2 rounded mr-2",children:"Replace All"}),e.jsx("button",{onClick:()=>g(!1),className:"bg-gray-300 px-4 py-2 rounded",children:"Cancel"})]})]})}),i&&h[i]&&e.jsx(Fs,{clickedWord:i,suggestions:h,tooltipPosition:c,setClickedWord:p,replaceWord:M,addDictionary:T,replaceAll:E,ignoreAll:w})]})})},Us=()=>{G();const{language:s,handleLanguageChange:t}=U(),r=ce(),[a,o]=n.useState(!1),l={en:{home:"Home",goToEditor:"Go to Editor",about:"About",contact:"Contact",title:"Spellcheck App",userGuide:"User Guide",admin:"Administrator",english:"English",kannada:"ಕನ್ನಡ",userGuidePDF:"/static/guide/user-guide-en.pdf"},kn:{home:"ಮುಖಪುಟ",goToEditor:"ಪಠ್ಯ ಸಂಪಾದಕ‌",about:"ಬಗ್ಗೆ",contact:"ಸಂಪರ್ಕ",title:"ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನ",userGuide:"ಬಳಕೆದಾರ ಕೈಪಿಡಿ",admin:"ನಿರ್ವಾಹಕರ ಪುಟ",english:"English",kannada:"ಕನ್ನಡ",userGuidePDF:"/static/guide/user-guide-kn.pdf"}},h=()=>{o(y=>!y)};return e.jsxs("nav",{className:"p-2 fixed w-full z-50",style:{top:0,backgroundColor:"#0D5B65"},children:[e.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"text-white text-lg font-bold",children:l[s].title}),e.jsx("div",{className:"md:hidden",children:e.jsx(Y,{onClick:h,color:"inherit",children:a?e.jsx(ie,{}):e.jsx(Ne,{})})}),e.jsxs("div",{className:"hidden md:flex space-x-2",children:[" ",e.jsxs(q,{to:"/",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname==="/"?"bg-slate-400":""}`,children:[e.jsx(me,{className:"mr-1"})," ",l[s].home]}),e.jsxs(q,{to:"/editor",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname==="/editor"?"bg-slate-400":""}`,children:[e.jsx(ae,{className:"mr-1"})," ",l[s].goToEditor]}),e.jsxs(q,{to:"/about",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname==="/about"?"bg-slate-400":""}`,children:[e.jsx(he,{className:"mr-1"})," ",l[s].about]}),e.jsxs("a",{href:l[s].userGuidePDF,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline",children:[e.jsx(pe,{className:"mr-1"})," ",l[s].userGuide]}),e.jsxs(q,{to:"/admin/dashboard",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname.startsWith("/admin")?"bg-slate-400":""}`,children:[e.jsx(xe,{className:"mr-1"})," ",l[s].admin]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[" ",e.jsx("button",{onClick:()=>t("en"),className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded ${s==="en"?"bg-gray-700":""} no-underline`,children:l[s].english}),e.jsx("button",{onClick:()=>t("kn"),className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded ${s==="kn"?"bg-gray-700":""} no-underline`,children:l[s].kannada}),e.jsxs(q,{to:"/contact",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname==="/contact"?"bg-slate-400":""}`,children:[e.jsx(Qe,{className:"mr-1"})," ",l[s].contact]})]})]}),a&&e.jsxs(L,{className:"md:hidden mt-5 bg-gray-800 rounded p-4",children:[e.jsx(de,{}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs(q,{to:"/",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname==="/"?"bg-slate-400":""}`,children:[e.jsx(me,{className:"mr-1"})," ",l[s].home]}),e.jsxs(q,{to:"/editor",className:`text-white hover:bg-slate-400 hover:text-white no-underline ${r.pathname==="/editor"?"bg-slate-400":""}`,children:[e.jsx(ae,{className:"mr-1"})," ",l[s].goToEditor]}),e.jsxs(q,{to:"/about",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname==="/about"?"bg-slate-400":""}`,children:[e.jsx(he,{className:"mr-1"})," ",l[s].about]}),e.jsxs("a",{href:l[s].userGuidePDF,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline",children:[e.jsx(pe,{className:"mr-1"})," ",l[s].userGuide]}),e.jsxs(q,{to:"/admin",className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded flex items-center no-underline ${r.pathname.startsWith("/admin")?"bg-slate-400":""}`,children:[e.jsx(xe,{className:"mr-1"}),l[s].admin]}),e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-2",children:[" ",e.jsx("button",{onClick:()=>t("en"),className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded ${s==="en"?"bg-gray-700":""} no-underline`,children:l[s].english}),e.jsx("button",{onClick:()=>t("kn"),className:`text-white hover:bg-slate-400 hover:text-white px-2 py-1 rounded ${s==="kn"?"bg-gray-700":""} no-underline`,children:l[s].kannada})]})]})]})]})},Ps=()=>e.jsx("footer",{className:"bg-gray-800 text-white py-4",children:e.jsx("div",{className:"container mx-auto text-center px-4",children:e.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," ",e.jsx("a",{href:"https://kagapa.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"kagapa.com"}),". All rights reserved."]})})}),Ls=(s,t)=>{let r;return(...a)=>{clearTimeout(r),r=setTimeout(()=>{s(...a)},t)}},Rs=({isOpen:s,onClose:t,onSubmit:r,isLoading:a})=>{const[o,l]=n.useState(null),[h,y]=n.useState(""),{language:i}=U(),{setWrongWords:p}=Te(),c={en:{title:"Upload a File",dragDropText:"Drag and drop a file here or click to upload.",submit:"Submit",cancel:"Cancel",error:"Please select a file to upload."},kn:{title:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡಿ",dragDropText:"ಇಲ್ಲಿಗೆ ಫೈಲ್ ಅನ್ನು ತೆಗೆಯಿರಿ ಅಥವಾ ಅಪ್ಲೋಡ್ ಮಾಡಲು ಕ್ಲಿಕ್ ಮಾಡಿ.",submit:"ಕಳುಹಿಸಿ",cancel:"ರದ್ದು ಮಾಡಿ",error:"ದಯವಿಟ್ಟು ಅಪ್ಲೋಡ್ ಮಾಡಲು ಫೈಲ್ ಆಯ್ಕೆಮಾಡಿ."}},d=m=>{l(m.target.files[0]),y("")},u=m=>{m.preventDefault();const j=m.dataTransfer.files[0];j&&(l(j),y(""))},x=m=>{m.preventDefault()},f=n.useCallback(Ls(async m=>{try{const j=await Cs(m);j.wrong_words&&Array.isArray(j.wrong_words)?p(j.wrong_words):console.error("No wrong words found in response:",j)}catch(j){console.error("Error fetching wrong words:",j)}},300),[p]),g=async()=>{if(!o){y(c[i].error);return}await f(o),r(o),t()};return s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg w-11/12 max-w-lg p-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4",children:c[i].title}),e.jsxs("div",{className:"border-2 border-dashed border-gray-400 p-6 mb-4 cursor-pointer hover:border-blue-500 transition duration-200",onDrop:u,onDragOver:x,onClick:()=>document.getElementById("fileInput").click(),children:[o?e.jsx("p",{className:"text-lg font-medium text-gray-700",children:o.name}):e.jsx("p",{className:"text-lg text-gray-500",children:c[i].dragDropText}),e.jsx("input",{type:"file",accept:".txt,.docx",onChange:d,className:"hidden",id:"fileInput"})]}),h&&e.jsx("p",{className:"text-red-600 mb-4",children:h})," ",e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:g,className:"bg-blue-600 text-white px-6 py-2 rounded-md shadow hover:bg-blue-700 transition duration-200 mr-2",disabled:a,children:a?"Submitting...":c[i].submit}),e.jsx("button",{onClick:t,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-md shadow hover:bg-gray-400 transition duration-200",children:c[i].cancel})]})]})})},Ms=()=>e.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-700 bg-opacity-75 z-50",children:[e.jsx("img",{src:"/assets/images/loading.gif",alt:"ದಯವಿಟ್ಟು ನಿರೀಕ್ಷಿಸಿ......",className:"w-24 h-24 md:w-32 md:h-32"}),e.jsx("p",{className:"mt-4 text-white text-xl md:text-2xl font-bold text-center",children:"ದಯವಿಟ್ಟು ನಿರೀಕ್ಷಿಸಿ......"})]}),Bs=()=>{const s=G(),{language:t}=U(),[r,a]=n.useState(!1),[o,l]=n.useState(!1),h={en:{welcome:"Welcome to the Spellcheck Application",description:"Enhance your writing with our powerful spell checker.",button:"Go to Editor",upload:"Upload a File",fileInfo:["Maximum File Size: 5MB","Maximum Words: 1 Lakh","File Type: .txt or .docx"]},kn:{welcome:"ಕಾಗುಣಿತ ಪರೀಕ್ಷಕ - ಕನ್ನಡ ಭಾಷೆ",description:"ನಮ್ಮ ಶಕ್ತಿಶಾಲಿ ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನ ಪರಿಶೋಧಕದೊಂದಿಗೆ ನಿಮ್ಮ ಬರಹವನ್ನು ಉತ್ತಮಗೊಳಿಸಿ.",button:"ಪಠ್ಯ ಸಂಪಾದಕ/ ಟೆಕ್ಸ್ಟ್‌ ಎಡಿಟರ್‌",upload:"ಕಾಗುಣಿತ ಸಲ್ಲಿಸಿ",fileInfo:["ಕಡತದ ಗಾತ್ರ ಗರಿಷ್ಠ: 5MB","ಪದಗಳ ಮಿತಿ ಗರಿಷ್ಠ: 1 ಲಕ್ಷ","ಕಡತ ಮಾದರಿ: .txt ಅಥವಾ .docx"]}},y=async i=>{l(!0);let p="";if(i.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")try{const c=await i.arrayBuffer(),{value:d}=await cs.convertToHtml({arrayBuffer:c});p=d}catch(c){console.error("Error reading .docx file:",c)}else i.type==="text/plain"&&(p=await i.text());l(!1),s("/editor",{state:{uploadedContent:p}})};return e.jsxs(Xe,{maxWidth:"full-width",className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-red-100 to-yellow-400 p-4",children:[e.jsx(Ce,{elevation:3,className:"p-8 rounded-lg shadow-lg bg-white w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{variant:"h3",className:"font-bold mb-4",color:"primary",children:h[t].welcome}),e.jsx(I,{variant:"body1",className:"mb-4",children:h[t].description}),e.jsx("div",{className:"mb-4 text-sm text-gray-700",children:h[t].fileInfo.map((i,p)=>e.jsx("div",{children:i},p))}),e.jsxs(L,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"center",alignItems:"center",gap:2,children:[e.jsx(k,{variant:"contained",color:"primary",onClick:()=>a(!0),size:"large",sx:{"&:hover":{backgroundColor:"blue.700"}},children:h[t].upload}),e.jsx(k,{variant:"outlined",color:"primary",onClick:()=>s("/editor"),size:"large",sx:{"&:hover":{backgroundColor:"blue.200",borderColor:"blue.600"}},children:h[t].button})]})]})}),e.jsx(Rs,{isOpen:r,onClose:()=>a(!1),onSubmit:y,isLoading:o}),o&&e.jsx(Ms,{})]})},qs=()=>{const s=G(),{language:t}=U(),r={en:{welcome:"Welcome to the E-Kannada Spell Checker",description:"In response to the need for a technical tool to correct spelling errors in the Kannada language, the E-Kannada project, initiated by the Department of Personnel and Administrative Reforms (e-Governance), has developed a comprehensive Kannada spell-checking tool. This application effectively identifies and corrects spelling errors in Kannada, aiding users in creating error-free text. By streamlining the process of text correction, this tool significantly reduces the time and effort required for manual editing.",button:"Go to Editor"},kn:{welcome:"ಇ-ಕನ್ನಡ ಕಾಗುಣಿತ ಪರಿಶೀಲಕರಲ್ಲಿ ನಿಮ್ಮನ್ನು ಸ್ವಾಗತಿಸುತ್ತೇವೆ",description:"ಕನ್ನಡದಲ್ಲಿ ಕಾಗುಣಿತ ದೋಷಗಳನ್ನು ಸರಿಪಡಿಸಲು ತಾಂತ್ರಿಕ ಸಾಧನದ ಅಗತ್ಯವನ್ನು ಮನಗಂಡು, ಸಿಬ್ಬಂದಿ ಮತ್ತು ಆಡಳಿತ ಸುಧಾರಣೆ ಇಲಾಖೆಯ ಇ-ಆಡಳಿತ ಯೋಜನೆಯು ಕನ್ನಡ ಕಾಗುಣಿತ ಪರಿಶೀಲನಾ ಸಾಧನವನ್ನು ಅಭಿವೃದ್ಧಿಪಡಿಸಿದೆ. ಈ ತಂತ್ರಾಂಶವು ಕನ್ನಡ ಪಠ್ಯದಲ್ಲಿ ಕಾಗುಣಿತ ದೋಷಗಳನ್ನು ಗುರುತಿಸಿ, ಅವುಗಳನ್ನು ಸರಿಪಡಿಸಲು ನೆರವಾಗುತ್ತದೆ, ದೋಷ ಮುಕ್ತ ಪಠ್ಯವನ್ನು ಸಿದ್ಧಪಡಿಸಲು ಬಳಕೆದಾರರಿಗೆ ಸಹಾಯ ಮಾಡುತ್ತದೆ. ಈ ಸಾಧನವು ಹಸ್ತಚಾಲಿತವಾಗಿ ಕನ್ನಡ ಪಠ್ಯವನ್ನು ಪರಿಷ್ಕರಣೆ ಮಾಡಲು ಅಗತ್ಯವಿರುವ ಸಮಯ ಮತ್ತು ಪರಿಶ್ರಮವನ್ನು ಸಂಪೂರ್ಣವಾಗಿ ಕಡಿಮೆ ಮಾಡುತ್ತದೆ.",button:"ಸಂಪಾದಕಕ್ಕೆ ಹೋಗಿ"}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 px-4 sm:px-6 lg:px-8 mt-10",children:e.jsxs("div",{className:"text-center max-w-6xl w-full bg-white border border-gray-300 p-8 rounded-lg shadow-lg min-h-[600px]",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",children:r[t].welcome}),e.jsx("p",{className:"mb-6 text-sm sm:text-base",children:r[t].description}),e.jsx("button",{className:"bg-blue-600 text-white rounded px-4 py-2 transition duration-300 hover:bg-blue-700",style:{marginTop:"100px"},onClick:()=>s("/editor"),children:r[t].button})]})})},Os=({isOpen:s,onClose:t,language:r})=>{const[a,o]=n.useState(""),[l,h]=n.useState(""),[y,i]=n.useState(""),[p,c]=n.useState(""),[d,u]=n.useState(""),x={en:{title:"Sign Up",username:"Username",email:"Email",phone:"Phone",password:"Password",confirmPassword:"Confirm Password",success:"Signup successful!",mismatch:"Passwords do not match",close:"Close"},kn:{title:"ನೋಂದಣಿ",username:"ಬಳಕೆದಾರ ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",password:"ಪಾಸ್ವರ್ಡ್",confirmPassword:"ಪಾಸ್ವರ್ಡ್ ದೃಢೀಕರಿಸಿ",success:"ನೋಂದಣಿ ಯಶಸ್ವಿ!",mismatch:"ಪಾಸ್ವರ್ಡ್ ಹೊಂದಿಲ್ಲ",close:"ಮುಚ್ಚಿ"}},f=g=>{g.preventDefault(),p===d?(console.log("User Data:",JSON.stringify({username:a,email:l,phone:y,password:p})),alert(x[r].success),t()):alert(x[r].mismatch)};return s?e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 w-full max-w-xl h-auto overflow-y-auto",style:{maxHeight:"85vh"},children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:x[r].title}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:x[r].username}),e.jsx("input",{type:"text",id:"username",value:a,onChange:g=>o(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"email",children:x[r].email}),e.jsx("input",{type:"email",id:"email",value:l,onChange:g=>h(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"phone",children:x[r].phone}),e.jsx("input",{type:"text",id:"phone",value:y,onChange:g=>i(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:x[r].password}),e.jsx("input",{type:"password",id:"password",value:p,onChange:g=>c(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"confirmPassword",children:x[r].confirmPassword}),e.jsx("input",{type:"password",id:"confirmPassword",value:d,onChange:g=>u(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:x[r].title})]}),e.jsx("button",{onClick:t,className:"mt-4 text-blue-600 hover:underline",children:x[r].close})]})}):null},Ue={loginApi:"/user/api/v1/login",signUpApi:"/user/api/v1/signup"},$s=async(s,t)=>{try{const r=await A.post(Ue.loginApi,{username:s,password:t}),{access_token:a,token_type:o}=r.data,h=us(a).sub;return{access_token:a,token_type:o,logged_user:h}}catch(r){throw r.response?new Error(r.response.data.message||"Login failed"):r.request?new Error("No response from server"):new Error("Error during login: "+r.message)}},_s=async s=>{try{return(await A.post(Ue.signUpApi,s)).data}catch(t){throw t.response?new Error(t.response.data.message||"Signup failed"):t.request?new Error("No response from server"):new Error("Error during signup: "+t.message)}},Pe=n.createContext(),Hs=({children:s})=>{const[t,r]=n.useState(!1),[a,o]=n.useState(()=>localStorage.getItem("logged_user")||""),[l,h]=n.useState(!0);n.useEffect(()=>{(async()=>{const d=localStorage.getItem("access_token");if(d)try{h(!0),(await A.get("/admin/validate",{headers:{Authorization:`Bearer ${d}`}})).status===200?r(!0):y()}catch(u){console.error("Token validation failed:",u.message),y()}h(!1)})()},[]);const y=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("logged_user"),r(!1),o("")},i=(c,d)=>{localStorage.setItem("access_token",c),localStorage.setItem("logged_user",d),r(!0),o(d)},p=()=>{y()};return e.jsx(Pe.Provider,{value:{isAuthenticated:t,loggedUser:a,login:i,logout:p,loading:l},children:s})},Z=()=>n.useContext(Pe),zs=()=>{const[s,t]=n.useState(""),[r,a]=n.useState(""),[o,l]=n.useState(!1),[h,y]=n.useState(""),i=G(),{language:p,handleLanguageChange:c}=U(),{login:d}=Z(),u={en:{title:"Admin Login",username:"Username",password:"Password",login:"Login",switchToSignup:"Don't have an account? Sign Up",invalidCredentials:"Invalid username or password.",emptyFields:"Please fill in both fields."},kn:{title:"ನಿರ್ವಾಹಕರ ಲಾಗಿನ್",username:"ಬಳಕೆದಾರರ ಹೆಸರು",password:"ಪಾಸ್ವರ್ಡ್",login:"ಲಾಗಿನ್",switchToSignup:"ಖಾತೆ ಇಲ್ಲವೇ? ನೋಂದಾಯಿಸಿ",invalidCredentials:"ಅಮಾನ್ಯ ಬಳಕೆದಾರರ ಹೆಸರು ಅಥವಾ ಪಾಸ್ವರ್ಡ್.",emptyFields:"ದಯವಿಟ್ಟು ಇಬ್ಬರು ಕ್ಷೇತ್ರಗಳನ್ನು ತುಂಬಿ."}},x=async f=>{var g,m;if(f.preventDefault(),y(""),!s||!r){y(u[p].emptyFields);return}try{const{access_token:j,token_type:v,logged_user:P}=await $s(s,r);localStorage.setItem("access_token",j),localStorage.setItem("token_type",v),d(j,P),i("/admin/dashboard")}catch(j){const v=((m=(g=j.response)==null?void 0:g.data)==null?void 0:m.message)||u[p].invalidCredentials;y(v)}};return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",children:[e.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-10",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold mb-2 text-center",children:u[p].title}),h&&e.jsx("div",{className:"mb-4 text-red-600 font-bold text-center",children:h}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"username",children:u[p].username}),e.jsx("input",{type:"text",id:"username",value:s,onChange:f=>t(f.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:u[p].password}),e.jsx("input",{type:"password",id:"password",value:r,onChange:f=>a(f.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-3 rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-500",children:u[p].login})]}),e.jsxs("p",{className:"mt-4 text-center",children:[u[p].switchToSignup,e.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 hover:underline ml-1",children:"Sign Up"})]}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>c("en"),className:`px-3 py-1 rounded ${p==="en"?"bg-gray-700 text-white":"text-gray-700"}`,children:"English"}),e.jsx("button",{onClick:()=>c("kn"),className:`px-3 py-1 rounded ${p==="kn"?"bg-gray-700 text-white":"text-gray-700"}`,children:"ಕನ್ನಡ"})]})]}),e.jsx(Os,{isOpen:o,onClose:()=>l(!1),language:p})]})},_={getAllUserAddedWords:"/user-added/api/v1/user-added-words/",saveWordsToMainDictionary:"/dictionary/api/v1/add-words/",removeUserAddedWords:"/user-added/api/v1/user-added-words/remove/",getAllUsers:"/user/api/v1/info",deleteUser:"/user/api/v1/delete-user/",updateUser:"/user/api/v1/update-user",updateDictionary:"/dictionary/api/v1/update/batch",separateWordFrequency:"/word-frequency/data"},oe=async()=>{var s,t;try{return(await A.get(_.getAllUserAddedWords)).data}catch(r){throw console.error(((t=(s=r==null?void 0:r.response)==null?void 0:s.data)==null?void 0:t.message)||r.message),r}},Gs=async(s,t)=>{var r,a;try{const o={words:s.map(h=>({word:h.word,frequency:h.frequency})),added_by_username:t||void 0};return(await A.post(_.saveWordsToMainDictionary,o)).data}catch(o){throw console.error(((a=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:a.message)||o.message),o}},je=async s=>{var t,r;try{const a={words:s};return(await A.delete(_.removeUserAddedWords,{data:a})).data}catch(a){throw console.error(((r=(t=a==null?void 0:a.response)==null?void 0:t.data)==null?void 0:r.message)||a.message),a}},Ks=async()=>{var s,t;try{return(await A.get(_.getAllUsers)).data}catch(r){throw console.error("Failed to get all users:",((t=(s=r==null?void 0:r.response)==null?void 0:s.data)==null?void 0:t.message)||r.message),r}},Vs=async s=>{var t,r;try{return(await A.delete(`${_.deleteUser}${s}`)).data}catch(a){throw console.error("Failed to delete user:",((r=(t=a==null?void 0:a.response)==null?void 0:t.data)==null?void 0:r.message)||a.message),a}},Ys=async(s,t)=>{var r,a;try{const o={email:t.email,phone:t.phone,password:t.password};return(await A.put(`${_.updateUser}/${s}`,o)).data}catch(o){throw console.error("Failed to update user:",((a=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:a.message)||o.message),o}},Js=async s=>{var t,r;try{const a=new FormData;return a.append("file",s),(await A.post(_.updateDictionary,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Failed to update dictionary:",((r=(t=a==null?void 0:a.response)==null?void 0:t.data)==null?void 0:r.message)||a.message),a}},Zs=async s=>{var t,r;try{const a=new FormData;return a.append("file",s),(await A.post(_.separateWordFrequency,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Failed to separate word frequency data:",((r=(t=a==null?void 0:a.response)==null?void 0:t.data)==null?void 0:r.message)||a.message),a}},Qs=()=>{const{language:s}=U(),[t,r]=n.useState([]),[a,o]=n.useState(!0),[l,h]=n.useState(null),[y,i]=n.useState(!1),[p,c]=n.useState(!1),[d,u]=n.useState(null),[x,f]=n.useState(null),g={en:{title:"Users",id:"ID",username:"Name",email:"Email",phone:"Phone",loading:"Loading...",error:"Failed to load users",actions:"Actions",save:"Save",cancel:"Cancel",confirmDelete:"Are you sure you want to delete this user?"},kn:{title:"ಬಳಕೆದಾರರು",id:"ಐಡಿ",username:"ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",loading:"ಲೋಡ್ ಮಾಡುತ್ತಿದೆ...",error:"ಬಳಕೆದಾರರನ್ನು ಲೋಡ್ ಮಾಡಲಾಗಲಿಲ್ಲ",actions:"ಕ್ರಿಯೆಗಳು",save:"ಸೇವ್",cancel:"ರದ್ದುಮಾಡು",confirmDelete:"ನೀವು ಈ ಬಳಕೆದಾರರನ್ನು ಅಳಿಸಲು ಖಚಿತವಾಗಿದ್ದೀರಾ?"}},m=async()=>{try{const N=await Ks();r(N)}catch{h(g.en.error)}finally{o(!1)}};n.useEffect(()=>{m()},[]);const j=N=>{u(N),i(!0)},v=N=>{f(N),c(!0)},P=async()=>{if(d)try{await Ys(d.username,{email:d.email,phone:d.phone}),await m(),i(!1)}catch(N){console.error("Failed to update user:",N)}finally{u(null)}},R=async()=>{try{await Vs(x),await m(),c(!1)}catch(N){console.error("Failed to delete user:",N)}finally{f(null)}};return a?e.jsx("div",{children:g[s].loading}):l?e.jsx("div",{children:l}):e.jsxs(L,{sx:{maxWidth:800,mx:"auto",mt:10},children:[e.jsx(I,{variant:"h4",align:"center",gutterBottom:!0,children:g[s].title}),e.jsx(de,{}),e.jsx(L,{mt:2,children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2",children:g[s].id}),e.jsx("th",{className:"border px-4 py-2",children:g[s].username}),e.jsx("th",{className:"border px-4 py-2",children:g[s].phone}),e.jsx("th",{className:"border px-4 py-2",children:g[s].email}),e.jsx("th",{className:"border px-4 py-2",children:g[s].actions})]})}),e.jsx("tbody",{children:t.map(N=>e.jsxs("tr",{className:"hover:bg-gray-300 cursor-pointer transition duration-200",children:[e.jsx("td",{className:"border px-4 py-2",children:N.id}),e.jsx("td",{className:"border px-4 py-2",children:N.username}),e.jsx("td",{className:"border px-4 py-2",children:N.phone}),e.jsx("td",{className:"border px-4 py-2",children:N.email}),e.jsxs("td",{className:"border px-4 py-2",children:[e.jsx(Y,{onClick:()=>j(N),color:"primary","aria-label":"edit",children:e.jsx(ae,{})}),e.jsx(Y,{onClick:()=>v(N.username),color:"secondary","aria-label":"delete",children:e.jsx(es,{})})]})]},N.id))})]})}),e.jsx(J,{open:y,onClose:()=>i(!1),"aria-labelledby":"edit-modal-title","aria-describedby":"edit-modal-description",children:e.jsxs(L,{sx:{padding:4,maxWidth:400,mx:"auto",mt:5,bgcolor:"white",borderRadius:2,boxShadow:3},children:[e.jsx(I,{id:"edit-modal-title",variant:"h6",component:"h2",children:"Edit User"}),e.jsx(Q,{label:g[s].username,value:(d==null?void 0:d.username)||"",onChange:N=>u({...d,username:N.target.value}),fullWidth:!0,margin:"normal"}),e.jsx(Q,{label:g[s].phone,value:(d==null?void 0:d.phone)||"",onChange:N=>u({...d,phone:N.target.value}),fullWidth:!0,margin:"normal"}),e.jsx(Q,{label:g[s].email,value:(d==null?void 0:d.email)||"",onChange:N=>u({...d,email:N.target.value}),fullWidth:!0,margin:"normal"}),e.jsxs(L,{display:"flex",justifyContent:"flex-end",mt:2,children:[e.jsx(k,{onClick:()=>i(!1),children:g[s].cancel}),e.jsx(k,{variant:"contained",color:"primary",onClick:P,sx:{ml:2},children:g[s].save})]})]})}),e.jsx(J,{open:p,onClose:()=>c(!1),"aria-labelledby":"confirm-delete-modal-title","aria-describedby":"confirm-delete-modal-description",children:e.jsxs(L,{sx:{padding:4,maxWidth:400,mx:"auto",mt:5,bgcolor:"white",borderRadius:2,boxShadow:3},children:[e.jsx(I,{id:"confirm-delete-modal-title",variant:"h6",children:g[s].confirmDelete}),e.jsxs(L,{display:"flex",justifyContent:"flex-end",mt:2,children:[e.jsx(k,{onClick:()=>c(!1),children:g[s].cancel}),e.jsx(k,{variant:"contained",color:"secondary",onClick:R,sx:{ml:2},children:"Delete"})]})]})})]})},Xs=()=>{const[s,t]=n.useState(""),[r,a]=n.useState(""),[o,l]=n.useState(""),[h,y]=n.useState(""),[i,p]=n.useState(""),[c,d]=n.useState(""),{language:u}=U(),x={en:{title:"Add User",username:"Username",email:"Email",phone:"Phone",password:"Password",confirmPassword:"Confirm Password",success:"User added successfully!",mismatch:"Passwords do not match"},kn:{title:"ಬಳಕೆದಾರ ಸೇರಿಸಿ",username:"ಬಳಕೆದಾರ ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",password:"ಪಾಸ್ವರ್ಡ್",confirmPassword:"ಪಾಸ್ವರ್ಡ್ ದೃಢೀಕರಿಸಿ",success:"ಬಳಕೆದಾರ ಯಶಸ್ವಿಯಾಗಿ ಸೇರಿಸಲಾಗಿದೆ!",mismatch:"ಪಾಸ್ವರ್ಡ್ ಹೊಂದಿಲ್ಲ"}},f=async m=>{if(m.preventDefault(),h===i){const j={username:s,email:r,phone:o,password:h};try{const v=await _s(j);d(x[u].success),g()}catch{d("Error during signup, please try again.")}}else d(x[u].mismatch)},g=()=>{t(""),a(""),l(""),y(""),p("")};return e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:x[u].title}),e.jsxs("form",{onSubmit:f,className:"mt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:x[u].username}),e.jsx("input",{type:"text",placeholder:x[u].username,value:s,onChange:m=>t(m.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:x[u].email}),e.jsx("input",{type:"email",placeholder:x[u].email,value:r,onChange:m=>a(m.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:x[u].phone}),e.jsx("input",{type:"text",placeholder:x[u].phone,value:o,onChange:m=>l(m.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:x[u].password}),e.jsx("input",{type:"password",placeholder:x[u].password,value:h,onChange:m=>y(m.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:x[u].confirmPassword}),e.jsx("input",{type:"password",placeholder:x[u].confirmPassword,value:i,onChange:m=>p(m.target.value),className:"border p-2 rounded mb-2 w-full",required:!0})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded px-4 py-2 transition duration-300 hover:bg-blue-700",children:x[u].title})]}),c&&e.jsx("p",{className:"mt-2 text-red-500",children:c})]})},et=()=>{const{language:s}=U(),[t,r]=n.useState([]),[a,o]=n.useState(!0),[l,h]=n.useState(null),[y,i]=n.useState([]),[p,c]=n.useState(""),[d,u]=n.useState(""),[x,f]=n.useState(!1),[g,m]=n.useState(!1),{loggedUser:j}=Z(),v={en:{title:"User Added Words to User Dictionary",userAddedWords:"User Added Words",saveButton:"Save Words to Dictionary",removeButton:"Remove Words",loading:"Loading...",error:"Failed to load words.",noData:"No data available.",confirmRemove:"Are you sure you want to remove the selected words?",confirmSave:"Are you sure you want to save the selected words?",selectAllColoumn:"Select All",wordsColoumn:"Words",frequencyColoumn:"Frequency",yes:"Yes",no:"No"},kn:{userAddedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",saveButton:"ಪದಗಳನ್ನು ನಿಘಂಟಿನಲ್ಲಿ ಸೇರಿಸಿ",removeButton:"ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಿ",loading:"ಲೋಡ್ ಆಗುತ್ತಿದೆ...",error:"ಪದಗಳನ್ನು ಲೋಡ್ ಮಾಡಲು ವಿಫಲವಾಗಿದೆ.",noData:"ದತ್ತಾಂಶ ಲಭ್ಯವಿಲ್ಲ.",confirmRemove:"ನೀವು ಆಯ್ಕೆಯಾದ ಪದಗಳನ್ನು ತೆಗೆದುಹಾಕಲು ಖಚಿತವಲ್ಲವೇ?",confirmSave:"ನೀವು ಆಯ್ಕೆ ಮಾಡಿದ ಪದಗಳನ್ನು ಉಳಿಸಲು ಖಚಿತವಲ್ಲವೇ?",selectAllColoumn:"ಎಲ್ಲವನ್ನೂ ಆಯ್ಕೆಮಾಡಿ",wordsColoumn:"ಪದಗಳು",frequencyColoumn:"ಆವರ್ತನ",yes:"ಹೌದು",no:"ಇಲ್ಲ"}};n.useEffect(()=>{(async()=>{try{const w=await oe();r(w),c(j)}catch(w){h(w)}finally{o(!1)}})()},[j]);const P=b=>{i(w=>w.includes(b)?w.filter($=>$!==b):[...w,b])},R=()=>{y.length===t.length?i([]):i(t.map(b=>b.word))},N=()=>{m(!0)},M=async()=>{const b=t.filter(w=>y.includes(w.word)).map(w=>({word:w.word,frequency:w.frequency}));u("");try{const w=await Gs(b,p);u(w.message||"Words saved successfully!"),await je(y);const $=await oe();r($),i([]),m(!1)}catch(w){console.error("Error saving words:",w),u("Failed to save words."),m(!1)}},T=()=>{f(!0)},E=async()=>{u("");try{const b=await je(y);u(b.message||"Words removed successfully!");const w=await oe();r(w),i([]),f(!1)}catch(b){console.error("Error removing words:",b),u("Failed to remove words."),f(!1)}};return a?e.jsx(I,{variant:"h5",className:"text-center mt-20",children:v[s].loading}):l?e.jsx(I,{variant:"h5",className:"text-center text-red-500 mt-20",children:v[s].error}):e.jsxs("div",{className:"p-4",children:[e.jsx(I,{variant:"h4",className:"font-bold text-center mt-8",children:v[s].userAddedWords}),e.jsx("div",{className:"overflow-y-auto mt-5",style:{maxHeight:"400px"},children:t.length===0?e.jsx(I,{variant:"h6",className:"text-center mt-5",children:v[s].noData}):e.jsx("div",{className:"relative",children:e.jsxs(Se,{className:"min-w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"border border-gray-300 p-2",children:[e.jsx(ge,{checked:y.length===t.length,onChange:R,color:"primary"}),v[s].selectAllColoumn]}),e.jsx("th",{className:"border border-gray-300 p-2",children:v[s].wordsColoumn}),e.jsx("th",{className:"border border-gray-300 p-2",children:v[s].frequencyColoumn})]})}),e.jsx("tbody",{children:t.map((b,w)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 p-1",children:e.jsx(ge,{checked:y.includes(b.word),onChange:()=>P(b.word),color:"primary"})}),e.jsx("td",{className:"border border-gray-300 p-1",children:b.word}),e.jsx("td",{className:"border border-gray-300 p-1",children:b.frequency})]},w))})]})})}),e.jsxs("div",{className:"text-center mt-10 flex justify-center space-x-4",children:[e.jsx(k,{variant:"contained",color:"primary",className:"px-6 py-2",onClick:N,children:v[s].saveButton}),e.jsx(k,{variant:"contained",color:"secondary",className:"px-6 py-2",onClick:T,children:v[s].removeButton})]}),d&&e.jsx(I,{className:`text-center font-bold mt-10 ${t.length===0?"text-green-500":"text-red-500"}`,children:d}),e.jsx(J,{open:x,onClose:()=>f(!1),children:e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsxs("div",{className:"bg-white rounded p-6 shadow-lg",children:[e.jsx(I,{variant:"h6",className:"text-center mb-4",children:v[s].confirmRemove}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(k,{variant:"contained",color:"primary",onClick:E,children:v[s].yes}),e.jsx(k,{variant:"outlined",onClick:()=>f(!1),children:v[s].no})]})]})})}),e.jsx(J,{open:g,onClose:()=>m(!1),children:e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsxs("div",{className:"bg-white rounded p-6 shadow-lg",children:[e.jsx(I,{variant:"h6",className:"text-center mb-4",children:v[s].confirmSave}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(k,{variant:"contained",color:"primary",onClick:M,children:v[s].yes}),e.jsx(k,{variant:"outlined",onClick:()=>m(!1),children:v[s].no})]})]})})})]})},st=()=>{const[s,t]=n.useState(!1),[r,a]=n.useState(!1),[o,l]=n.useState(null),[h,y]=n.useState(""),[i,p]=n.useState(!1),[c,d]=n.useState(""),[u,x]=n.useState("success"),{language:f}=U(),[g,m]=n.useState(""),j={en:{title:"Upload Dataset",confirmTitle:"Confirm Upload",confirmMessage:"Are you sure you want to upload this dataset?",error:"Please select a file before uploading.",uploadingMessage:"Uploading your dataset...",uploadSuccess:"Upload successful!",uploadFailure:"Failed to upload the dataset. Please try again.",cancel:"Cancel",confirm:"Confirm",info:"Uploading a file will directly modify the main dictionary. Ensure the dataset is in .txt or .docx format, containing a list of words. Changes may take time to reflect within the system. Please reload the dictionary from the main dashboard after the upload is complete."},kn:{title:"ಡೇಟಾಸೆಟ್ ಅಪ್‌ಲೋಡ್ ಮಾಡಿ",confirmTitle:"ಅಪ್ಲೋಡ್ ದೃಢೀಕರಿಸಿ",confirmMessage:"ಈ ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲು ನೀವು ಖಚಿತವಾಗಿದ್ದೀರಾ?",error:"ದಯವಿಟ್ಟು ಅಪ್ಲೋಡ್ ಮಾಡುವ ಮೊದಲು ಫೈಲ್ ಅನ್ನು ಆಯ್ಕೆಮಾಡಿ.",uploadingMessage:"ನಿಮ್ಮ ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲಾಗುತ್ತಿದೆ...",uploadSuccess:"ಅಪ್‌ಲೋಡ್ ಯಶಸ್ವಿ!",uploadFailure:"ಡೇಟಾಸೆಟ್ ಅನ್ನು ಅಪ್‌ಲೋಡ್ ಮಾಡಲು ವಿಫಲವಾಗಿದೆ. ದಯವಿಟ್ಟು ಪುನರಾಯಿಸಲು ಪ್ರಯತ್ನಿಸಿ.",cancel:"ರದ್ದುಮಾಡಿ",confirm:"ದೃಢೀಕರಿಸಿ",info:"ಫೈಲ್ ಅಪ್ಲೋಡ್ ಮಾಡುವುದರಿಂದ ಮುಖ್ಯ ಡಿಕ್ಷನರಿ ನೇರವಾಗಿ ಬದಲಾಯಿಸಲಿದೆ. ಪದಗಳ ಪಟ್ಟಿಯನ್ನು ಹೊಂದಿರುವ ಸರಿಯಾದ ಡೇಟಾಸೆಟ್ ಅನ್ನು .txt ಅಥವಾ .docx ರೂಪದಲ್ಲಿ ಅಪ್ಲೋಡ್ ಮಾಡುವುದನ್ನು ಖಚಿತಪಡಿಸಿಕೊಳ್ಳಿ. ಬದಲಾವಣೆಗಳು ವ್ಯವಸ್ಥೆಯಲ್ಲಿ ಕಾಣಲು ಸ್ವಲ್ಪ ಸಮಯ ಬೇಕಾಗಬಹುದು. ದಯವಿಟ್ಟು ಡ್ಯಾಶ್‌ಬೋರ್ಡ್‌ನಲ್ಲಿ ಡಿಕ್ಷನರಿಯನ್ನು ಮರುಲೋಡ್ ಮಾಡಿ."}},v=T=>{l(T.target.files[0])},P=async T=>{if(T.preventDefault(),!o){y(j[f].error);return}t(!0)},R=async()=>{a(!0),y(""),m("");try{const T=await Js(o);console.log("Update successful:",T),d(T.message||j[f].uploadSuccess),x("success"),p(!0),m(T.message||j[f].uploadSuccess)}catch(T){console.error("Error during update:",T),d(j[f].uploadFailure),x("error"),p(!0),m(j[f].uploadFailure)}finally{a(!1),l(null)}},N=()=>{t(!1),l(null),m("")},M=()=>{p(!1)};return e.jsxs("div",{className:"mt-20",children:[e.jsx("h1",{className:"text-2xl font-bold text-center",children:j[f].title}),e.jsx(L,{component:"div",sx:{whiteSpace:"normal",overflowX:"auto",my:2,p:1,bgcolor:"grey.100",color:"grey.800",border:"1px solid",borderColor:"grey.300",borderRadius:2,fontSize:"0.875rem",fontWeight:"700"},children:j[f].info}),e.jsxs("form",{onSubmit:P,className:"mt-10 ml-20 mb-[100%]",children:[e.jsx("input",{type:"file",accept:".csv, .xlsx",className:"mb-4",required:!0,onChange:v}),e.jsx(k,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(ss,{}),children:"Upload"})]}),e.jsx(J,{open:s,onClose:N,children:e.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:e.jsx("div",{className:"bg-white p-6 rounded shadow-lg",children:r?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(V,{}),e.jsx("p",{className:"mt-4",children:j[f].uploadingMessage})]}):e.jsx(e.Fragment,{children:g?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold",children:j[f].uploadSuccess}),e.jsx("p",{children:g}),e.jsx("div",{className:"mt-4",children:e.jsx(k,{onClick:N,color:"primary",children:"OK"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold",children:j[f].confirmTitle}),e.jsx("p",{children:j[f].confirmMessage}),e.jsx("p",{className:"text-red-600",children:h}),e.jsxs("div",{className:"mt-4",children:[e.jsx(k,{onClick:R,color:"primary",children:j[f].confirm}),e.jsx(k,{onClick:N,color:"secondary",className:"ml-2",children:j[f].cancel})]})]})})})})}),e.jsx(le,{open:i,autoHideDuration:6e3,onClose:M,children:e.jsx(ke,{onClose:M,severity:u,children:c})})]})},tt=()=>{const[s,t]=n.useState([]),[r,a]=n.useState(null),[o,l]=n.useState(!1),[h,y]=n.useState(""),[i,p]=n.useState(!1),{language:c}=U(),d={en:{title:"Separate Typical Words",searchPlaceholder:"Search...",fileUploadLabel:"Upload a file",processButton:"Process",exportCSV:"Export to CSV",index:"Index",word:"Word",frequency:"Frequency",successMessage:"Data processed successfully.",errorMessage:"Error processing the file.",selectFileMessage:"Please select a file to process.",noDataMessage:"No data available for export."},kn:{title:"ಸಾಮಾನ್ಯ ಶಬ್ದಗಳನ್ನು ವಿಭಜಿತಗೊಳಿಸಿ",searchPlaceholder:"ಶೋಧಿಸಿ...",fileUploadLabel:"ಏಕಕೋಶವನ್ನು ಅಪ್ಲೋಡ್ ಮಾಡಿ",processButton:"ಕೋಶ",exportCSV:"CSVಗೆ ರಫ್ತು",index:"ಇಂಡೆಕ್ಸ್",word:"ಶಬ್ದ",frequency:"ಅರ್ಜು",successMessage:"ದತ್ತಾಂಶವು ಯಶಸ್ವಿಯಾಗಿ ಸಂಸ್ಕರಿಸಲಾಯಿತು.",errorMessage:"ಕೋಶವಿಲ್ಲದ ಫೈಲ್.",selectFileMessage:"ದಯವಿಟ್ಟು ಪ್ರಕ್ರಿಯೆಗೋಸ್ಕರ ಫೈಲ್ ಅನ್ನು ಆಯ್ಕೆ ಮಾಡಿ.",noDataMessage:"ರಫ್ತುಗೋಸ್ಕರ ಯಾವುದೇ ಡೇಟಾ ಲಭ್ಯವಿಲ್ಲ."}},u=ve.useMemo(()=>[{Header:d[c].index,accessor:"index"},{Header:d[c].word,accessor:"word"},{Header:d[c].frequency,accessor:"frequency"}],[c]),{getTableProps:x,getTableBodyProps:f,headerGroups:g,rows:m,prepareRow:j,setGlobalFilter:v}=re.useTable({columns:u,data:s},re.useGlobalFilter,re.useSortBy),P=E=>{s.length===0?(y(d[c].noDataMessage),l(!0)):v(E.target.value||void 0)},R=E=>{const b=E.target.files[0];a(b)},N=async()=>{if(!r){y(d[c].selectFileMessage),l(!0);return}p(!0);try{const E=await Zs(r),b=Object.keys(E).map((w,$)=>({index:$+1,word:w,frequency:E[w]}));t(b),y(d[c].successMessage),l(!0)}catch(E){console.error("Error during processing:",E),y(d[c].errorMessage),l(!0)}finally{p(!1),a(null)}},M=()=>{l(!1)},T={position:"sticky",top:0,backgroundColor:"#fff",zIndex:1};return e.jsxs(Ce,{elevation:3,style:{padding:"70px",margin:"20px"},children:[e.jsx(I,{variant:"h6",align:"center",gutterBottom:!0,children:d[c].title}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[e.jsx("input",{type:"file",accept:".txt,.docx",onChange:R,style:{marginRight:"10px",marginBottom:"20px"}}),e.jsx(k,{variant:"contained",color:"primary",onClick:N,disabled:i,style:{marginLeft:"10px"},children:i?e.jsx(V,{size:24,color:"inherit"}):d[c].processButton})]}),e.jsx(I,{variant:"body2",align:"center",style:{marginBottom:"20px"},children:d[c].fileUploadLabel}),e.jsx(Q,{variant:"outlined",placeholder:d[c].searchPlaceholder,onChange:P,fullWidth:!0,style:{marginBottom:"20px"}}),e.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:e.jsx(ms,{data:s,filename:"words_frequency.csv",style:{textDecoration:"none",margin:"0 10px"},onClick:()=>{s.length===0&&(y(d[c].noDataMessage),l(!0))},children:e.jsx(k,{variant:"contained",color:"primary",disabled:s.length===0,children:d[c].exportCSV})})}),e.jsx(ts,{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs(Se,{...x(),"aria-label":"simple table",children:[e.jsx(rs,{children:g.map(E=>n.createElement(se,{...E.getHeaderGroupProps(),key:E.id},E.headers.map(b=>n.createElement(te,{...b.getHeaderProps(b.getSortByToggleProps()),key:b.id,style:T},b.render("Header"),e.jsx("span",{children:b.isSorted?b.isSortedDesc?" 🔽":" 🔼":""})))))}),e.jsx(os,{...f(),children:m.length>0?m.map(E=>(j(E),n.createElement(se,{...E.getRowProps(),key:E.id},E.cells.map(b=>n.createElement(te,{...b.getCellProps(),key:b.id},b.render("Cell")))))):e.jsx(se,{children:e.jsx(te,{colSpan:u.length,align:"center",children:i?e.jsx(V,{}):"No data available."})})})]})}),e.jsx(le,{open:o,autoHideDuration:6e3,onClose:M,children:e.jsx(ke,{onClose:M,severity:"info",sx:{width:"100%"},children:h})})]})},we=()=>{const{language:s}=U(),t={en:{title:"404",message:"Page Not Found",description:"Sorry, the page you are looking for does not exist.",homeLink:"Go to Home"},kn:{title:"404",message:"ಪುಟ ದೊರೆಯಲಿಲ್ಲ",description:"ಕ್ಷಮಿಸಿ, ನೀವು ಹುಡುಕುತ್ತಿರುವ ಪುಟ ದೊರೆಯುತ್ತಿಲ್ಲ.",homeLink:"ಮುಖ ಪುಟಕ್ಕೆ ಹೋಗಿ"}};return e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 px-4",children:[" ",e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-red-600",children:t[s].title})," ",e.jsx("h2",{className:"text-3xl md:text-4xl mt-4",children:t[s].message})," ",e.jsx("p",{className:"mt-2 text-gray-600 text-center max-w-md",children:t[s].description})," ",e.jsx(q,{to:"/",className:"mt-6 bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700 transition duration-200",children:t[s].homeLink})]})};class rt extends ve.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error boundary caught an error",t,r)}render(){return this.state.hasError?e.jsx("h1",{children:"Something went wrong."}):this.props.children}}const ee={bloomDetails:"/bloom/api/v1/bloom_stats/",symspellDetails:"/symspell/api/v1/symspell/details/",userAddedWords:"/user-added/api/v1/user-added-words/stats",reloadDataApi:"/admin/reload"},ot=async()=>{try{return(await A.get(ee.bloomDetails)).data}catch(s){throw console.error("Failed to fetch Bloom stats:",s),s}},at=async()=>{try{return(await A.get(ee.symspellDetails)).data}catch(s){throw console.error("Failed to fetch SymSpell details:",s),s}},nt=async()=>{try{return(await A.get(ee.userAddedWords)).data}catch(s){throw console.error("Failed to fetch SymSpell details:",s),s}},lt=async()=>{try{return(await A.get(ee.reloadDataApi)).data}catch(s){throw console.log("Failed to reload"),s}},it=()=>{const{language:s}=U(),t={en:{dashboard:"Main Dashboard",dictionaryDetails:"Dictionary Details: BLOOM and Symspell",totalWordsInDictionary:"Total Word In Dictionary",bloomCapacity:"Bloom capacity",isEmptyDictionary:"Is Dictionary empty",ErrorRateInBloom:"Error Rate In Bloom",ReloadData:"Reload Data",sysmpsellLoadedWords:"Symspell loaded words",ErrorRateInSysmspell:"Error Rate in Symspell",otherDetailsInSysmpsell:"Other Details in Symspell",totalWordsAddedByuser:"Total Words Added By User",loading:"Loading..."},kn:{dashboard:"ಮುಖ್ಯ ಡ್ಯಾಶ್‌ಬೋರ್ಡ್",dictionaryDetails:"ಪದಕೋಶದ ವಿವರಗಳು",totalWordsInDictionary:"ಪದಕೋಶದ ಕನ್ನಡ ಶಬ್ದಗಳ ಗಣತ್ರೆ",bloomCapacity:"Bloom ಅಕ್ಷಮಾಂಶ",isEmptyDictionary:"ಪದಕೋಶ ಖಾಲಿ",ErrorRateInBloom:"Bloom ದೋಷ ಪ್ರಮಾಣ",ReloadData:"ಮತ್ತೆ ಲೋಡ್ ಮಾಡಿ",sysmpsellLoadedWords:"ಸಿಸ್ಟ್ಮ್ಪ್ಲೆಲ್ ಲೋಡ್ ಇನ್ನು ಶಬ್ದಗಳು",ErrorRateInSysmspell:"ದೋಷ ಪ್ರಮಾಣ",otherDetailsInSysmpsell:"ಇತರೆ ವಿವರಗಳು",totalWordsAddedByuser:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಶಬ್ದಗಳ ಒಟ್ಟು ಸಂಖ್ಯೆ",loading:"ಲೋಡಿಂಗ್..."}},[r,a]=n.useState(null),[o,l]=n.useState(null),[h,y]=n.useState(null),[i,p]=n.useState(null),[c,d]=n.useState(null),[u,x]=n.useState(!1);n.useEffect(()=>{(async()=>{try{x(!0);const m=await ot(),j=await at(),v=await nt();a(m),l(j),y(v)}catch(m){p(m)}finally{x(!1)}})()},[c]);const f=async()=>{try{x(!0);const g=await lt();d(g)}catch(g){p(g)}finally{x(!1)}};return i?e.jsxs("div",{children:["Error fetching data: ",i.message]}):e.jsxs("div",{className:"p-6 mt-10 mb-[100%]",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:t[s].dashboard}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:t[s].dictionaryDetails}),u?e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(V,{})," ",e.jsx("p",{className:"ml-2",children:t[s].loading})]}):r&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-700",children:[t[s].totalWordsInDictionary,": ",r.size]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].bloomCapacity,": ",r.capacity]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].isEmptyDictionary,": ",r.is_empty]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].ErrorRateInBloom,": ",r.error_rate]}),e.jsx("div",{className:"mt-4",children:e.jsx(k,{variant:"contained",color:"primary",onClick:f,disabled:u,children:t[s].ReloadData})}),c&&e.jsx("h3",{className:"mt-4 text-gray-700",children:(c==null?void 0:c.message)||"No message available"})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:t[s].dictionaryDetails}),o&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-700",children:[t[s].sysmpsellLoadedWords,":"," ",o.loaded_words]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].ErrorRateInSysmspell,":"," ",o.error_rate]}),e.jsxs("p",{className:"text-gray-700",children:[t[s].otherDetailsInSysmpsell,":"," ",o.other_details]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:t[s].totalWordsAddedByuser}),r&&e.jsx(e.Fragment,{children:e.jsxs("p",{className:"text-gray-700",children:[t[s].totalWordsAddedByuser,": ",h]})})]})]})]})},dt=()=>{const{isAuthenticated:s}=Z(),t=localStorage.getItem("access_token");return s||t?e.jsx(is,{}):e.jsx(We,{to:"/login"})},ct=()=>{const{logout:s}=Z(),t=G();return n.useEffect(()=>{s(),t("/login")},[s,t]),null},ut=()=>{const s=G(),{language:t}=U(),{loggedUser:r,logout:a}=Z(),[o,l]=n.useState(!1),[h,y]=n.useState(!0),[i,p]=n.useState("/admin/dashboard"),c={en:{dashboard:"Main Dashboard",addUser:"Add User",addedWords:"User Added Words",uploadDataset:"Upload Dataset",users:"Users",separateWords:"Separate Typical Words",logout:"Logout"},kn:{dashboard:"ಮುಖ್ಯ ಡ್ಯಾಶ್‌ಬೋರ್ಡ್",addUser:"ಬಳಕೆದಾರರನ್ನು ಸೇರಿಸಿ",addedWords:"ಬಳಕೆದಾರರು ಸೇರಿಸಿದ ಪದಗಳು",uploadDataset:"ಡೇಟಾಸೆಟ್ ಅಪ್ಲೋಡ್ ಮಾಡಿ",users:"ಬಳಕೆದಾರರು",separateWords:"ಟಿಪ್ಪಣಿಯ ಶಬ್ದಗಳನ್ನು ಪ್ರತ್ಯೇಕಿಸಿ",logout:"ಲಾಗ್‌ಔಟ್"}},d=f=>{p(f),s(f)},u=()=>{l(!o)},x=()=>{y(!h)};return n.useEffect(()=>{},[r]),e.jsxs(e.Fragment,{children:[e.jsx(Y,{onClick:x,sx:{position:"fixed",top:"70px",left:"15px",zIndex:50,backgroundColor:"gray.800",color:"white","&:hover":{backgroundColor:"green"},transition:"background-color 0.3s"},children:h?e.jsx(ie,{}):e.jsx(Ne,{})}),h&&e.jsxs(L,{className:"w-64 bg-gray-800 text-white h-full",sx:{position:"fixed",top:0,left:0,zIndex:40,padding:"16px",paddingTop:"100px",overflowY:"auto",transition:"transform 0.3s ease"},children:[e.jsx(I,{variant:"h6",sx:{marginBottom:2,fontWeight:"bold",textAlign:"center"},children:"Admin Dashboard"}),e.jsx(L,{className:"space-y-2",children:Object.entries(c[t]).slice(0,-1).map(([f,g])=>e.jsx(fe,{component:q,to:`/admin/${f.replace(/([A-Z])/g,"-$1").toLowerCase()}`,onClick:()=>d(`/admin/${f.replace(/([A-Z])/g,"-$1").toLowerCase()}`),className:`block w-full text-left p-2 rounded transition-colors duration-200 ${i===`/admin/${f.replace(/([A-Z])/g,"-$1").toLowerCase()}`?"bg-gray-600":"hover:bg-gray-700"}`,sx:{textDecoration:"none",color:"inherit"},children:g},f))}),e.jsx(de,{sx:{marginY:2,backgroundColor:"gray.600"}}),e.jsxs(L,{className:"relative mt-4",children:[e.jsxs("div",{className:"flex items-center cursor-pointer",onClick:u,children:[e.jsx(as,{className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"ml-2",children:r||"User"})]}),o&&e.jsxs(fe,{onClick:a,className:"flex items-center w-full text-left mt-2 p-2 bg-gray-600 rounded hover:bg-gray-700 transition-colors duration-200 text-white",sx:{textDecoration:"none",color:"inherit"},children:[e.jsx(ns,{className:"mr-2"}),c[t].logout]})]})]})]})};function mt(){return e.jsx(rt,{children:e.jsx(Es,{children:e.jsx(Me,{children:e.jsx(Hs,{children:e.jsx(ht,{})})})})})}const ht=()=>{const t=ce().pathname.startsWith("/admin");return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Us,{}),e.jsxs("div",{className:"flex flex-1 overflow-auto",children:[t&&e.jsx(ut,{})," ",e.jsx("div",{className:`flex-grow ${t?"ml-64":""}`,children:e.jsxs(ds,{children:[e.jsx(F,{path:"/",element:e.jsx(Bs,{})}),e.jsx(F,{path:"/editor",element:e.jsx(Is,{})}),e.jsx(F,{path:"/about",element:e.jsx(qs,{})}),e.jsx(F,{path:"/login",element:e.jsx(zs,{})}),e.jsx(F,{path:"/logout",element:e.jsx(ct,{})}),e.jsx(F,{path:"/admin",element:e.jsx(We,{to:"/admin/dashboard"})})," ",e.jsxs(F,{path:"/admin",element:e.jsx(dt,{}),children:[e.jsx(F,{path:"dashboard",element:e.jsx(it,{})}),e.jsx(F,{path:"users",element:e.jsx(Qs,{})}),e.jsx(F,{path:"add-user",element:e.jsx(Xs,{})}),e.jsx(F,{path:"added-words",element:e.jsx(et,{})}),e.jsx(F,{path:"upload-dataset",element:e.jsx(st,{})}),e.jsx(F,{path:"separate-words",element:e.jsx(tt,{})}),e.jsx(F,{path:"*",element:e.jsx(we,{})})]}),e.jsx(F,{path:"*",element:e.jsx(we,{})})]})})]}),e.jsx(Ps,{})," "]})};Re(document.getElementById("root")).render(e.jsx(fs,{children:e.jsx(mt,{})}));
