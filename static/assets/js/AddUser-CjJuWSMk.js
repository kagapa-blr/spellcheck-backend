import{r,j as e}from"./react-Bl8E5IuX.js";import{u as S}from"./index-BPX8MW5w.js";import{s as k}from"./loginServices-T_hb698B.js";import{g as q,t as E,B as U,a as M}from"./@mui-CnGH6ATm.js";import"./@xmldom-BKc_IZtg.js";import"./react-dom-D2p-lIFc.js";import"./scheduler-CWG1rEj-.js";import"./jspdf-Bl93u6rT.js";import"./@babel-CmLpJG3-.js";import"./fflate-B2WnmEVw.js";import"./fast-png-CMV4RlVR.js";import"./iobuffer-BmLRrqXH.js";import"./react-router-dom-B1qGaJ2j.js";import"./react-router-CD8NSrr0.js";import"./@remix-run-sy-dwM7X.js";import"./axios-C0Zqfgkc.js";import"./react-is-CeStwY2e.js";import"./clsx-B-dksMZM.js";import"./prop-types-DR1dB6Ma.js";import"./reselect-DZLbCFhA.js";import"./use-sync-external-store-4iKEuUk0.js";import"./@emotion-DcIGMyTZ.js";import"./hoist-non-react-statics-BTNdDy0I.js";import"./stylis-DDa9OTMq.js";import"./react-transition-group-BfhPo8fl.js";import"./@popperjs-DC5wud4b.js";import"./jwt-decode-VWaDGczM.js";const oe=()=>{const[i,d]=r.useState(""),[c,u]=r.useState(""),[p,x]=r.useState(""),[n,h]=r.useState(""),[b,g]=r.useState(""),[j,f]=r.useState(!1),[y,o]=r.useState(!1),[N,m]=r.useState(""),{language:s}=S(),t={en:{title:"Add Administrators",username:"Username",email:"Email",phone:"Phone",password:"Password",confirmPassword:"Confirm Password",success:"User added successfully!",mismatch:"Passwords do not match"},kn:{title:"ನಿರ್ವಾಹಕರನ್ನು ಸೇರಿಸಿ",username:"ಬಳಕೆದಾರ ಹೆಸರು",email:"ಇಮೇಲ್",phone:"ಫೋನ್",password:"ಪಾಸ್ವರ್ಡ್",confirmPassword:"ಪಾಸ್ವರ್ಡ್ ದೃಢೀಕರಿಸಿ",success:"ಬಳಕೆದಾರ ಯಶಸ್ವಿಯಾಗಿ ಸೇರಿಸಲಾಗಿದೆ!",mismatch:"ಪಾಸ್ವರ್ಡ್ ಹೊಂದಿಲ್ಲ"}},v=async a=>{if(a.preventDefault(),n===b){f(!0);const C={username:i,email:c,phone:p,password:n};try{const l=await k(C);console.log(l),m(t[s].success),o(!0)}catch(l){console.error("Error during signup:",l),m(l.message||"Signup failed. Please try again."),o(!0)}finally{f(!1)}}else m(t[s].mismatch),o(!0)},P=()=>{d(""),u(""),x(""),h(""),g("")},w=()=>{o(!1)};return e.jsxs("div",{className:"p-4 lg:w-1/2 md:w-2/3 sm:w-full lg:ml-auto lg:mr-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-center",children:t[s].title}),e.jsxs("form",{onSubmit:v,className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:t[s].username}),e.jsx("input",{type:"text",placeholder:t[s].username,value:i,onChange:a=>d(a.target.value),className:"border p-2 rounded mb-2 w-full text-normal",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:t[s].email}),e.jsx("input",{type:"email",placeholder:t[s].email,value:c,onChange:a=>u(a.target.value),className:"border p-2 rounded mb-2 w-full text-normal",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:t[s].phone}),e.jsx("input",{type:"text",placeholder:t[s].phone,value:p,onChange:a=>x(a.target.value),className:"border p-2 rounded mb-2 w-full text-normal",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:t[s].password}),e.jsx("input",{type:"password",placeholder:t[s].password,value:n,onChange:a=>h(a.target.value),className:"border p-2 rounded mb-2 w-full text-normal",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:t[s].confirmPassword}),e.jsx("input",{type:"password",placeholder:t[s].confirmPassword,value:b,onChange:a=>g(a.target.value),className:"border p-2 rounded mb-2 w-full text-normal",required:!0})]}),e.jsx("div",{className:"flex justify-center space-x-4",children:j?e.jsx(q,{}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded px-4 py-2 w-full transition duration-300 hover:bg-blue-700",children:t[s].title}),e.jsx("button",{type:"button",className:"bg-red-600 text-white rounded px-4 py-2 w-full transition duration-300 hover:bg-red-700",onClick:P,children:"Reset"})]})})]}),e.jsx(E,{open:y,onClose:w,children:e.jsxs(U,{className:"bg-white p-6 rounded shadow-lg w-96 mx-auto mt-32",children:[e.jsx("p",{className:"mb-4 text-gray-700",children:N}),e.jsx(M,{onClick:w,variant:"contained",color:"primary",children:"OK"})]})})]})};export{oe as default};
